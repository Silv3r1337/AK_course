function noop(){}const identity=t=>t;function assign(t,e){for(const n in e)t[n]=e[n];return t}function is_promise(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function not_equal(t,e){return t!=t?e==e:t!==e}function is_empty(t){return 0===Object.keys(t).length}function subscribe(t,...e){if(null==t)return noop;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function component_subscribe(t,e,n){t.$$.on_destroy.push(subscribe(e,n))}function create_slot(t,e,n,r){if(t){const i=get_slot_context(t,e,n,r);return t[0](i)}}function get_slot_context(t,e,n,r){return t[1]&&r?assign(n.ctx.slice(),t[1](r(e))):n.ctx}function get_slot_changes(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function update_slot_base(t,e,n,r,i,s){if(i){const a=get_slot_context(e,n,r,s);t.p(a,i)}}function get_all_dirty_from_scope(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function exclude_internal_props(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function compute_rest_props(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function null_to_empty(t){return null==t?"":t}function action_destroyer(t){return t&&is_function(t.destroy)?t.destroy:noop}function split_css_unit(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const is_client="undefined"!=typeof window;let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?t=>requestAnimationFrame(t):noop;const tasks=new Set;function run_tasks(t){tasks.forEach((e=>{e.c(t)||(tasks.delete(e),e.f())})),0!==tasks.size&&raf(run_tasks)}function loop(t){let e;return 0===tasks.size&&raf(run_tasks),{promise:new Promise((n=>{tasks.add(e={c:t,f:n})})),abort(){tasks.delete(e)}}}let is_hydrating=!1;function start_hydrating(){is_hydrating=!0}function end_hydrating(){is_hydrating=!1}function upper_bound(t,e,n,r){for(;t<e;){const i=t+(e-t>>1);n(i)<=r?t=i+1:e=i}return t}function init_hydrate(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const r=e[n];void 0!==r.claim_order&&t.push(r)}e=t}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let i=0;for(let t=0;t<e.length;t++){const s=e[t].claim_order,a=(i>0&&e[n[i]].claim_order<=s?i+1:upper_bound(1,i,(t=>e[n[t]].claim_order),s))-1;r[t]=n[a]+1;const o=a+1;n[o]=t,i=Math.max(o,i)}const s=[],a=[];let o=e.length-1;for(let t=n[i]+1;0!=t;t=r[t-1]){for(s.push(e[t-1]);o>=t;o--)a.push(e[o]);o--}for(;o>=0;o--)a.push(e[o]);s.reverse(),a.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<a.length;e++){for(;n<s.length&&a[e].claim_order>=s[n].claim_order;)n++;const r=n<s.length?s[n]:null;t.insertBefore(a[e],r)}}function append(t,e){t.appendChild(e)}function get_root_for_style(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function append_empty_stylesheet(t){const e=element("style");return append_stylesheet(get_root_for_style(t),e),e.sheet}function append_stylesheet(t,e){return append(t.head||t,e),e.sheet}function append_hydration(t,e){if(is_hydrating){for(init_hydrate(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function insert(t,e,n){t.insertBefore(e,n||null)}function insert_hydration(t,e,n){is_hydrating&&!n?append_hydration(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function detach(t){t.parentNode&&t.parentNode.removeChild(t)}function destroy_each(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function prevent_default(t){return function(e){return e.preventDefault(),t.call(this,e)}}function stop_propagation(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function attr(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const always_set_through_set_attribute=["width","height"];function set_attributes(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set&&-1===always_set_through_set_attribute.indexOf(r)?t[r]=e[r]:attr(t,r,e[r])}function children(t){return Array.from(t.childNodes)}function init_claim_info(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}function claim_node(t,e,n,r,i=!1){init_claim_info(t);const s=(()=>{for(let r=t.claim_info.last_index;r<t.length;r++){const s=t[r];if(e(s)){const e=n(s);return void 0===e?t.splice(r,1):t[r]=e,i||(t.claim_info.last_index=r),s}}for(let r=t.claim_info.last_index-1;r>=0;r--){const s=t[r];if(e(s)){const e=n(s);return void 0===e?t.splice(r,1):t[r]=e,i?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=r,s}}return r()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function claim_element_base(t,e,n,r){return claim_node(t,(t=>t.nodeName===e),(t=>{const e=[];for(let r=0;r<t.attributes.length;r++){const i=t.attributes[r];n[i.name]||e.push(i.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>r(e)))}function claim_element(t,e,n){return claim_element_base(t,e,n,element)}function claim_svg_element(t,e,n){return claim_element_base(t,e,n,svg_element)}function claim_text(t,e){return claim_node(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>text(e)),!0)}function claim_space(t){return claim_text(t," ")}function find_comment(t,e,n){for(let r=n;r<t.length;r+=1){const n=t[r];if(8===n.nodeType&&n.textContent.trim()===e)return r}return t.length}function claim_html_tag(t,e){const n=find_comment(t,"HTML_TAG_START",0),r=find_comment(t,"HTML_TAG_END",n);if(n===r)return new HtmlTagHydration(void 0,e);init_claim_info(t);const i=t.splice(n,r-n+1);detach(i[0]),detach(i[i.length-1]);const s=i.slice(1,i.length-1);for(const e of s)e.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1;return new HtmlTagHydration(s,e)}function set_data(t,e){e=""+e,t.data!==e&&(t.data=e)}function set_input_value(t,e){t.value=null==e?"":e}function set_style(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function toggle_class(t,e,n){t.classList[n?"add":"remove"](e)}function custom_event(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}function head_selector(t,e){const n=[];let r=0;for(const i of e.childNodes)if(8===i.nodeType){const e=i.textContent.trim();e===`HEAD_${t}_END`?(r-=1,n.push(i)):e===`HEAD_${t}_START`&&(r+=1,n.push(i))}else r>0&&n.push(i);return n}class HtmlTag{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=svg_element(e.nodeName):this.e=element(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)insert(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(detach)}}class HtmlTagHydration extends HtmlTag{constructor(t,e=!1){super(e),this.e=this.n=null,this.l=t}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let e=0;e<this.n.length;e+=1)insert_hydration(this.t,this.n[e],t)}}function construct_svelte_component(t,e){return new t(e)}const managed_styles=new Map;let active=0,current_component;function hash$1(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function create_style_information(t,e){const n={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(t,n),n}function create_rule(t,e,n,r,i,s,a,o=0){const l=16.666/r;let c="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*s(t);c+=100*t+`%{${a(r,1-r)}}\n`}const h=c+`100% {${a(n,1-n)}}\n}`,p=`__svelte_${hash$1(h)}_${o}`,d=get_root_for_style(t),{stylesheet:u,rules:f}=managed_styles.get(d)||create_style_information(d,t);f[p]||(f[p]=!0,u.insertRule(`@keyframes ${p} ${h}`,u.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${p} ${r}ms linear ${i}ms 1 both`,active+=1,p}function delete_rule(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),active-=i,active||clear_rules())}function clear_rules(){raf((()=>{active||(managed_styles.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&detach(e)})),managed_styles.clear())}))}function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function beforeUpdate(t){get_current_component().$$.before_update.push(t)}function onMount(t){get_current_component().$$.on_mount.push(t)}function afterUpdate(t){get_current_component().$$.after_update.push(t)}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function createEventDispatcher(){const t=get_current_component();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=custom_event(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0,promise;function flush(){if(0!==flushidx)return;const t=current_component;do{try{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}}catch(t){throw dirty_components.length=0,flushidx=0,t}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const e=render_callbacks[t];seen_callbacks.has(e)||(seen_callbacks.add(e),e())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(null!==t.fragment){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}function flush_render_callbacks(t){const e=[],n=[];render_callbacks.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),render_callbacks=e}function wait(){return promise||(promise=Promise.resolve(),promise.then((()=>{promise=null}))),promise}function dispatch(t,e,n){t.dispatchEvent(custom_event(`${e?"intro":"outro"}${n}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,n,r){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push((()=>{outroing.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const null_transition={duration:0};function create_in_transition(t,e,n){const r={direction:"in"};let i,s,a=e(t,n,r),o=!1,l=0;function c(){i&&delete_rule(t,i)}function h(){const{delay:e=0,duration:n=300,easing:r=identity,tick:h=noop,css:p}=a||null_transition;p&&(i=create_rule(t,0,1,n,e,r,p,l++)),h(0,1);const d=now()+e,u=d+n;s&&s.abort(),o=!0,add_render_callback((()=>dispatch(t,!0,"start"))),s=loop((e=>{if(o){if(e>=u)return h(1,0),dispatch(t,!0,"end"),c(),o=!1;if(e>=d){const t=r((e-d)/n);h(t,1-t)}}return o}))}let p=!1;return{start(){p||(p=!0,delete_rule(t),is_function(a)?(a=a(r),wait().then(h)):h())},invalidate(){p=!1},end(){o&&(c(),o=!1)}}}function create_out_transition(t,e,n){const r={direction:"out"};let i,s=e(t,n,r),a=!0;const o=outros;function l(){const{delay:e=0,duration:n=300,easing:r=identity,tick:l=noop,css:c}=s||null_transition;c&&(i=create_rule(t,1,0,n,e,r,c));const h=now()+e,p=h+n;add_render_callback((()=>dispatch(t,!1,"start"))),loop((e=>{if(a){if(e>=p)return l(0,1),dispatch(t,!1,"end"),--o.r||run_all(o.c),!1;if(e>=h){const t=r((e-h)/n);l(1-t,t)}}return a}))}return o.r+=1,is_function(s)?wait().then((()=>{s=s(r),l()})):l(),{end(e){e&&s.tick&&s.tick(1,0),a&&(i&&delete_rule(t,i),a=!1)}}}function create_bidirectional_transition(t,e,n,r){const i={direction:"both"};let s=e(t,n,i),a=r?0:1,o=null,l=null,c=null;function h(){c&&delete_rule(t,c)}function p(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function d(e){const{delay:n=0,duration:r=300,easing:i=identity,tick:d=noop,css:u}=s||null_transition,f={start:now()+n,b:e};e||(f.group=outros,outros.r+=1),o||l?l=f:(u&&(h(),c=create_rule(t,a,e,r,n,i,u)),e&&d(0,1),o=p(f,r),add_render_callback((()=>dispatch(t,e,"start"))),loop((e=>{if(l&&e>l.start&&(o=p(l,r),l=null,dispatch(t,o.b,"start"),u&&(h(),c=create_rule(t,a,o.b,o.duration,0,i,s.css))),o)if(e>=o.end)d(a=o.b,1-a),dispatch(t,o.b,"end"),l||(o.b?h():--o.group.r||run_all(o.group.c)),o=null;else if(e>=o.start){const t=e-o.start;a=o.a+o.d*i(t/o.duration),d(a,1-a)}return!(!o&&!l)})))}return{run(t){is_function(s)?wait().then((()=>{s=s(i),d(t)})):d(t)},end(){h(),o=l=null}}}function handle_promise(t,e){const n=e.token={};function r(t,r,i,s){if(e.token!==n)return;e.resolved=s;let a=e.ctx;void 0!==i&&(a=a.slice(),a[i]=s);const o=t&&(e.current=t)(a);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(group_outros(),transition_out(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),check_outros())})):e.block.d(1),o.c(),transition_in(o,1),o.m(e.mount(),e.anchor),l=!0),e.block=o,e.blocks&&(e.blocks[r]=o),l&&flush()}if(is_promise(t)){const n=get_current_component();if(t.then((t=>{set_current_component(n),r(e.then,1,e.value,t),set_current_component(null)}),(t=>{if(set_current_component(n),r(e.catch,2,e.error,t),set_current_component(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function update_await_block_branch(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function outro_and_destroy_block(t,e){transition_out(t,1,1,(()=>{e.delete(t.key)}))}function update_keyed_each(t,e,n,r,i,s,a,o,l,c,h,p){let d=t.length,u=s.length,f=d;const m={};for(;f--;)m[t[f].key]=f;const g=[],y=new Map,_=new Map,v=[];for(f=u;f--;){const t=p(i,s,f),o=n(t);let l=a.get(o);l?r&&v.push((()=>l.p(t,e))):(l=c(o,t),l.c()),y.set(o,g[f]=l),o in m&&_.set(o,Math.abs(f-m[o]))}const b=new Set,x=new Set;function E(t){transition_in(t,1),t.m(o,h),a.set(t.key,t),h=t.first,u--}for(;d&&u;){const e=g[u-1],n=t[d-1],r=e.key,i=n.key;e===n?(h=e.first,d--,u--):y.has(i)?!a.has(r)||b.has(r)?E(e):x.has(i)?d--:_.get(r)>_.get(i)?(x.add(r),E(e)):(b.add(i),d--):(l(n,a),d--)}for(;d--;){const e=t[d];y.has(e.key)||l(e,a)}for(;u;)E(g[u-1]);return run_all(v),g}function get_spread_update(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],o=e[s];if(o){for(const t in a)t in o||(r[t]=1);for(const t in o)i[t]||(n[t]=o[t],i[t]=1);t[s]=o}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function get_spread_object(t){return"object"==typeof t&&null!==t?t:{}}function create_component(t){t&&t.c()}function claim_component(t,e){t&&t.l(e)}function mount_component(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||add_render_callback((()=>{const e=t.$$.on_mount.map(run).filter(is_function);t.$$.on_destroy?t.$$.on_destroy.push(...e):run_all(e),t.$$.on_mount=[]})),s.forEach(add_render_callback)}function destroy_component(t,e){const n=t.$$;null!==n.fragment&&(flush_render_callbacks(n.after_update),run_all(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(t,e){-1===t.$$.dirty[0]&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init$1(t,e,n,r,i,s,a,o=[-1]){const l=current_component;set_current_component(t);const c=t.$$={fragment:null,ctx:[],props:s,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let h=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=s)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](s),h&&make_dirty(t,e)),n})):[],c.update(),h=!0,run_all(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){start_hydrating();const t=children(e.target);c.fragment&&c.fragment.l(t),t.forEach(detach)}else c.fragment&&c.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),end_hydrating(),flush()}set_current_component(l)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,e){if(!is_function(e))return noop;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const github="<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}\n/*!\n  Theme: GitHub\n  Description: Light theme as seen on github.com\n  Author: github.com\n  Maintainer: @Hirse\n  Updated: 2021-05-15\n\n  Outdated base version: https://github.com/primer/github-syntax-light\n  Current colors taken from GitHub's CSS\n*/.hljs{color:#24292e;background:#ffffff}.hljs-doctag,\n.hljs-keyword,\n.hljs-meta .hljs-keyword,\n.hljs-template-tag,\n.hljs-template-variable,\n.hljs-type,\n.hljs-variable.language_{color:#d73a49}.hljs-title,\n.hljs-title.class_,\n.hljs-title.class_.inherited__,\n.hljs-title.function_{color:#6f42c1}.hljs-attr,\n.hljs-attribute,\n.hljs-literal,\n.hljs-meta,\n.hljs-number,\n.hljs-operator,\n.hljs-variable,\n.hljs-selector-attr,\n.hljs-selector-class,\n.hljs-selector-id{color:#005cc5}.hljs-regexp,\n.hljs-string,\n.hljs-meta .hljs-string{color:#032f62}.hljs-built_in,\n.hljs-symbol{color:#e36209}.hljs-comment,\n.hljs-code,\n.hljs-formula{color:#6a737d}.hljs-name,\n.hljs-quote,\n.hljs-selector-tag,\n.hljs-selector-pseudo{color:#22863a}.hljs-subst{color:#24292e}.hljs-section{color:#005cc5;font-weight:bold}.hljs-bullet{color:#735c0f}.hljs-emphasis{color:#24292e;font-style:italic}.hljs-strong{color:#24292e;font-weight:bold}.hljs-addition{color:#22863a;background-color:#f0fff4}.hljs-deletion{color:#b31d28;background-color:#ffeef0}</style>";var github$1=github,commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t){var e={exports:{}};return t(e,e.exports),e.exports}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var stomp_min=createCommonjsModule((function(t,e){(function(){var t,n,r,i,s={}.hasOwnProperty,a=[].slice;t={LF:"\n",NULL:"\0"},r=function(){var e;function n(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}return n.prototype.toString=function(){var e,r,i,a,o;for(r in e=[this.command],(i=!1===this.headers["content-length"])&&delete this.headers["content-length"],o=this.headers)s.call(o,r)&&(a=o[r],e.push(r+":"+a));return this.body&&!i&&e.push("content-length:"+n.sizeOfUTF8(this.body)),e.push(t.LF+this.body),e.join(t.LF)},n.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},e=function(e){var r,i,s,a,o,l,c,h,p,d,u,f,m,g,y,_,v;for(a=e.search(RegExp(""+t.LF+t.LF)),s=(o=e.substring(0,a).split(t.LF)).shift(),l={},f=function(t){return t.replace(/^\s+|\s+$/g,"")},m=0,y=(_=o.reverse()).length;m<y;m++)h=(d=_[m]).indexOf(":"),l[f(d.substring(0,h))]=f(d.substring(h+1));if(r="",u=a+2,l["content-length"])p=parseInt(l["content-length"]),r=(""+e).substring(u,u+p);else for(i=null,c=g=u,v=e.length;(u<=v?g<v:g>v)&&(i=e.charAt(c))!==t.NULL;c=u<=v?++g:--g)r+=i;return new n(s,l,r)},n.unmarshall=function(n){var r;return function(){var i,s,a,o;for(o=[],i=0,s=(a=n.split(RegExp(""+t.NULL+t.LF+"*"))).length;i<s;i++)(null!=(r=a[i])?r.length:void 0)>0&&o.push(e(r));return o}()},n.marshall=function(e,r,i){return new n(e,r,i).toString()+t.NULL},n}(),n=function(){var e;function n(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}return n.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},e=function(){return Date.now?Date.now():(new Date).valueOf},n.prototype._transmit=function(t,e,n){var i;for(i=r.marshall(t,e,n),"function"==typeof this.debug&&this.debug(">>> "+i);;){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+i.length)}},n.prototype._setupHeartbeat=function(n){var r,s,a,o,l,c;if((l=n.version)===i.VERSIONS.V1_1||l===i.VERSIONS.V1_2)return c=function(){var t,e,r,i;for(i=[],t=0,e=(r=n["heart-beat"].split(",")).length;t<e;t++)o=r[t],i.push(parseInt(o));return i}(),s=c[0],r=c[1],0!==this.heartbeat.outgoing&&0!==r&&(a=Math.max(this.heartbeat.outgoing,r),"function"==typeof this.debug&&this.debug("send PING every "+a+"ms"),this.pinger=i.setInterval(a,function(e){return function(){return e.ws.send(t.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==s?(a=Math.max(this.heartbeat.incoming,s),"function"==typeof this.debug&&this.debug("check PONG every "+a+"ms"),this.ponger=i.setInterval(a,function(t){return function(){var n;if((n=e()-t.serverActivity)>2*a)return"function"==typeof t.debug&&t.debug("did not receive server activity for the last "+n+"ms"),t.ws.close()}}(this))):void 0},n.prototype._parseConnect=function(){var t,e,n,r;switch(r={},(t=1<=arguments.length?a.call(arguments,0):[]).length){case 2:r=t[0],e=t[1];break;case 3:t[1]instanceof Function?(r=t[0],e=t[1],n=t[2]):(r.login=t[0],r.passcode=t[1],e=t[2]);break;case 4:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3];break;default:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3],r.host=t[4]}return[r,e,n]},n.prototype.connect=function(){var n,s,o,l;return n=1<=arguments.length?a.call(arguments,0):[],l=this._parseConnect.apply(this,n),o=l[0],this.connectCallback=l[1],s=l[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(n){return function(i){var a,o,l,c,h,p,d,u,f,m,g,y;if(c="undefined"!=typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(a=new Uint8Array(i.data),"function"==typeof n.debug&&n.debug("--- got data length: "+a.length),function(){var t,e,n;for(n=[],t=0,e=a.length;t<e;t++)o=a[t],n.push(String.fromCharCode(o));return n}().join("")):i.data,n.serverActivity=e(),c!==t.LF){for("function"==typeof n.debug&&n.debug("<<< "+c),y=[],f=0,m=(g=r.unmarshall(c)).length;f<m;f++)switch((h=g[f]).command){case"CONNECTED":"function"==typeof n.debug&&n.debug("connected to server "+h.headers.server),n.connected=!0,n._setupHeartbeat(h.headers),y.push("function"==typeof n.connectCallback?n.connectCallback(h):void 0);break;case"MESSAGE":u=h.headers.subscription,(d=n.subscriptions[u]||n.onreceive)?(l=n,p=h.headers["message-id"],h.ack=function(t){return null==t&&(t={}),l.ack(p,u,t)},h.nack=function(t){return null==t&&(t={}),l.nack(p,u,t)},y.push(d(h))):y.push("function"==typeof n.debug?n.debug("Unhandled received MESSAGE: "+h):void 0);break;case"RECEIPT":y.push("function"==typeof n.onreceipt?n.onreceipt(h):void 0);break;case"ERROR":y.push("function"==typeof s?s(h):void 0);break;default:y.push("function"==typeof n.debug?n.debug("Unhandled frame: "+h):void 0)}return y}"function"==typeof n.debug&&n.debug("<<< PONG")}}(this),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof s?s(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),o["accept-version"]=i.VERSIONS.supportedVersions(),o["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",o)}}(this)},n.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},n.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger)return i.clearInterval(this.ponger)},n.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},n.prototype.subscribe=function(t,e,n){var r;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),r=this,{id:n.id,unsubscribe:function(){return r.unsubscribe(n.id)}}},n.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},n.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},n.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},n.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},n.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},n.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},n}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,e){var r;return null==e&&(e=["v10.stomp","v11.stomp"]),r=new(i.WebSocketClass||WebSocket)(t,e),new n(r)},over:function(t){return new n(t)},Frame:r},null!==e&&(e.Stomp=i),"undefined"!=typeof window&&null!==window?(i.setInterval=function(t,e){return window.setInterval(e,t)},i.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=i):e||(self.Stomp=i)}).call(commonjsGlobal)}));const getWidgetSettings=async()=>{const t=document.referrer,e=window.location.pathname,n=window.location.search,r=new URLSearchParams;e&&r.append("p",e),t&&r.append("src",t),n&&r.append("s",n);const i=r.toString(),s=await fetch("https://evahelper.ru/api/widgetV2"+(i?`?${i}`:""),{method:"GET","Content-Type":"application/json"});return await s.json()},SHOW_HINTS_KEY="eva-show-hints",SHOW_ICON_KEY="eva-show-icon",EVA_LOCALES="evahelper_locales",LOCALES_GAG="{BOT_NAME}",defaultWidgetPosition={align:"BOTTOM_RIGHT",margin:{top:0,bottom:18,right:13,left:0}};var sockjs_min=createCommonjsModule((function(t,e){t.exports=function t(e,n,r){function i(a,o){if(!n[a]){if(!e[a]){var l="function"==typeof commonjsRequire&&commonjsRequire;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[a]={exports:{}};e[a][0].call(h.exports,(function(t){return i(e[a][1][t]||t)}),h,h.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof commonjsRequire&&commonjsRequire,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){(function(n){(function(){var r=t("./transport-list");e.exports=t("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e,n){var r=t("inherits"),i=t("./event");function s(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(s,i),e.exports=s},{"./event":4,inherits:54}],3:[function(t,e,n){var r=t("inherits"),i=t("./eventtarget");function s(){i.call(this)}r(s,i),s.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},s.prototype.once=function(t,e){var n=this,r=!1;this.on(t,(function i(){n.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}))},s.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0;s<e.length;s++)e[s].apply(this,r)}},s.prototype.on=s.prototype.addListener=i.prototype.addEventListener,s.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=s},{"./eventtarget":5,inherits:54}],4:[function(t,e,n){function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,e.exports=r},{}],5:[function(t,e,n){function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);-1===r||(1<n.length?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=r},{}],6:[function(t,e,n){var r=t("inherits"),i=t("./event");function s(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}r(s,i),e.exports=s},{"./event":4,inherits:54}],7:[function(t,e,n){var r=t("./utils/iframe");function i(t){(this._transport=t).on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}i.prototype._transportClose=function(t,e){r.postMessage("c",JSON.stringify([t,e]))},i.prototype._transportMessage=function(t){r.postMessage("t",t)},i.prototype._send=function(t){this._transport.send(t)},i.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=i},{"./utils/iframe":47}],8:[function(t,e,n){var r=t("./utils/url"),i=t("./utils/event"),s=t("./facade"),a=t("./info-iframe-receiver"),o=t("./utils/iframe"),l=t("./location"),c=function(){};e.exports=function(t,e){var n,h={};e.forEach((function(t){t.facadeTransport&&(h[t.facadeTransport.transportName]=t.facadeTransport)})),h[a.transportName]=a,t.bootstrap_iframe=function(){var e;o.currentWindowId=l.hash.slice(1),i.attachEvent("message",(function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var a;try{a=JSON.parse(i.data)}catch(p){return void c("bad json",i.data)}if(a.windowId===o.currentWindowId)switch(a.type){case"s":var p;try{p=JSON.parse(a.data)}catch(p){c("bad json",a.data);break}var d=p[0],u=p[1],f=p[2],m=p[3];if(d!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+d+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(f,l.href)||!r.isOriginEqual(m,l.href))throw new Error("Can't connect to different domain from within an iframe. ("+l.href+", "+f+", "+m+")");e=new s(new h[u](f,m));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}})),o.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0}],9:[function(t,e,n){var r=t("events").EventEmitter,i=t("inherits"),s=t("./utils/object");function a(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",(function(t,e){var r,a;if(200===t){if(a=+new Date-i,e)try{r=JSON.parse(e)}catch(t){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}i(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=a},{"./utils/object":49,debug:void 0,events:3,inherits:54}],10:[function(t,e,n){var r=t("inherits"),i=t("events").EventEmitter,s=t("./transport/sender/xhr-local"),a=t("./info-ajax");function o(t){var e=this;i.call(this),this.ir=new a(t,s),this.ir.once("finish",(function(t,n){e.ir=null,e.emit("message",JSON.stringify([t,n]))}))}r(o,i),o.transportName="iframe-info-receiver",o.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=o},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54}],11:[function(t,e,n){(function(n){(function(){var r=t("events").EventEmitter,i=t("inherits"),s=t("./utils/event"),a=t("./transport/iframe"),o=t("./info-iframe-receiver");function l(t,e){var i=this;function l(){var n=i.ifr=new a(o.transportName,e,t);n.once("message",(function(t){if(t){var e;try{e=JSON.parse(t)}catch(e){return i.emit("finish"),void i.close()}var n=e[0],r=e[1];i.emit("finish",n,r)}i.close()})),n.once("close",(function(){i.emit("finish"),i.close()}))}r.call(this),n.document.body?l():s.attachEvent("load",l)}i(l,r),l.enabled=function(){return a.enabled()},l.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=l}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54}],12:[function(t,e,n){var r=t("events").EventEmitter,i=t("inherits"),s=t("./utils/url"),a=t("./transport/sender/xdr"),o=t("./transport/sender/xhr-cors"),l=t("./transport/sender/xhr-local"),c=t("./transport/sender/xhr-fake"),h=t("./info-iframe"),p=t("./info-ajax");function d(t,e){var n=this;r.call(this),setTimeout((function(){n.doXhr(t,e)}),0)}i(d,r),d._getReceiver=function(t,e,n){return n.sameOrigin?new p(e,l):o.enabled?new p(e,o):a.enabled&&n.sameScheme?new p(e,a):h.enabled()?new h(t,e):new p(e,c)},d.prototype.doXhr=function(t,e){var n=this,r=s.addPath(t,"/info");this.xo=d._getReceiver(t,r,e),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),d.timeout),this.xo.once("finish",(function(t,e){n._cleanup(!0),n.emit("finish",t,e)}))},d.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,e.exports=d},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(t,e,n){(function(t){(function(){e.exports=t.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,n){(function(n){(function(){t("./shims");var r,i=t("url-parse"),s=t("inherits"),a=t("./utils/random"),o=t("./utils/escape"),l=t("./utils/url"),c=t("./utils/event"),h=t("./utils/transport"),p=t("./utils/object"),d=t("./utils/browser"),u=t("./utils/log"),f=t("./event/event"),m=t("./event/eventtarget"),g=t("./location"),y=t("./event/close"),_=t("./event/trans-message"),v=t("./info-receiver"),b=function(){};function x(t,e,n){if(!(this instanceof x))return new x(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=x.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&u.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var s=new i(t);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==s.protocol&&"https:"!==s.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var o="https:"===s.protocol;if("https:"===g.protocol&&!o&&!l.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var c=e.sort();c.forEach((function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<c.length-1&&t===c[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")}));var h=l.getOrigin(g.href);this._origin=h?h.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,b("using url",this.url),this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:l.isOriginEqual(this.url,g.href),sameScheme:l.isSchemeEqual(this.url,g.href)},this._ir=new v(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function E(t){return 1e3===t||3e3<=t&&t<=4999}s(x,m),x.prototype.close=function(t,e){if(t&&!E(t))throw new Error("InvalidAccessError: Invalid code");if(e&&123<e.length)throw new SyntaxError("reason argument has an invalid length");this.readyState!==x.CLOSING&&this.readyState!==x.CLOSED&&this._close(t||1e3,e||"Normal closure",!0)},x.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===x.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===x.OPEN&&this._transport.send(o.quote(t))},x.version=t("./version"),x.CONNECTING=0,x.OPEN=1,x.CLOSING=2,x.CLOSED=3,x.prototype._receiveInfo=function(t,e){if(this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=p.extend(t,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,b(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},x.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(b("attempt",t.transportName),t.needBody&&(!n.document.body||void 0!==n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return this._transports.unshift(t),void c.attachEvent("load",this._connect.bind(this));var e=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[t.transportName],s=new t(r,this._transUrl,i);return s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=t.transportName,void(this._transport=s)}this._close(2e3,"All transports failed",!1)},x.prototype._transportTimeout=function(){this.readyState===x.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},x.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new f("heartbeat")),void b("heartbeat",this.transport)}if(i)try{e=JSON.parse(i)}catch(t){}if(void 0!==e)switch(r){case"a":Array.isArray(e)&&e.forEach((function(t){b("message",n.transport),n.dispatchEvent(new _(t))}));break;case"m":b("message",this.transport),this.dispatchEvent(new _(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},x.prototype._transportClose=function(t,e){b("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),E(t)||2e3===t||this.readyState!==x.CONNECTING?this._close(t,e):this._connect()},x.prototype._open=function(){b("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===x.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=x.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new f("open")),b("connected",this.transport)):this._close(1006,"Server lost session")},x.prototype._close=function(t,e,n){b("_close",this.transport,t,e,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===x.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=x.CLOSING,setTimeout(function(){this.readyState=x.CLOSED,r&&this.dispatchEvent(new f("error"));var i=new y("close");i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},x.prototype.countRTO=function(t){return 100<t?4*t:300+t},e.exports=function(e){return r=h(e),t("./iframe-bootstrap")(x,e),x}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,"url-parse":57}],15:[function(t,e,n){function r(t){return"[object Function]"===o.toString.call(t)}function i(t){return"[object String]"===p.call(t)}var s,a=Array.prototype,o=Object.prototype,l=Function.prototype,c=String.prototype,h=a.slice,p=o.toString,d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();function u(t,e,n){for(var r in e)o.hasOwnProperty.call(e,r)&&s(t,r,e[r],n)}function f(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}function m(){}s=d?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)},u(l,{bind:function(t){var e=this;if(!r(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=h.call(arguments,1),i=Math.max(0,e.length-n.length),s=[],a=0;a<i;a++)s.push("$"+a);var o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")((function(){if(this instanceof o){var r=e.apply(this,n.concat(h.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(h.call(arguments)))}));return e.prototype&&(m.prototype=e.prototype,o.prototype=new m,m.prototype=null),o}}),u(Array,{isArray:function(t){return"[object Array]"===p.call(t)}});var g,y,_,v=Object("a"),b="a"!==v[0]||!(0 in v);u(a,{forEach:function(t,e){var n=f(this),s=b&&i(this)?this.split(""):n,a=e,o=-1,l=s.length>>>0;if(!r(t))throw new TypeError;for(;++o<l;)o in s&&t.call(a,s[o],o,n)}},(g=a.forEach,_=y=!0,g&&(g.call("foo",(function(t,e,n){"object"!=typeof n&&(y=!1)})),g.call([1],(function(){_="string"==typeof this}),"x")),!(g&&y&&_)));var x=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);u(a,{indexOf:function(t,e){var n=b&&i(this)?this.split(""):f(this),r=n.length>>>0;if(!r)return-1;var s=0;for(1<arguments.length&&(s=function(t){var e=+t;return e!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e))),e}(e)),s=0<=s?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},x);var E,w=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(E=void 0===/()??/.exec("")[1],c.split=function(t,e){var n=this;if(void 0===t&&0===e)return[];if("[object RegExp]"!==p.call(t))return w.call(this,t,e);var r,i,s,o,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),h=0;for(t=new RegExp(t.source,c+"g"),n+="",E||(r=new RegExp("^"+t.source+"$(?!\\s)",c)),e=void 0===e?-1>>>0:function(t){return t>>>0}(e);(i=t.exec(n))&&!(h<(s=i.index+i[0].length)&&(l.push(n.slice(h,i.index)),!E&&1<i.length&&i[0].replace(r,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(i[t]=void 0)})),1<i.length&&i.index<n.length&&a.push.apply(l,i.slice(1)),o=i[0].length,h=s,l.length>=e));)t.lastIndex===i.index&&t.lastIndex++;return h===n.length?!o&&t.test("")||l.push(""):l.push(n.slice(h)),l.length>e?l.slice(0,e):l}):"0".split(void 0,0).length&&(c.split=function(t,e){return void 0===t&&0===e?[]:w.call(this,t,e)});var k=c.substr;u(c,{substr:function(t,e){return k.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},"".substr&&"b"!=="0b".substr(-1))},{}],16:[function(t,e,n){e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e,n){(function(n){(function(){var r=t("events").EventEmitter,i=t("inherits"),s=t("../../utils/event"),a=t("../../utils/url"),o=n.XMLHttpRequest,l=function(){};function c(t,e,n,i){var s=this;r.call(this),setTimeout((function(){s._start(t,e,n,i)}),0)}i(c,r),c.prototype._start=function(t,e,n,r){var i=this;try{this.xhr=new o}catch(t){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){l("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch(t){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var h in r.headers)this.xhr.setRequestHeader(h,r.headers[h]);this.xhr.onreadystatechange=function(){if(i.xhr){var t,e,n=i.xhr;switch(l("readyState",n.readyState),n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}1223===e&&(e=204),200===e&&t&&0<t.length&&i.emit("chunk",e,t);break;case 4:1223===(e=n.status)&&(e=204),12005!==e&&12029!==e||(e=0),l("finish",e,n.responseText),i.emit("finish",e,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(t){i.emit("finish",0,""),i._cleanup(!1)}},c.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!o;var h=["Active"].concat("Object").join("X");!c.enabled&&h in n&&(c.enabled=!!new(o=function(){try{return new n[h]("Microsoft.XMLHTTP")}catch(t){return null}}));var p=!1;try{p="withCredentials"in new o}catch(i){}c.supportsCORS=p,e.exports=c}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(t,e,n){(function(t){(function(){e.exports=t.EventSource}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,n){(function(t){(function(){var n=t.WebSocket||t.MozWebSocket;e.exports=n?function(t){return new n(t)}:void 0}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){var r=t("inherits"),i=t("./lib/ajax-based"),s=t("./receiver/eventsource"),a=t("./sender/xhr-cors"),o=t("eventsource");function l(t){if(!l.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",s,a)}r(l,i),l.enabled=function(){return!!o},l.transportName="eventsource",l.roundTrips=2,e.exports=l},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(t,e,n){var r=t("inherits"),i=t("./receiver/htmlfile"),s=t("./sender/xhr-local"),a=t("./lib/ajax-based");function o(t){if(!i.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",i,s)}r(o,a),o.enabled=function(t){return i.enabled&&t.sameOrigin},o.transportName="htmlfile",o.roundTrips=2,e.exports=o},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(t,e,n){var r=t("inherits"),i=t("events").EventEmitter,s=t("../version"),a=t("../utils/url"),o=t("../utils/iframe"),l=t("../utils/event"),c=t("../utils/random"),h=function(){};function p(t,e,n){if(!p.enabled())throw new Error("Transport created when disabled");i.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=c.string(8);var s=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=o.createIframe(s,(function(t){r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()})),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}r(p,i),p.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},p.prototype._message=function(t){if(h("message",t.data),a.isOriginEqual(t.origin,this.origin)){var e;try{e=JSON.parse(t.data)}catch(n){return void h("bad json",t.data)}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=JSON.parse(e.data)}catch(n){return void h("bad json",e.data)}this.emit("close",n[0],n[1]),this.close()}else h("mismatched window id",e.windowId,this.windowId)}else h("not same origin",t.origin,this.origin)},p.prototype.postMessage=function(t,e){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},p.prototype.send=function(t){this.postMessage("m",t)},p.enabled=function(){return o.iframeEnabled},p.transportName="iframe",p.roundTrips=2,e.exports=p},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54}],23:[function(t,e,n){(function(n){(function(){var r=t("inherits"),i=t("./lib/sender-receiver"),s=t("./receiver/jsonp"),a=t("./sender/jsonp");function o(t){if(!o.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/jsonp",a,s)}r(o,i),o.enabled=function(){return!!n.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=!0,e.exports=o}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(t,e,n){var r=t("inherits"),i=t("../../utils/url"),s=t("./sender-receiver");function a(t,e,n,r){var a;s.call(this,t,e,(a=r,function(t,e,n){var r={};"string"==typeof e&&(r.headers={"Content-type":"text/plain"});var s=i.addPath(t,"/xhr_send"),o=new a("POST",s,e,r);return o.once("finish",(function(t){if(o=null,200!==t&&204!==t)return n(new Error("http status "+t));n()})),function(){o.close(),o=null;var t=new Error("Aborted");t.code=1e3,n(t)}}),n,r)}r(a,s),e.exports=a},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(t,e,n){var r=t("inherits"),i=t("events").EventEmitter,s=function(){};function a(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(a,i),a.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},a.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout((function(){e.sendStop=null,e.sendSchedule()}),25)},a.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var t=this;if(0<this.sendBuffer.length){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,(function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()})),this.sendBuffer=[]}},a.prototype._cleanup=function(){this.removeAllListeners()},a.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=a},{debug:void 0,events:3,inherits:54}],26:[function(t,e,n){(function(n){(function(){var r=t("inherits"),i=t("../iframe"),s=t("../../utils/object");e.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,r){if(!n.document)return!1;var a=s.extend({},r);return a.sameOrigin=!0,t.enabled(a)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(t,e,n){var r=t("inherits"),i=t("events").EventEmitter,s=function(){};function a(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}r(a,i),a.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",(function(e){t.emit("message",e)})),e.once("close",(function(n,r){s("close",n,r,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))}))},a.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=a},{debug:void 0,events:3,inherits:54}],28:[function(t,e,n){var r=t("inherits"),i=t("../../utils/url"),s=t("./buffered-sender"),a=t("./polling");function o(t,e,n,r,o){var l=i.addPath(t,e),c=this;s.call(this,t,n),this.poll=new a(r,l,o),this.poll.on("message",(function(t){c.emit("message",t)})),this.poll.once("close",(function(t,e){c.poll=null,c.emit("close",t,e),c.close()}))}r(o,s),o.prototype.close=function(){s.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=o},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(t,e,n){var r=t("inherits"),i=t("events").EventEmitter,s=t("eventsource"),a=function(){};function o(t){i.call(this);var e=this,n=this.es=new s(t);n.onmessage=function(t){a("message",t.data),e.emit("message",decodeURI(t.data))},n.onerror=function(t){a("error",n.readyState);var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(o,i),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},o.prototype._close=function(t){var e=this;setTimeout((function(){e.emit("close",null,t),e.removeAllListeners()}),200)},e.exports=o},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(t,e,n){(function(n){(function(){var r=t("inherits"),i=t("../../utils/iframe"),s=t("../../utils/url"),a=t("events").EventEmitter,o=t("../../utils/random"),l=function(){};function c(t){a.call(this);var e=this;i.polluteGlobalNamespace(),this.id="a"+o.string(6),t=s.addQuery(t,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),l("using htmlfile",c.htmlfileEnabled);var r=c.htmlfileEnabled?i.createHtmlfile:i.createIframe;n[i.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=r(t,(function(){e._cleanup(),e._close("permanent")}))}r(c,a),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[i.WPrefix][this.id]},c.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},c.htmlfileEnabled=!1;var h=["Active"].concat("Object").join("X");if(h in n)try{c.htmlfileEnabled=!!new n[h]("htmlfile")}catch(r){}c.enabled=c.htmlfileEnabled||i.iframeEnabled,e.exports=c}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(t,e,n){(function(n){(function(){var r=t("../../utils/iframe"),i=t("../../utils/random"),s=t("../../utils/browser"),a=t("../../utils/url"),o=t("inherits"),l=t("events").EventEmitter,c=function(){};function h(t){var e=this;l.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var s=a.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));n[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout((function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))}),h.timeout)}o(h,l),h.prototype.abort=function(){if(n[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},h.timeout=35e3,h.scriptErrorTimeout=1e3,h.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},h.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},h.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete n[r.WPrefix][this.id]},h.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout((function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))}),h.scriptErrorTimeout))},h.prototype._createScript=function(t){var e,r=this,a=this.script=n.document.createElement("script");if(a.id="a"+i.string(8),a.src=t,a.type="text/javascript",a.charset="UTF-8",a.onerror=this._scriptError.bind(this),a.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(c("onreadystatechange",a.readyState),/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){r.loadedOkay=!0;try{a.onclick()}catch(t){}}a&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===a.async&&n.document.attachEvent)if(s.isOpera())(e=this.script2=n.document.createElement("script")).text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=e.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(t){}a.async=!0}void 0!==a.async&&(a.async=!0);var o=n.document.getElementsByTagName("head")[0];o.insertBefore(a,o.firstChild),e&&o.insertBefore(e,o.firstChild)},e.exports=h}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(t,e,n){var r=t("inherits"),i=t("events").EventEmitter;function s(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(s,i),s.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},s.prototype._cleanup=function(){this.removeAllListeners()},s.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=s},{debug:void 0,events:3,inherits:54}],33:[function(t,e,n){(function(n){(function(){var r,i,s=t("../../utils/random"),a=t("../../utils/url"),o=function(){};e.exports=function(t,e,l){r||((r=n.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=n.document.createElement("textarea")).name="d",r.appendChild(i),n.document.body.appendChild(r));var c="a"+s.string(8);r.target=c,r.action=a.addQuery(a.addPath(t,"/jsonp_send"),"i="+c);var h=function(t){try{return n.document.createElement('<iframe name="'+t+'">')}catch(r){var e=n.document.createElement("iframe");return e.name=t,e}}(c);h.id=c,h.style.display="none",r.appendChild(h);try{i.value=e}catch(t){}function p(t){h.onerror&&(h.onreadystatechange=h.onerror=h.onload=null,setTimeout((function(){h.parentNode.removeChild(h),h=null}),500),i.value="",l(t))}return r.submit(),h.onerror=function(){p()},h.onload=function(){p()},h.onreadystatechange=function(t){o("onreadystatechange",c,h.readyState),"complete"===h.readyState&&p()},function(){p(new Error("Aborted"))}}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(t,e,n){(function(n){(function(){var r=t("events").EventEmitter,i=t("inherits"),s=t("../../utils/event"),a=t("../../utils/browser"),o=t("../../utils/url"),l=function(){};function c(t,e,n){var i=this;r.call(this),setTimeout((function(){i._start(t,e,n)}),0)}i(c,r),c.prototype._start=function(t,e,r){var i=this,a=new n.XDomainRequest;e=o.addQuery(e,"t="+ +new Date),a.onerror=function(){i._error()},a.ontimeout=function(){i._error()},a.onprogress=function(){l("progress",a.responseText),i.emit("chunk",200,a.responseText)},a.onload=function(){i.emit("finish",200,a.responseText),i._cleanup(!1)},this.xdr=a,this.unloadRef=s.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(t){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!n.XDomainRequest||!a.hasDomain()),e.exports=c}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(t,e,n){var r=t("inherits"),i=t("../driver/xhr");function s(t,e,n,r){i.call(this,t,e,n,r)}r(s,i),s.enabled=i.enabled&&i.supportsCORS,e.exports=s},{"../driver/xhr":17,inherits:54}],36:[function(t,e,n){var r=t("events").EventEmitter;function i(){var t=this;r.call(this),this.to=setTimeout((function(){t.emit("finish",200,"{}")}),i.timeout)}t("inherits")(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,e.exports=i},{events:3,inherits:54}],37:[function(t,e,n){var r=t("inherits"),i=t("../driver/xhr");function s(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}r(s,i),s.enabled=i.enabled,e.exports=s},{"../driver/xhr":17,inherits:54}],38:[function(t,e,n){var r=t("../utils/event"),i=t("../utils/url"),s=t("inherits"),a=t("events").EventEmitter,o=t("./driver/websocket"),l=function(){};function c(t,e,n){if(!c.enabled())throw new Error("Transport created when disabled");a.call(this);var s=this,h=i.addPath(t,"/websocket");h="https"===h.slice(0,5)?"wss"+h.slice(5):"ws"+h.slice(4),this.url=h,this.ws=new o(this.url,[],n),this.ws.onmessage=function(t){l("message event",t.data),s.emit("message",t.data)},this.unloadRef=r.unloadAdd((function(){s.ws.close()})),this.ws.onclose=function(t){l("close event",t.code,t.reason),s.emit("close",t.code,t.reason),s._cleanup()},this.ws.onerror=function(t){s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}s(c,a),c.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},c.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()},c.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!o},c.transportName="websocket",c.roundTrips=2,e.exports=c},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(t,e,n){var r=t("inherits"),i=t("./lib/ajax-based"),s=t("./xdr-streaming"),a=t("./receiver/xhr"),o=t("./sender/xdr");function l(t){if(!o.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",a,o)}r(l,i),l.enabled=s.enabled,l.transportName="xdr-polling",l.roundTrips=2,e.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(t,e,n){var r=t("inherits"),i=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xdr");function o(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",s,a)}r(o,i),o.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&a.enabled&&t.sameScheme},o.transportName="xdr-streaming",o.roundTrips=2,e.exports=o},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(t,e,n){var r=t("inherits"),i=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),o=t("./sender/xhr-local");function l(t){if(!o.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,a)}r(l,i),l.enabled=function(t){return!t.nullOrigin&&(!(!o.enabled||!t.sameOrigin)||a.enabled)},l.transportName="xhr-polling",l.roundTrips=2,e.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(t,e,n){(function(n){(function(){var r=t("inherits"),i=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),o=t("./sender/xhr-local"),l=t("../utils/browser");function c(t){if(!o.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",s,a)}r(c,i),c.enabled=function(t){return!t.nullOrigin&&!l.isOpera()&&a.enabled},c.transportName="xhr-streaming",c.roundTrips=2,c.needBody=!!n.document,e.exports=c}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(t,e,n){(function(t){(function(){t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:e.exports.randomBytes=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,n){(function(t){(function(){e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(t){return!1}}}}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){var r,i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(t){var e=JSON.stringify(t);return i.lastIndex=0,i.test(e)?(r=r||function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,n}(i),e.replace(i,(function(t){return r[t]}))):e}}},{}],46:[function(t,e,n){(function(n){(function(){var r=t("./random"),i={},s=!1,a=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){void 0!==n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){void 0!==n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(a)return null;var e=r.string(8);return i[e]=t,s&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}},a||e.exports.attachEvent("unload",(function(){s||(s=!0,e.exports.triggerUnloadCallbacks())}))}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e,n){(function(n){(function(){var r=t("./event"),i=t("./browser"),s=function(){};e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n||(n[e.exports.WPrefix]={})},postMessage:function(t,r){n.parent!==n?n.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*"):s()},createIframe:function(t,e){function i(){clearTimeout(o);try{c.onload=null}catch(t){}c.onerror=null}function s(){c&&(i(),setTimeout((function(){c&&c.parentNode.removeChild(c),c=null}),0),r.unloadDel(l))}function a(t){c&&(s(),e(t))}var o,l,c=n.document.createElement("iframe");return c.src=t,c.style.display="none",c.style.position="absolute",c.onerror=function(){a("onerror")},c.onload=function(){clearTimeout(o),o=setTimeout((function(){a("onload timeout")}),2e3)},n.document.body.appendChild(c),o=setTimeout((function(){a("timeout")}),15e3),l=r.unloadAdd(s),{post:function(t,e){setTimeout((function(){try{c&&c.contentWindow&&c.contentWindow.postMessage(t,e)}catch(t){}}),0)},cleanup:s,loaded:i}},createHtmlfile:function(t,i){function s(){clearTimeout(l),h.onerror=null}function a(){d&&(s(),r.unloadDel(c),h.parentNode.removeChild(h),h=d=null,CollectGarbage())}function o(t){d&&(a(),i(t))}var l,c,h,p=["Active"].concat("Object").join("X"),d=new n[p]("htmlfile");d.open(),d.write('<html><script>document.domain="'+n.document.domain+'";<\/script></html>'),d.close(),d.parentWindow[e.exports.WPrefix]=n[e.exports.WPrefix];var u=d.createElement("div");return d.body.appendChild(u),h=d.createElement("iframe"),u.appendChild(h),h.src=t,h.onerror=function(){o("onerror")},l=setTimeout((function(){o("timeout")}),15e3),c=r.unloadAdd(a),{post:function(t,e){try{setTimeout((function(){h&&h.contentWindow&&h.contentWindow.postMessage(t,e)}),0)}catch(t){}},cleanup:a,loaded:s}}},e.exports.iframeEnabled=!1,n.document&&(e.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!i.isKonqueror())}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0}],48:[function(t,e,n){(function(t){(function(){var n={};["log","debug","warn"].forEach((function(e){var r;try{r=t.console&&t.console[e]&&t.console[e].apply}catch(e){}n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log})),e.exports=n}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){e.exports={isObject:function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},{}],50:[function(t,e,n){var r=t("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=i.length,n=r.randomBytes(t),s=[],a=0;a<t;a++)s.push(i.substr(n[a]%e,1));return s.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(t,e,n){var r=function(){};e.exports=function(t){return{filterToEnabled:function(e,n){var i={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach((function(t){t&&("websocket"!==t.transportName||!1!==n.websocket?e.length&&-1===e.indexOf(t.transportName)?r("not in whitelist",t.transportName):t.enabled(n)?(r("enabled",t.transportName),i.main.push(t),t.facadeTransport&&i.facade.push(t.facadeTransport)):r("disabled",t.transportName):r())})),i}}}},{debug:void 0}],52:[function(t,e,n){var r=t("url-parse");e.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n=n||("https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){return this.getOrigin(t)===this.getOrigin(e)},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}}},{debug:void 0,"url-parse":57}],53:[function(t,e,n){e.exports="1.6.1"},{}],54:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},{}],55:[function(t,e,n){var r=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}n.stringify=function(t,e){e=e||"";var n,i,s=[];for(i in"string"!=typeof e&&(e="?"),t)if(r.call(t,i)){if((n=t[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;s.push(i+"="+n)}return s.length?e+s.join("&"):""},n.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var s=i(e[1]),a=i(e[2]);null===s||null===a||s in r||(r[s]=a)}return r}},{}],56:[function(t,e,n){e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],57:[function(t,e,n){(function(n){(function(){var r=t("requires-port"),i=t("querystringify"),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,h=/^[a-zA-Z]:/;function p(t){return(t||"").toString().replace(s,"")}var d=[["#","hash"],["?","query"],function(t,e){return m(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function f(t){var e,r=("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{}).location||{},i={},s=typeof(t=t||r);if("blob:"===t.protocol)i=new y(unescape(t.pathname),{});else if("string"==s)for(e in i=new y(t,{}),u)delete i[e];else if("object"==s){for(e in t)e in u||(i[e]=t[e]);void 0===i.slashes&&(i.slashes=o.test(t.href))}return i}function m(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function g(t,e){t=(t=p(t)).replace(a,""),e=e||{};var n,r=c.exec(t),i=r[1]?r[1].toLowerCase():"",s=!!r[2],o=!!r[3],l=0;return s?l=o?(n=r[2]+r[3]+r[4],r[2].length+r[3].length):(n=r[2]+r[4],r[2].length):o?(n=r[3]+r[4],l=r[3].length):n=r[4],"file:"===i?2<=l&&(n=n.slice(2)):m(i)?n=r[4]:i?s&&(n=n.slice(2)):2<=l&&m(e.protocol)&&(n=r[4]),{protocol:i,slashes:s||m(i),slashesCount:l,rest:n}}function y(t,e,n){if(t=(t=p(t)).replace(a,""),!(this instanceof y))return new y(t,e,n);var s,o,l,c,u,_,v=d.slice(),b=typeof e,x=this,E=0;for("object"!=b&&"string"!=b&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),s=!(o=g(t||"",e=f(e))).protocol&&!o.slashes,x.slashes=o.slashes||s&&e.slashes,x.protocol=o.protocol||e.protocol||"",t=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||h.test(t))||!o.slashes&&(o.protocol||o.slashesCount<2||!m(x.protocol)))&&(v[3]=[/(.*)/,"pathname"]);E<v.length;E++)"function"!=typeof(c=v[E])?(l=c[0],_=c[1],l!=l?x[_]=t:"string"==typeof l?~(u="@"===l?t.lastIndexOf(l):t.indexOf(l))&&(t="number"==typeof c[2]?(x[_]=t.slice(0,u),t.slice(u+c[2])):(x[_]=t.slice(u),t.slice(0,u))):(u=l.exec(t))&&(x[_]=u[1],t=t.slice(0,u.index)),x[_]=x[_]||s&&c[3]&&e[_]||"",c[4]&&(x[_]=x[_].toLowerCase())):t=c(t,x);n&&(x.query=n(x.query)),s&&e.slashes&&"/"!==x.pathname.charAt(0)&&(""!==x.pathname||""!==e.pathname)&&(x.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],s=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(s=!0),n.splice(r,1),a--);return s&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(x.pathname,e.pathname)),"/"!==x.pathname.charAt(0)&&m(x.protocol)&&(x.pathname="/"+x.pathname),r(x.port,x.protocol)||(x.host=x.hostname,x.port=""),x.username=x.password="",x.auth&&(~(u=x.auth.indexOf(":"))?(x.username=x.auth.slice(0,u),x.username=encodeURIComponent(decodeURIComponent(x.username)),x.password=x.auth.slice(u+1),x.password=encodeURIComponent(decodeURIComponent(x.password))):x.username=encodeURIComponent(decodeURIComponent(x.auth)),x.auth=x.password?x.username+":"+x.password:x.username),x.origin="file:"!==x.protocol&&m(x.protocol)&&x.host?x.protocol+"//"+x.host:"null",x.href=x.toString()}y.prototype={set:function(t,e,n){var s=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),s[t]=e;break;case"port":s[t]=e,r(e,s.protocol)?e&&(s.host=s.hostname+":"+e):(s.host=s.hostname,s[t]="");break;case"hostname":s[t]=e,s.port&&(e+=":"+s.port),s.host=e;break;case"host":s[t]=e,l.test(e)?(e=e.split(":"),s.port=e.pop(),s.hostname=e.join(":")):(s.hostname=e,s.port="");break;case"protocol":s.protocol=e.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";s[t]=e.charAt(0)!==a?a+e:e}else s[t]=e;break;case"username":case"password":s[t]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(s.username=e.slice(0,o),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=e.slice(o+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(e))}for(var c=0;c<d.length;c++){var h=d[c];h[4]&&(s[h[1]]=s[h[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin="file:"!==s.protocol&&m(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.host,s=n.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var a=s+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||l.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(a+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(a+=n.hash),a}},y.extractProtocol=g,y.location=f,y.trimLeft=p,y.qs=i,e.exports=y}).call(this)}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:55,"requires-port":56}]},{},[1])(1)}));function createSocketClient(t,e){const n=localStorage.getItem("token")&&e?`&organizationId=${e}`:"",r=document.referrer;return new sockjs_min(`https://evahelper.ru/api/education?studentId=${t}${n}${r?`&src=${r}`:""}`)}let hash=(Math.random()+1).toString(36).substring(5);function wrapWithHashParam(t){return t+"?hash="+hash}const subscriber_queue=[];function readable(t,e){return{subscribe:writable(t,e).subscribe}}function writable(t,e=noop){let n;const r=new Set;function i(e){if(safe_not_equal(t,e)&&(t=e,n)){const e=!subscriber_queue.length;for(const e of r)e[1](),subscriber_queue.push(e,t);if(e){for(let t=0;t<subscriber_queue.length;t+=2)subscriber_queue[t][0](subscriber_queue[t+1]);subscriber_queue.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,a=noop){const o=[s,a];return r.add(o),1===r.size&&(n=e(i)||noop),s(t),()=>{r.delete(o),0===r.size&&n&&(n(),n=null)}}}}function derived(t,e,n){const r=!Array.isArray(t),i=r?[t]:t,s=e.length<2;return readable(n,(t=>{let n=!1;const a=[];let o=0,l=noop;const c=()=>{if(o)return;l();const n=e(r?a[0]:a,t);s?t(n):l=is_function(n)?n:noop},h=i.map(((t,e)=>subscribe(t,(t=>{a[e]=t,o&=~(1<<e),n&&c()}),(()=>{o|=1<<e}))));return n=!0,c(),function(){run_all(h),l(),n=!1}}))}const authStore=writable({areWidgetSettingsReceived:!1,isSocketConnectionEstablished:!1});function createWidgetSettingsStore(){const{update:t,subscribe:e}=writable({isVisibleHints:!0,isVisibleIcon:!0,isVisibleDot:!1,settings:null,organizationId:null});return{update:t,subscribe:e,hideHints:()=>{localStorage.setItem(SHOW_HINTS_KEY,"false"),t((t=>({...t,isVisibleHints:!1})))},hideHintsAndIcon:()=>{localStorage.setItem(SHOW_HINTS_KEY,"false"),localStorage.setItem(SHOW_ICON_KEY,"false"),t((t=>({...t,isVisibleHints:!1,isVisibleIcon:!1,isVisibleDot:!0})))},showIcon:()=>{localStorage.setItem(SHOW_ICON_KEY,"true"),t((t=>({...t,isVisibleIcon:!0,isVisibleDot:!1})))},showIconAndHints:()=>{localStorage.setItem(SHOW_HINTS_KEY,"true"),localStorage.setItem(SHOW_ICON_KEY,"true"),t((t=>({...t,isVisibleHints:!0,isVisibleIcon:!0,isVisibleDot:!1})))}}}const widgetSettingsStore=createWidgetSettingsStore();function createTranslator(){const{subscribe:t,update:e}=writable({locales:{},currentLanguage:null});return{subscribe:t,changeCurrentLanguage:t=>{e((e=>({...e,currentLanguage:t})))},addLocale(t,n){e((e=>({...e,locales:{...e.locales,[n]:t}})))}}}const translator=createTranslator(),t=derived(translator,(t=>e=>t.locales[t.currentLanguage]&&t.locales[t.currentLanguage][e]||e));async function translateAndSaveLanguage(t){const e=t||getLanguage((window.evahelperCurrentLanguage||navigator.language.slice(0,2)).toLowerCase());await getLocale(e)}async function getLocale(t){const e=JSON.parse(localStorage.getItem(EVA_LOCALES));let n=null;const r=await fetch(wrapWithHashParam(`https://evahelper.ru/build/assets/locales/${t}.json`)),i=await r.json();n=i,localStorage.setItem(EVA_LOCALES,JSON.stringify({...e&&e,[t]:i})),translator.changeCurrentLanguage(t),translator.addLocale(n,t)}function getLanguage(t){return"ru"===t?"ru":"en"}Object.defineProperty(window,"evahelperCurrentLanguage",{configurable:!0,set(t){getLocale(getLanguage(t))}});const user=writable({}),conversation=writable({}),subscribeOnUser=t=>new Promise((e=>t.subscribe("/user/topic/user",(t=>{const n=JSON.parse(t.body);user.set(n),e(n)})))),subscribeOnConversation=(t,e,n,r)=>new Promise((i=>{t.subscribe("/user/topic/conversation",(t=>{const e=JSON.parse(t.body);conversation.set(e),i(e)}),{studentId:e,organizationId:n,pathContext:r})}));let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let t=0;t<256;++t)byteToHex.push((t+256).toString(16).slice(1));function unsafeStringify(t,e=0){return(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase()}const randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID:randomUUID};function v4(t,e,n){if(native.randomUUID&&!e&&!t)return native.randomUUID();const r=(t=t||{}).random||(t.rng||rng)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return unsafeStringify(r)}var lodash_clonedeep=createCommonjsModule((function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",o="[object Function]",l="[object GeneratorFunction]",c="[object Map]",h="[object Number]",p="[object Object]",d="[object Promise]",u="[object RegExp]",f="[object Set]",m="[object String]",g="[object Symbol]",y="[object WeakMap]",_="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",E="[object Int8Array]",w="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]",P=/\w*$/,A=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,D={};D[i]=D["[object Array]"]=D[_]=D[v]=D[s]=D[a]=D[b]=D[x]=D[E]=D[w]=D[k]=D[c]=D[h]=D[p]=D[u]=D[f]=D[m]=D[g]=D[S]=D[C]=D[T]=D[M]=!0,D["[object Error]"]=D[o]=D[y]=!1;var I="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,F="object"==typeof self&&self&&self.Object===Object&&self,R=I||F||Function("return this")(),L=e&&!e.nodeType&&e,O=L&&t&&!t.nodeType&&t,N=O&&O.exports===L;function B(t,e){return t.set(e[0],e[1]),t}function V(t,e){return t.add(e),t}function z(t,e,n,r){var i=-1,s=t?t.length:0;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function j(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function G(t,e){return function(n){return t(e(n))}}function q(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var U,W=Array.prototype,K=Function.prototype,Z=Object.prototype,J=R["__core-js_shared__"],Y=(U=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",X=K.toString,Q=Z.hasOwnProperty,tt=Z.toString,et=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=N?R.Buffer:void 0,rt=R.Symbol,it=R.Uint8Array,st=G(Object.getPrototypeOf,Object),at=Object.create,ot=Z.propertyIsEnumerable,lt=W.splice,ct=Object.getOwnPropertySymbols,ht=nt?nt.isBuffer:void 0,pt=G(Object.keys,Object),dt=Ot(R,"DataView"),ut=Ot(R,"Map"),ft=Ot(R,"Promise"),mt=Ot(R,"Set"),gt=Ot(R,"WeakMap"),yt=Ot(Object,"create"),_t=jt(dt),vt=jt(ut),bt=jt(ft),xt=jt(mt),Et=jt(gt),wt=rt?rt.prototype:void 0,kt=wt?wt.valueOf:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){this.__data__=new Ct(t)}function Pt(t,e){var n=Gt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&qt(t)}(t)&&Q.call(t,"callee")&&(!ot.call(t,"callee")||tt.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,s=!!r;for(var a in t)!e&&!Q.call(t,a)||s&&("length"==a||Vt(a,r))||n.push(a);return n}function At(t,e,n){var r=t[e];Q.call(t,e)&&Ht(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function $t(t,e){for(var n=t.length;n--;)if(Ht(t[n][0],e))return n;return-1}function Dt(t,e,n,r,d,y,A){var $;if(r&&($=y?r(t,d,y,A):r(t)),void 0!==$)return $;if(!Kt(t))return t;var I=Gt(t);if(I){if($=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,$)}else{var F=Bt(t),R=F==o||F==l;if(Ut(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(F==p||F==i||R&&!y){if(j(t))return y?t:{};if($=function(t){return"function"!=typeof t.constructor||zt(t)?{}:(e=st(t),Kt(e)?at(e):{});var e}(R?{}:t),!e)return function(t,e){return Rt(t,Nt(t),e)}(t,function(t,e){return t&&Rt(e,Zt(e),t)}($,t))}else{if(!D[F])return y?t:{};$=function(t,e,n,r){var i=t.constructor;switch(e){case _:return Ft(t);case s:case a:return new i(+t);case v:return function(t,e){var n=e?Ft(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case b:case x:case E:case w:case k:case S:case C:case T:case M:return function(t,e){var n=e?Ft(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case c:return function(t,e,n){var r=e?n(H(t),!0):H(t);return z(r,B,new t.constructor)}(t,r,n);case h:case m:return new i(t);case u:return function(t){var e=new t.constructor(t.source,P.exec(t));return e.lastIndex=t.lastIndex,e}(t);case f:return function(t,e,n){var r=e?n(q(t),!0):q(t);return z(r,V,new t.constructor)}(t,r,n);case g:return o=t,kt?Object(kt.call(o)):{}}var o}(t,F,Dt,e)}}A||(A=new Mt);var L=A.get(t);if(L)return L;if(A.set(t,$),!I)var O=n?function(t){return function(t,e,n){var r=e(t);return Gt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Zt,Nt)}(t):Zt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(O||t,(function(i,s){O&&(i=t[s=i]),At($,s,Dt(i,e,n,r,s,t,A))})),$}function It(t){return!(!Kt(t)||(e=t,Y&&Y in e))&&(Wt(t)||j(t)?et:A).test(jt(t));var e}function Ft(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Rt(t,e,n,r){n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],o=r?r(n[a],t[a],a,n,t):void 0;At(n,a,void 0===o?t[a]:o)}return n}function Lt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ot(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}St.prototype.clear=function(){this.__data__=yt?yt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return r===n?void 0:r}return Q.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Q.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?n:e,this},Ct.prototype.clear=function(){this.__data__=[]},Ct.prototype.delete=function(t){var e=this.__data__,n=$t(e,t);return!(n<0)&&(n==e.length-1?e.pop():lt.call(e,n,1),!0)},Ct.prototype.get=function(t){var e=this.__data__,n=$t(e,t);return n<0?void 0:e[n][1]},Ct.prototype.has=function(t){return $t(this.__data__,t)>-1},Ct.prototype.set=function(t,e){var n=this.__data__,r=$t(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new St,map:new(ut||Ct),string:new St}},Tt.prototype.delete=function(t){return Lt(this,t).delete(t)},Tt.prototype.get=function(t){return Lt(this,t).get(t)},Tt.prototype.has=function(t){return Lt(this,t).has(t)},Tt.prototype.set=function(t,e){return Lt(this,t).set(t,e),this},Mt.prototype.clear=function(){this.__data__=new Ct},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ct){var r=n.__data__;if(!ut||r.length<199)return r.push([t,e]),this;n=this.__data__=new Tt(r)}return n.set(t,e),this};var Nt=ct?G(ct,Object):function(){return[]},Bt=function(t){return tt.call(t)};function Vt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Z)}function jt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(dt&&Bt(new dt(new ArrayBuffer(1)))!=v||ut&&Bt(new ut)!=c||ft&&Bt(ft.resolve())!=d||mt&&Bt(new mt)!=f||gt&&Bt(new gt)!=y)&&(Bt=function(t){var e=tt.call(t),n=e==p?t.constructor:void 0,r=n?jt(n):void 0;if(r)switch(r){case _t:return v;case vt:return c;case bt:return d;case xt:return f;case Et:return y}return e});var Gt=Array.isArray;function qt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!Wt(t)}var Ut=ht||function(){return!1};function Wt(t){var e=Kt(t)?tt.call(t):"";return e==o||e==l}function Kt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Zt(t){return qt(t)?Pt(t):function(t){if(!zt(t))return pt(t);var e=[];for(var n in Object(t))Q.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Dt(t,!0,!0)}}));function createMessageStore(){const{update:t,subscribe:e}=writable({page:0,size:10,isLastPage:!1,sortDirection:"DESC",messageIds:[],messages:{},typingMessageId:null,isUserMsgSend:!1}),n=t=>({...t,id:t.id||v4()}),r=(t,e)=>[...e,t],i=(t,e)=>[t,...e],s=t=>e=>{const r=n(e);return e=>{const n=lodash_clonedeep(e.messages);let i=e.messageIds;return e.messages[r.id]||(i=t(r.id,i)),n[r.id]=r,{...e,messages:n,messageIds:i}}},a=e=>{(e.text||!e.senderId||e.typing)&&t(s(i)(e))},o=e=>t(s(r)(e));return{update:t,subscribe:e,clearStore:()=>t((()=>({page:0,size:10,sortDirection:"ASC",messageIds:[],messages:{},typingMessageId:null}))),incrementPage:()=>t((t=>({...t,page:t.page+1}))),handleMessages:e=>{const r=JSON.parse(e.body);var i;Array.isArray(r)?(r.forEach(o),i=r.length,t((t=>({...t,isLastPage:i<t.size})))):r.typing?(()=>{const e=n({typing:!0});a(e),t((t=>({...t,typingMessageId:e.id})))})():(a(r),t((t=>{const e=lodash_clonedeep(t.messages);return delete e[t.typingMessageId],{...t,messages:e,messageIds:t.messageIds.filter((e=>e!==t.typingMessageId)),typingMessageId:null}})))},setIsUserMsgSend:e=>{t((t=>({...t,isUserMsgSend:e})))},setMsgReaction:(e,n)=>{t((t=>{const r=lodash_clonedeep(t.messages);return r[e].reaction={reaction:n},{...t,messages:r}}))}}}const messagesStore=createMessageStore();let stompClient=null;const setConnection=(t,e,n)=>(stompClient=t,stompClient.debug=()=>{},new Promise(((t,r)=>{stompClient.connect({"accept-version":"1.1"},(async()=>{const{id:e,organizationId:r}=await subscribeOnUser(stompClient),{id:i}=await subscribeOnConversation(stompClient,e,r,n);await subscribeOnMessage(i),t(stompClient)}),(()=>{stompClient.disconnect(),setTimeout((()=>{const i=createSocketClient(e);setConnection(Stomp.over(i),e,n).then(t).catch(r)}),2e3)}))}))),subscribeOnMessage=t=>new Promise((e=>{stompClient.subscribe("/user/topic/completions",messagesStore.handleMessages,{conversationId:t,"disable-subscription-history":!0}),e()})),sendNewMessage=t=>{const e=document.referrer||window.location.href;return stompClient.send("/app/pupil.completions",{},JSON.stringify({comment:t,requestSource:e}))},setReaction=(t,e,n,r)=>stompClient.send("/app/pupil.replies",{conversationId:r},JSON.stringify({messageId:t,content:e,type:n})),getMessages=async({size:t,page:e,sortDirection:n,conversationId:r})=>stompClient.send("/app/completions-history",{conversationId:r},JSON.stringify({size:t,page:e,sortDirection:n})),connectWebSocket=async t=>{try{const e=widgetSettingsStore.organizationId;let n=localStorage.getItem("userId");null==n&&(n=(Math.random()+1).toString(36).substring(7),localStorage.setItem("userId",n));let r=createSocketClient(n,e);const i=await setConnection(stomp_min.Stomp.over(r),n,t).catch((t=>console.log(t)));return authStore.update((t=>({...t,isSocketConnectionEstablished:!0}))),i}catch(t){console.error(t),authStore.update((t=>({...t,isSocketConnectionEstablished:!1})))}},init=async()=>{try{const{settings:t,language:e,organizationId:n}=await getWidgetSettings();e&&await translateAndSaveLanguage(e.toLowerCase());const r="rgba(102, 135, 251, 1)",i=r.replace(/[\d\.]+\)$/g,"0.4)");t.color||(t.color=r),t.botName=t.botName??"Eva",t.position=t.position??defaultWidgetPosition,null===t.showNamePlate&&(t.showNamePlate=!0),t.shadowColor=t.color?t.color.replace(/[\d\.]+\)$/g,"0.4)"):i,t.language=e;const{isVisibleHints:s,isVisibleIcon:a,isVisibleDot:o,botName:l}=initLocalStorageValues(t);t.botName=l,widgetSettingsStore.update((e=>({...e,isVisibleHints:s,isVisibleIcon:a,isVisibleDot:o,settings:t,organizationId:n}))),authStore.update((t=>({...t,areWidgetSettingsReceived:!0})))}catch(t){console.error(t),authStore.update((t=>({...t,areWidgetSettingsReceived:!1})))}},initLocalStorageValues=t=>{const{language:e,botName:n}=t,r=JSON.parse(localStorage.getItem(EVA_LOCALES)),i="Eva"===n?r[e.toLowerCase()]["evahelper.eva.name"]:n;let s=localStorage.getItem(SHOW_HINTS_KEY),a=localStorage.getItem(SHOW_ICON_KEY);null===s||null===a?(s=!0,a=!0,localStorage.setItem(SHOW_HINTS_KEY,"true"),localStorage.setItem(SHOW_ICON_KEY,"true")):(s=null===s||"true"===s,a=null===a||"true"===a);const o=!a;return{isVisibleHints:Boolean(s&&a),isVisibleIcon:a,isVisibleDot:o,botName:i}};function createWidgetRuntimeStore(){const{update:t,subscribe:e}=writable({isVisible:!1,isFullScreen:!1,currentPath:""});return{update:t,subscribe:e,setCurrentPath:function(e){t((t=>({...t,currentPath:e})))},setChatVisibility:function(e){t((t=>({...t,isVisible:e})))},toggleFullScreen:function(){t((t=>({...t,isFullScreen:!t.isFullScreen})))}}}const widgetRuntimeStore=createWidgetRuntimeStore(),chooseRandomValueFromList=t=>{const e=t?.filter((t=>t&&""!==t.trim()))||[];return 0===e.length?"":e[Math.floor(Math.random()*e.length)]};function cubicOut(t){const e=t-1;return e*e*e+1}function __rest(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function fade(t,{delay:e=0,duration:n=400,easing:r=identity}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*i}}function fly(t,{delay:e=0,duration:n=400,easing:r=cubicOut,x:i=0,y:s=0,opacity:a=0}={}){const o=getComputedStyle(t),l=+o.opacity,c="none"===o.transform?"":o.transform,h=l*(1-a),[p,d]=split_css_unit(i),[u,f]=split_css_unit(s);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*p}${d}, ${(1-t)*u}${f});\n\t\t\topacity: ${l-h*e}`}}function crossfade(t){var{fallback:e}=t,n=__rest(t,["fallback"]);const r=new Map,i=new Map;function s(t,r,i){return(s,a)=>(t.set(a.key,s),()=>{if(r.has(a.key)){const t=r.get(a.key);return r.delete(a.key),function(t,e,r){const{delay:i=0,duration:s=(t=>30*Math.sqrt(t)),easing:a=cubicOut}=assign(assign({},n),r),o=t.getBoundingClientRect(),l=e.getBoundingClientRect(),c=o.left-l.left,h=o.top-l.top,p=o.width/l.width,d=o.height/l.height,u=Math.sqrt(c*c+h*h),f=getComputedStyle(e),m="none"===f.transform?"":f.transform,g=+f.opacity;return{delay:i,duration:is_function(s)?s(u):s,easing:a,css:(t,e)=>`\n\t\t\t\topacity: ${t*g};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${e*c}px,${e*h}px) scale(${t+(1-t)*p}, ${t+(1-t)*d});\n\t\t\t`}}(t,s,a)}return t.delete(a.key),e&&e(s,a,i)})}return[s(i,r,!1),s(r,i,!0)]}function create_fragment$z(t){let e,n,r,i,s,a,o,l,c;return{c(){e=svg_element("svg"),n=svg_element("rect"),r=svg_element("path"),i=svg_element("path"),s=svg_element("rect"),a=svg_element("rect"),o=svg_element("rect"),l=svg_element("rect"),c=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{class:!0,style:!0,fill:!0,height:!0,id:!0,viewBox:!0,width:!0,xmlns:!0});var h=children(e);n=claim_svg_element(h,"rect",{fill:!0,height:!0,rx:!0,stroke:!0,"stroke-width":!0,width:!0,x:!0,y:!0}),children(n).forEach(detach),r=claim_svg_element(h,"path",{d:!0,fill:!0}),children(r).forEach(detach),i=claim_svg_element(h,"path",{d:!0,stroke:!0,"stroke-width":!0}),children(i).forEach(detach),s=claim_svg_element(h,"rect",{fill:!0,height:!0,rx:!0,width:!0,x:!0,y:!0}),children(s).forEach(detach),a=claim_svg_element(h,"rect",{fill:!0,height:!0,rx:!0,width:!0,x:!0,y:!0}),children(a).forEach(detach),o=claim_svg_element(h,"rect",{fill:!0,height:!0,rx:!0,width:!0,x:!0,y:!0}),children(o).forEach(detach),l=claim_svg_element(h,"rect",{fill:!0,height:!0,rx:!0,width:!0,x:!0,y:!0}),children(l).forEach(detach),c=claim_svg_element(h,"path",{d:!0,fill:!0}),children(c).forEach(detach),h.forEach(detach),this.h()},h(){attr(n,"fill","#fff"),attr(n,"height","298"),attr(n,"rx","149"),attr(n,"stroke",t[1]),attr(n,"stroke-width","25"),attr(n,"width","421"),attr(n,"x","40.5"),attr(n,"y","103.5"),attr(r,"d","m383.1 367.7 22 73.7-96.8-55.9 74.8-17.8Z"),attr(r,"fill","#fff"),attr(i,"d","m309 401.2 109.3 62c4.4 2.4 9.3-2.5 6.8-6.9l-24.3-43a8 8 0 0 1-.5-1.4L385 368.5"),attr(i,"stroke",t[1]),attr(i,"stroke-width","25"),attr(s,"fill",t[1]),attr(s,"height","98"),attr(s,"rx","17"),attr(s,"width","60"),attr(s,"x","134"),attr(s,"y","178"),attr(a,"fill",t[1]),attr(a,"height","98"),attr(a,"rx","17"),attr(a,"width","60"),attr(a,"x","252"),attr(a,"y","178"),attr(o,"fill","#fff"),attr(o,"height","32"),attr(o,"rx","11"),attr(o,"width","22"),attr(o,"x","133"),attr(o,"y","195"),attr(l,"fill","#fff"),attr(l,"height","32"),attr(l,"rx","11"),attr(l,"width","22"),attr(l,"x","251"),attr(l,"y","195"),attr(c,"d","M247.9.7a10 10 0 0 1 5.2 0L465.7 59c9.8 2.6 9.8 16.6 0 19.2l-212.6 58.2a10 10 0 0 1-5.2 0L35.3 78c-9.8-2.6-9.8-16.6 0-19.2L247.9.7Z"),attr(c,"fill",t[1]),attr(e,"class","logo svelte-1wwu4kh"),set_style(e,"--shadowColor",t[0]),attr(e,"fill","none"),attr(e,"height","477"),attr(e,"id","evahelp-ai-toggle-btn-logo"),attr(e,"viewBox","0 0 501 477"),attr(e,"width","501"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,h){insert_hydration(t,e,h),append_hydration(e,n),append_hydration(e,r),append_hydration(e,i),append_hydration(e,s),append_hydration(e,a),append_hydration(e,o),append_hydration(e,l),append_hydration(e,c)},p(t,[r]){2&r&&attr(n,"stroke",t[1]),2&r&&attr(i,"stroke",t[1]),2&r&&attr(s,"fill",t[1]),2&r&&attr(a,"fill",t[1]),2&r&&attr(c,"fill",t[1]),1&r&&set_style(e,"--shadowColor",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$y(t,e,n){let r,i,s;return component_subscribe(t,widgetSettingsStore,(t=>n(2,s=t))),t.$$.update=()=>{4&t.$$.dirty&&n(1,r=s.settings.color),4&t.$$.dirty&&n(0,i=s.settings.shadowColor)},[i,r,s]}class Eva_icon extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$y,create_fragment$z,not_equal,{})}}function create_fragment$y(t){let e,n;return{c(){e=svg_element("svg"),n=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{fill:!0,height:!0,viewBox:!0,width:!0,xmlns:!0});var r=children(e);n=claim_svg_element(r,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),children(n).forEach(detach),r.forEach(detach),this.h()},h(){attr(n,"d","M16.1146 10.0605H5.40627M5.31219 10.5501L4.42068 13.5091C4.08318 14.6293 3.91443 15.1894 4.05801 15.5238C4.18266 15.8142 4.43723 16.0286 4.74458 16.102C5.09859 16.1866 5.62177 15.925 6.66816 15.4018L14.4885 11.4916C15.4097 11.031 15.8704 10.8007 16.0182 10.489C16.1468 10.2178 16.1468 9.90325 16.0182 9.63205C15.8704 9.32035 15.4097 9.09005 14.4885 8.62945L6.65746 4.71397C5.61396 4.19223 5.09222 3.93136 4.73855 4.01557C4.43146 4.0887 4.17693 4.30253 4.05194 4.59239C3.90797 4.92624 4.07494 5.48516 4.40886 6.60301L5.31328 9.63065C5.36437 9.80165 5.38987 9.88715 5.39997 9.97425C5.40897 10.0515 5.40886 10.1295 5.39966 10.2068C5.38936 10.2939 5.36366 10.3793 5.31219 10.5501Z"),attr(n,"stroke",t[0]),attr(n,"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"stroke-width","1.488"),attr(e,"fill","none"),attr(e,"height","20"),attr(e,"viewBox","0 0 20 20"),attr(e,"width","20"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},p(t,[e]){1&e&&attr(n,"stroke",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$x(t,e,n){let{fillColor:r="#dadada"}=e;return t.$$set=t=>{"fillColor"in t&&n(0,r=t.fillColor)},[r]}class SendButton extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$x,create_fragment$y,not_equal,{fillColor:0})}}function create_fragment$x(t){let e,n;return{c(){e=svg_element("svg"),n=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{fill:!0,height:!0,viewBox:!0,width:!0,xmlns:!0});var r=children(e);n=claim_svg_element(r,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),children(n).forEach(detach),r.forEach(detach),this.h()},h(){attr(n,"d","M18.7639 10.0605H8.0556M1 6.06058H3.5M2 10.0605H3.5M2.5 14.0605H3.5M7.96153 10.5501L7.07002 13.5091C6.73252 14.6293 6.56376 15.1894 6.70734 15.5238C6.83199 15.8142 7.08656 16.0286 7.39391 16.102C7.74792 16.1866 8.2711 15.925 9.3175 15.4018L17.1378 11.4916C18.059 11.031 18.5197 10.8007 18.6675 10.489C18.7961 10.2178 18.7961 9.90325 18.6675 9.63205C18.5197 9.32035 18.059 9.09005 17.1378 8.62945L9.3068 4.71397C8.2633 4.19223 7.74156 3.93136 7.38789 4.01557C7.0808 4.0887 6.82627 4.30253 6.70128 4.59239C6.55731 4.92624 6.72427 5.48516 7.05819 6.60301L7.96261 9.63065C8.0137 9.80165 8.0392 9.88715 8.0493 9.97425C8.0583 10.0515 8.0582 10.1295 8.049 10.2068C8.0387 10.2939 8.013 10.3793 7.96153 10.5501Z"),attr(n,"stroke",t[0]),attr(n,"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"stroke-width","1.488"),attr(e,"fill","none"),attr(e,"height","20"),attr(e,"viewBox","0 0 20 20"),attr(e,"width","20"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},p(t,[e]){1&e&&attr(n,"stroke",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$w(t,e,n){let{fillColor:r="#dadada"}=e;return t.$$set=t=>{"fillColor"in t&&n(0,r=t.fillColor)},[r]}class SendButtonWithLines extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$w,create_fragment$x,not_equal,{fillColor:0})}}const debounce=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout((()=>{t.apply(this,r)}),e)}};function create_else_block$8(t){let e,n,r,i;return n=new SendButtonWithLines({}),{c(){e=element("div"),create_component(n.$$.fragment)},l(t){e=claim_element(t,"DIV",{});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach)},m(t,r){insert_hydration(t,e,r),mount_component(n,e,null),i=!0},i(t){i||(transition_in(n.$$.fragment,t),add_render_callback((()=>{i&&(r||(r=create_bidirectional_transition(e,fade,{duration:200},!0)),r.run(1))})),i=!0)},o(t){transition_out(n.$$.fragment,t),r||(r=create_bidirectional_transition(e,fade,{duration:200},!1)),r.run(0),i=!1},d(t){t&&detach(e),destroy_component(n),t&&r&&r.end()}}}function create_if_block_1$7(t){let e,n,r,i;return n=new SendButton({}),{c(){e=element("div"),create_component(n.$$.fragment)},l(t){e=claim_element(t,"DIV",{});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach)},m(t,r){insert_hydration(t,e,r),mount_component(n,e,null),i=!0},i(t){i||(transition_in(n.$$.fragment,t),add_render_callback((()=>{i&&(r||(r=create_bidirectional_transition(e,fade,{duration:200},!0)),r.run(1))})),i=!0)},o(t){transition_out(n.$$.fragment,t),r||(r=create_bidirectional_transition(e,fade,{duration:200},!1)),r.run(0),i=!1},d(t){t&&detach(e),destroy_component(n),t&&r&&r.end()}}}function create_if_block$f(t){let e,n,r,i;return n=new Eva_icon({}),{c(){e=element("div"),create_component(n.$$.fragment)},l(t){e=claim_element(t,"DIV",{});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach)},m(t,r){insert_hydration(t,e,r),mount_component(n,e,null),i=!0},i(t){i||(transition_in(n.$$.fragment,t),add_render_callback((()=>{i&&(r||(r=create_bidirectional_transition(e,fade,{duration:200},!0)),r.run(1))})),i=!0)},o(t){transition_out(n.$$.fragment,t),r||(r=create_bidirectional_transition(e,fade,{duration:200},!1)),r.run(0),i=!1},d(t){t&&detach(e),destroy_component(n),t&&r&&r.end()}}}function create_fragment$w(t){let e,n,r,i,s,a,o,l,c,h,p,d,u;const f=[create_if_block$f,create_if_block_1$7,create_else_block$8],m=[];function g(t,e){return t[1]&&t[4]?0:t[4]?1:2}return o=g(t),l=m[o]=f[o](t),{c(){e=element("form"),n=element("textarea"),i=space(),s=element("button"),a=element("div"),l.c(),this.h()},l(t){e=claim_element(t,"FORM",{class:!0,style:!0});var r=children(e);n=claim_element(r,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),children(n).forEach(detach),i=claim_space(r),s=claim_element(r,"BUTTON",{class:!0,style:!0,type:!0});var o=children(s);a=claim_element(o,"DIV",{class:!0});var c=children(a);l.l(c),c.forEach(detach),o.forEach(detach),r.forEach(detach),this.h()},h(){n.value=t[0],attr(n,"class","field svelte-kz64a2"),attr(n,"rows","1"),attr(n,"placeholder",r=t[2]||t[8]("evahelper.textarea.placeholder")),attr(a,"class","icon-wrapper"),attr(s,"class","button svelte-kz64a2"),s.disabled=c=!t[1]&&t[4],set_style(s,"--color",t[7]),set_style(s,"--shadowColor",t[5]),attr(s,"type","submit"),toggle_class(s,"button-collapsed",t[1]),toggle_class(s,"button-disabled",t[1]&&t[4]),toggle_class(s,"button-active",!t[4]),attr(e,"class","form svelte-kz64a2"),attr(e,"style",h=t[6]?"border-radius: none;":"border-radius: inherit;"),toggle_class(e,"form-collapsed",t[1])},m(r,l){insert_hydration(r,e,l),append_hydration(e,n),t[15](n),append_hydration(e,i),append_hydration(e,s),append_hydration(s,a),m[o].m(a,null),p=!0,d||(u=[listen(n,"click",t[12]),listen(n,"input",t[9]),listen(n,"keydown",t[10]),listen(n,"paste",t[11]),listen(e,"submit",prevent_default(t[13]))],d=!0)},p(t,[i]){(!p||1&i)&&(n.value=t[0]),(!p||260&i&&r!==(r=t[2]||t[8]("evahelper.textarea.placeholder")))&&attr(n,"placeholder",r);let d=o;o=g(t),o!==d&&(group_outros(),transition_out(m[d],1,1,(()=>{m[d]=null})),check_outros(),l=m[o],l||(l=m[o]=f[o](t),l.c()),transition_in(l,1),l.m(a,null)),(!p||18&i&&c!==(c=!t[1]&&t[4]))&&(s.disabled=c),(!p||128&i)&&set_style(s,"--color",t[7]),(!p||32&i)&&set_style(s,"--shadowColor",t[5]),(!p||2&i)&&toggle_class(s,"button-collapsed",t[1]),(!p||18&i)&&toggle_class(s,"button-disabled",t[1]&&t[4]),(!p||16&i)&&toggle_class(s,"button-active",!t[4]),(!p||64&i&&h!==(h=t[6]?"border-radius: none;":"border-radius: inherit;"))&&attr(e,"style",h),(!p||2&i)&&toggle_class(e,"form-collapsed",t[1])},i(t){p||(transition_in(l),p=!0)},o(t){transition_out(l),p=!1},d(n){n&&detach(e),t[15](null),m[o].d(),d=!1,run_all(u)}}}function instance$v(e,n,r){let i,s,a,o,l,c;component_subscribe(e,messagesStore,(t=>r(16,o=t))),component_subscribe(e,widgetSettingsStore,(t=>r(14,l=t))),component_subscribe(e,t,(t=>r(8,c=t)));const h=createEventDispatcher();let{value:p=""}=n,{isCollapsed:d=!1}=n,{placeholder:u=""}=n,f=null,m=!0;onMount((()=>{document.addEventListener("keypress",g),_(),r(3,f.style.height="20px",f),b()})),beforeUpdate((()=>{r(4,m=!p||Boolean(o.typingMessageId))})),onDestroy((()=>{document.removeEventListener("keypress",g)}));const g=t=>{13===t.keyCode&&!t.shiftKey&&p&&v()},y=debounce((t=>{const e=t.target.value;r(0,p=e),h("input",e),b()}),50),_=()=>{f.blur(),f.focus()},v=()=>{m?d&&widgetRuntimeStore.setChatVisibility(!0):(sendNewMessage(p),messagesStore.setIsUserMsgSend(!0),h("submit"),r(0,p=""),r(3,f.value="",f),r(3,f.style.height="20px",f),h("input",""))},b=()=>{if(!f)return;if(!p||0===p.length)return void r(3,f.style.height="20px",f);r(3,f.style.height="auto",f);const t=getComputedStyle(f),e=parseInt(t.maxHeight,10),n=f.scrollHeight,i=Math.max(n,20);r(3,f.style.height=(isNaN(e)?i:Math.min(i,e))+"px",f)};return e.$$set=t=>{"value"in t&&r(0,p=t.value),"isCollapsed"in t&&r(1,d=t.isCollapsed),"placeholder"in t&&r(2,u=t.placeholder)},e.$$.update=()=>{16384&e.$$.dirty&&r(7,i=l.settings.color),16384&e.$$.dirty&&r(6,s=l.settings.showNamePlate),16384&e.$$.dirty&&r(5,a=l.settings.shadowColor),1&e.$$.dirty&&b()},[p,d,u,f,m,a,s,i,c,y,t=>{13!==t.keyCode||t.shiftKey?y(t):(t.preventDefault(),p?.length&&v())},()=>{requestAnimationFrame((()=>b()))},_,v,l,function(t){binding_callbacks[t?"unshift":"push"]((()=>{f=t,r(3,f)}))}]}class Controls extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$v,create_fragment$w,not_equal,{value:0,isCollapsed:1,placeholder:2})}}function create_fragment$v(t){let e,n,r;return n=new Controls({props:{value:t[1],isCollapsed:!0,placeholder:t[3]("evahelper.searchBar.placeholder")}}),n.$on("input",t[15]),n.$on("submit",t[5]),{c(){e=element("div"),create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"class","collapsed-widget svelte-mz9kwd"),attr(e,"style",t[2]),toggle_class(e,"collapsed-widget-mirrored",t[0])},m(t,i){insert_hydration(t,e,i),mount_component(n,e,null),r=!0},p(t,[i]){const s={};2&i&&(s.value=t[1]),8&i&&(s.placeholder=t[3]("evahelper.searchBar.placeholder")),n.$set(s),(!r||4&i)&&attr(e,"style",t[2]),(!r||1&i)&&toggle_class(e,"collapsed-widget-mirrored",t[0])},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){t&&detach(e),destroy_component(n)}}}function instance$u(e,n,r){let i,s,a,o,l,c,h,p,d,u,f,m,g;component_subscribe(e,widgetRuntimeStore,(t=>r(17,d=t))),component_subscribe(e,authStore,(t=>r(12,u=t))),component_subscribe(e,widgetSettingsStore,(t=>r(13,f=t))),component_subscribe(e,conversation,(t=>r(14,m=t))),component_subscribe(e,t,(t=>r(3,g=t)));let y="",_=!1;const v=t=>{r(1,y=t)};onMount((async()=>{if(_)return;const t=chooseRandomValueFromList(f.settings.hints);t&&r(1,y=t),u.isSocketConnectionEstablished||await connectWebSocket(d.currentPath)}));return e.$$.update=()=>{8192&e.$$.dirty&&r(11,i=f.settings),2048&e.$$.dirty&&r(6,s=i?.position?.margin?.right??0),2048&e.$$.dirty&&r(10,a=i?.position?.margin?.bottom??0),2048&e.$$.dirty&&r(9,o=i?.position?.margin?.left??0),2048&e.$$.dirty&&r(0,l="BOTTOM_LEFT"===i?.position?.align),2048&e.$$.dirty&&r(7,c="BOTTOM_RIGHT"===i?.position?.align),2048&e.$$.dirty&&r(8,h="BOTTOM_CENTER"===i?.position?.align),1985&e.$$.dirty&&r(2,p=`\n    margin-bottom: ${a}px;\n    ${l?`left: ${o}px; right: auto;`:""}\n    ${h?"left: 50%; transform: translateX(-50%); right: auto;":""}\n    ${c?`right: ${s}px; left: auto;`:""}\n  `),20480&e.$$.dirty&&m?.id&&u.isSocketConnectionEstablished&&(async()=>{m?.id&&(_=!0,await getMessages({size:10,page:0,sortDirection:"DESC",conversationId:m.id}))})()},[l,y,p,g,v,()=>{y.trim()&&widgetRuntimeStore.setChatVisibility(!0)},s,c,h,o,a,i,u,f,m,t=>v(t.detail)]}class CollapsedWidget extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$u,create_fragment$v,not_equal,{})}}function clickOutside(t){const e=e=>{!t||t.contains(e.target)||e.defaultPrevented||t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}const defaultComponent=()=>({component:null,props:{}});function createModalStore(){const{update:t,subscribe:e}=writable({children:defaultComponent(),showModal:!1});return{update:t,subscribe:e,closeModal:()=>{t((t=>({...t,showModal:!1})))},showModal:()=>{t((t=>({...t,showModal:!0})))}}}const modalStore=createModalStore();var lottie=createCommonjsModule((function(module,exports){var factory;"undefined"!=typeof navigator&&(factory=function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,r,i=t.length;for(n=0;n<i;n+=1)for(var s in r=t[n].prototype)Object.prototype.hasOwnProperty.call(r,s)&&(e.prototype[s]=r[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var n,r=0,i=[];switch(t){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<e;r+=1)i.push(n);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,n){return"float32"===e?new Float32Array(n):"int16"===e?new Int16Array(n):"uint8c"===e?new Uint8ClampedArray(n):t(e,n)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,n=createSizedArray(t.length),r=t.length;for(e=0;e<r;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,r){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,r){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,n){var r,i,s,a,o,l,c,h;switch(l=n*(1-e),c=n*(1-(o=6*t-(a=Math.floor(6*t)))*e),h=n*(1-(1-o)*e),a%6){case 0:r=n,i=h,s=l;break;case 1:r=c,i=n,s=l;break;case 2:r=l,i=n,s=h;break;case 3:r=l,i=c,s=n;break;case 4:r=h,i=l,s=n;break;case 5:r=n,i=l,s=c}return[r,i,s]}function RGBtoHSV(t,e,n){var r,i=Math.max(t,e,n),s=Math.min(t,e,n),a=i-s,o=0===i?0:a/i,l=i/255;switch(i){case s:r=0;break;case t:r=e-n+a*(e<n?6:0),r/=6*a;break;case e:r=n-t+2*a,r/=6*a;break;case n:r=t-e+4*a,r/=6*a}return[r,o,l]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=1===e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+n[t]+n[e]+n[r]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(t)}var dataManager=function(){var t,e,n=1,r=[],i={onmessage:function(){},postMessage:function(e){t({data:e})}},s={postMessage:function(t){i.onmessage({data:t})}};function a(){e||((e=function(e){if(window.Worker&&window.Blob&&getWebWorker()){var n=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),r=URL.createObjectURL(n);return new Worker(r)}return t=e,i}((function(t){if(s.dataManager||(s.dataManager=function(){function t(i,s){var a,o,l,c,h,d,u=i.length;for(o=0;o<u;o+=1)if("ks"in(a=i[o])&&!a.completed){if(a.completed=!0,a.hasMask){var f=a.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)r(f[l].pt.k);else for(d=f[l].pt.k.length,h=0;h<d;h+=1)f[l].pt.k[h].s&&r(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&r(f[l].pt.k[h].e[0])}0===a.ty?(a.layers=e(a.refId,s),t(a.layers,s)):4===a.ty?n(a.shapes):5===a.ty&&p(a)}}function e(t,e){var n=function(t,e){for(var n=0,r=e.length;n<r;){if(e[n].id===t)return e[n];n+=1}return null}(t,e);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function n(t){var e,i,s;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)r(t[e].ks.k);else for(s=t[e].ks.k.length,i=0;i<s;i+=1)t[e].ks.k[i].s&&r(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&r(t[e].ks.k[i].e[0]);else"gr"===t[e].ty&&n(t[e].it)}function r(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&null))}var s,a=function(){var t=[4,4,14];function e(t){var e,n,r,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(r=void 0,r=(n=t[e]).t.d,n.t.d={k:[{s:r,t:0}]})}return function(n){if(i(t,n.v)&&(e(n.layers),n.assets)){var r,s=n.assets.length;for(r=0;r<s;r+=1)n.assets[r].layers&&e(n.assets[r].layers)}}}(),o=(s=[4,7,99],function(t){if(t.chars&&!i(s,t.v)){var e,r=t.chars.length;for(e=0;e<r;e+=1){var a=t.chars[e];a.data&&a.data.shapes&&(n(a.data.shapes),a.data.ip=0,a.data.op=99999,a.data.st=0,a.data.sr=1,a.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(a.data.shapes.push({ty:"no"}),a.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var t=[5,7,15];function e(t){var e,n,r=t.length;for(e=0;e<r;e+=1)5===t[e].ty&&(n=void 0,"number"==typeof(n=t[e].t.p).a&&(n.a={a:0,k:n.a}),"number"==typeof n.p&&(n.p={a:0,k:n.p}),"number"==typeof n.r&&(n.r={a:0,k:n.r}))}return function(n){if(i(t,n.v)&&(e(n.layers),n.assets)){var r,s=n.assets.length;for(r=0;r<s;r+=1)n.assets[r].layers&&e(n.assets[r].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var n,r,i,s=t.length;for(n=0;n<s;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(i=t[n].c.k.length,r=0;r<i;r+=1)t[n].c.k[r].s&&(t[n].c.k[r].s[0]/=255,t[n].c.k[r].s[1]/=255,t[n].c.k[r].s[2]/=255,t[n].c.k[r].s[3]/=255),t[n].c.k[r].e&&(t[n].c.k[r].e[0]/=255,t[n].c.k[r].e[1]/=255,t[n].c.k[r].e[2]/=255,t[n].c.k[r].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(i(t,e.v)&&(n(e.layers),e.assets)){var r,s=e.assets.length;for(r=0;r<s;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var n,r,i;for(n=t.length-1;n>=0;n-=1)if("sh"===t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(i=t[n].ks.k.length,r=0;r<i;r+=1)t[n].ks.k[r].s&&(t[n].ks.k[r].s[0].c=t[n].closed),t[n].ks.k[r].e&&(t[n].ks.k[r].e[0].c=t[n].closed);else"gr"===t[n].ty&&e(t[n].it)}function n(t){var n,r,i,s,a,o,l=t.length;for(r=0;r<l;r+=1){if((n=t[r]).hasMask){var c=n.masksProperties;for(s=c.length,i=0;i<s;i+=1)if(c[i].pt.k.i)c[i].pt.k.c=c[i].cl;else for(o=c[i].pt.k.length,a=0;a<o;a+=1)c[i].pt.k[a].s&&(c[i].pt.k[a].s[0].c=c[i].cl),c[i].pt.k[a].e&&(c[i].pt.k[a].e[0].c=c[i].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(i(t,e.v)&&(n(e.layers),e.assets)){var r,s=e.assets.length;for(r=0;r<s;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}();function p(t){0===t.t.a.length&&t.t.p}var d={completeData:function(n){n.__complete||(c(n),a(n),o(n),l(n),h(n),t(n.layers,n.assets),function(n,r){if(n){var i=0,s=n.length;for(i=0;i<s;i+=1)1===n[i].t&&(n[i].data.layers=e(n[i].data.refId,r),t(n[i].data.layers,r))}}(n.chars,n.assets),n.__complete=!0)}};return d.checkColors=c,d.checkChars=o,d.checkPathProperties=l,d.checkShapes=h,d.completeLayers=t,d}()),s.assetLoader||(s.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,n,r,i){var s,a=new XMLHttpRequest;try{a.responseType="json"}catch(t){}a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)s=t(a),r(s);else try{s=t(a),r(s)}catch(t){i&&i(t)}};try{a.open(["G","E","T"].join(""),e,!0)}catch(t){a.open(["G","E","T"].join(""),n+"/"+e,!0)}a.send()}}}()),"loadAnimation"===t.data.type)s.assetLoader.load(t.data.path,t.data.fullPath,(function(e){s.dataManager.completeData(e),s.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){s.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var e=t.data.animation;s.dataManager.completeData(e),s.postMessage({id:t.data.id,payload:e,status:"success"})}else"loadData"===t.data.type&&s.assetLoader.load(t.data.path,t.data.fullPath,(function(e){s.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){s.postMessage({id:t.data.id,status:"error"})}))}))).onmessage=function(t){var e=t.data,n=e.id,i=r[n];r[n]=null,"success"===e.status?i.onComplete(e.payload):i.onError&&i.onError()})}function o(t,e){var i="processId_"+(n+=1);return r[i]={onComplete:t,onError:e},i}return{loadAnimation:function(t,n,r){a();var i=o(n,r);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},loadData:function(t,n,r){a();var i=o(n,r);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},completeAnimation:function(t,n,r){a();var i=o(n,r);e.postMessage({type:"complete",animation:t,id:i})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(t,e,n){var r="";if(t.e)r=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=e+i}else r=n,r+=t.u?t.u:"",r+=t.p;return r}function i(t){var e=0,n=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(n)),e+=1}.bind(this),50)}function s(t){var e={assetData:t},n=r(t,this.assetsPath,this.path);return dataManager.loadData(n,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function a(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=s.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(t,e){var n;this.imagesLoadedCb=e;var r=t.length;for(n=0;n<r;n+=1)t[n].layers||(t[n].t&&"seq"!==t[n].t?3===t[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[n]))):(this.totalImages+=1,this.images.push(this._createImageData(t[n]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,n=this.images.length;e<n;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var n=r(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),i.src=n;var s={img:i,assetData:e};return s},createImageData:function(e){var n=r(e,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var s={img:i,assetData:e};return s},imageLoaded:e,footageLoaded:n,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],r=0;r<n.length;r+=1)n[r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,r=this._cbs[t].length;n<r;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,r-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,n=t.split("\r\n"),r={},i=0,s=0;s<n.length;s+=1)2===(e=n[s].split(":")).length&&(r[e[0]]=e[1].trim(),i+=1);if(0===i)throw new Error;return r}return function(e){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],s={time:i.tm,duration:i.dr};try{s.payload=JSON.parse(e[r].cm)}catch(n){try{s.payload=t(e[r].cm)}catch(t){s.payload={name:e[r].cm}}}n.push(s)}return n}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,n=this.compositions.length;e<n;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},r=t.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===i?n.loop=!1:"true"===i?n.loop=!0:""!==i&&(n.loop=parseInt(i,10));var s=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==s,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,r=this.animationData.layers,i=r.length,s=t.layers,a=s.length;for(n=0;n<a;n+=1)for(e=0;e<i;){if(r[e].id===s[n].id){r[e]=s[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n="number"==typeof t?t:void 0,r="number"==typeof e?e:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if((e=this.markers[n]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(r,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var n,r=t.length;for(n=0;n<r;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{this.renderer.getElementByPath(t).updateDocumentData(e,n)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,r=0,i=0,s=!0,a=!1;function o(t){for(var n=0,i=t.target;n<r;)e[n].animation===i&&(e.splice(n,1),n-=1,r-=1,i.isPaused||h()),n+=1}function l(t,n){if(!t)return null;for(var i=0;i<r;){if(e[i].elem===t&&null!==e[i].elem)return e[i].animation;i+=1}var s=new AnimationItem;return p(s,t),s.setData(t,n),s}function c(){i+=1,f()}function h(){i-=1}function p(t,n){t.addEventListener("destroy",o),t.addEventListener("_active",c),t.addEventListener("_idle",h),e.push({elem:n,animation:t}),r+=1}function d(t){var o,l=t-n;for(o=0;o<r;o+=1)e[o].animation.advanceTime(l);n=t,i&&!a?window.requestAnimationFrame(d):s=!0}function u(t){n=t,window.requestAnimationFrame(d)}function f(){!a&&i&&s&&(window.requestAnimationFrame(u),s=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return p(e,null),e.setParams(t),e},t.setSpeed=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setSpeed(t,n)},t.setDirection=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setDirection(t,n)},t.play=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.play(t)},t.pause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.pause(t)},t.stop=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.stop(t)},t.togglePause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.togglePause(t)},t.searchAnimations=function(t,e,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=i.length;for(r=0;r<s;r+=1)n&&i[r].setAttribute("data-bm-type",n),l(i[r],t);if(e&&0===s){n||(n="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",n),a.appendChild(o),l(o,t)}},t.resize=function(){var t;for(t=0;t<r;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,n,i){var s;for(s=0;s<r;s+=1)e[s].animation.goToAndStop(t,n,i)},t.destroy=function(t){var n;for(n=r-1;n>=0;n-=1)e[n].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,f()},t.setVolume=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setVolume(t,n)},t.mute=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.mute(t)},t.unmute=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r.push(e[t].animation);return r},t}(),BezierFactory=function(){var t={getBezierEasing:function(t,n,r,i,s){var a=s||("bez_"+t+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(e[a])return e[a];var o=new c([t,n,r,i]);return e[a]=o,o}},e={},n=.1,r="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function o(t,e,n){return((i(e,n)*t+s(e,n))*t+a(e))*t}function l(t,e,n){return 3*i(e,n)*t*t+2*s(e,n)*t+a(e)}function c(t){this._p=t,this._mSampleValues=r?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(t){var e=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===n&&r===i?t:0===t?0:1===t?1:o(this._getTForX(t),n,i)},_precompute:function(){var t=this._p[0],e=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=o(r*n,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],i=this._mSampleValues,s=0,a=1;10!==a&&i[a]<=t;++a)s+=n;var c=s+(t-i[--a])/(i[a+1]-i[a])*n,h=l(c,e,r);return h>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var s=l(e,n,r);if(0===s)return e;e-=(o(e,n,r)-t)/s}return e}(t,c,e,r):0===h?c:function(t,e,n,r,i){var s,a,l=0;do{(s=o(a=e+(n-e)/2,r,i)-t)>0?n=a:e=a}while(Math.abs(s)>1e-7&&++l<10);return a}(t,s,s+n,e,r)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,n){var r=0,i=t,s=createSizedArray(i),a={newElement:function(){return r?s[r-=1]:e()},release:function(t){r===i&&(s=pooling.double(s),i*=2),n&&n(t),s[r]=t,r+=1}};return a},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}));function bezFunction(){var t=Math;function e(t,e,n,r,i,s){var a=t*r+e*i+n*s-i*r-s*t-n*e;return a>-.001&&a<.001}var n=function(t,e,n,r){var i,s,a,o,l,c,h=getDefaultCurveSegments(),p=0,d=[],u=[],f=bezierLengthPool.newElement();for(a=n.length,i=0;i<h;i+=1){for(l=i/(h-1),c=0,s=0;s<a;s+=1)o=bmPow(1-l,3)*t[s]+3*bmPow(1-l,2)*l*n[s]+3*(1-l)*bmPow(l,2)*r[s]+bmPow(l,3)*e[s],d[s]=o,null!==u[s]&&(c+=bmPow(d[s]-u[s],2)),u[s]=d[s];c&&(p+=c=bmSqrt(c)),f.percents[i]=l,f.lengths[i]=p}return f.addedLength=p,f};function r(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var s,a=(s={},function(t,n,a,o){var l=(t[0]+"_"+t[1]+"_"+n[0]+"_"+n[1]+"_"+a[0]+"_"+a[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!s[l]){var c,h,p,d,u,f,m,g=getDefaultCurveSegments(),y=0,_=null;2===t.length&&(t[0]!==n[0]||t[1]!==n[1])&&e(t[0],t[1],n[0],n[1],t[0]+a[0],t[1]+a[1])&&e(t[0],t[1],n[0],n[1],n[0]+o[0],n[1]+o[1])&&(g=2);var v=new r(g);for(p=a.length,c=0;c<g;c+=1){for(m=createSizedArray(p),u=c/(g-1),f=0,h=0;h<p;h+=1)d=bmPow(1-u,3)*t[h]+3*bmPow(1-u,2)*u*(t[h]+a[h])+3*(1-u)*bmPow(u,2)*(n[h]+o[h])+bmPow(u,3)*n[h],m[h]=d,null!==_&&(f+=bmPow(m[h]-_[h],2));y+=f=bmSqrt(f),v.points[c]=new i(f,m),_=m}v.segmentLength=y,s[l]=v}return s[l]});function o(t,e){var n=e.percents,r=e.lengths,i=n.length,s=bmFloor((i-1)*t),a=t*e.addedLength,o=0;if(s===i-1||0===s||a===r[s])return n[s];for(var l=r[s]>a?-1:1,c=!0;c;)if(r[s]<=a&&r[s+1]>a?(o=(a-r[s])/(r[s+1]-r[s]),c=!1):s+=l,s<0||s>=i-1){if(s===i-1)return n[s];c=!1}return n[s]+(n[s+1]-n[s])*o}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,r=segmentsLengthPool.newElement(),i=t.c,s=t.v,a=t.o,o=t.i,l=t._length,c=r.lengths,h=0;for(e=0;e<l-1;e+=1)c[e]=n(s[e],s[e+1],a[e],o[e+1]),h+=c[e].addedLength;return i&&l&&(c[e]=n(s[e],s[0],a[e],o[0]),h+=c[e].addedLength),r.totalLength=h,r},getNewSegment:function(e,n,r,i,s,a,c){s<0?s=0:s>1&&(s=1);var h,p=o(s,c),d=o(a=a>1?1:a,c),u=e.length,f=1-p,m=1-d,g=f*f*f,y=p*f*f*3,_=p*p*f*3,v=p*p*p,b=f*f*m,x=p*f*m+f*p*m+f*f*d,E=p*p*m+f*p*d+p*f*d,w=p*p*d,k=f*m*m,S=p*m*m+f*d*m+f*m*d,C=p*d*m+f*d*d+p*m*d,T=p*d*d,M=m*m*m,P=d*m*m+m*d*m+m*m*d,A=d*d*m+m*d*d+d*m*d,$=d*d*d;for(h=0;h<u;h+=1)l[4*h]=t.round(1e3*(g*e[h]+y*r[h]+_*i[h]+v*n[h]))/1e3,l[4*h+1]=t.round(1e3*(b*e[h]+x*r[h]+E*i[h]+w*n[h]))/1e3,l[4*h+2]=t.round(1e3*(k*e[h]+S*r[h]+C*i[h]+T*n[h]))/1e3,l[4*h+3]=t.round(1e3*(M*e[h]+P*r[h]+A*i[h]+$*n[h]))/1e3;return l},getPointInSegment:function(e,n,r,i,s,a){var l=o(s,a),c=1-l;return[t.round(1e3*(c*c*c*e[0]+(l*c*c+c*l*c+c*c*l)*r[0]+(l*l*c+c*l*l+l*c*l)*i[0]+l*l*l*n[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(l*c*c+c*l*c+c*c*l)*r[1]+(l*l*c+c*l*l+l*c*l)*i[1]+l*l*l*n[1]))/1e3]},buildBezierData:a,pointOnLine2D:e,pointOnLine3D:function(n,r,i,s,a,o,l,c,h){if(0===i&&0===o&&0===h)return e(n,r,s,a,l,c);var p,d=t.sqrt(t.pow(s-n,2)+t.pow(a-r,2)+t.pow(o-i,2)),u=t.sqrt(t.pow(l-n,2)+t.pow(c-r,2)+t.pow(h-i,2)),f=t.sqrt(t.pow(l-s,2)+t.pow(c-a,2)+t.pow(h-o,2));return(p=d>u?d>f?d-u-f:f-u-d:f>u?f-u-d:u-d-f)>-1e-4&&p<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var i,s,a,o,l,c,h,p,d,u=e.lastIndex,f=u,m=this.keyframes.length-1,g=!0;g;){if(i=this.keyframes[f],s=this.keyframes[f+1],f===m-1&&t>=s.t-r){i.h&&(i=s),u=0;break}if(s.t-r>t){u=f;break}f<m-1?f+=1:(u=0,g=!1)}a=this.keyframesMetadata[f]||{};var y,_=s.t-r,v=i.t-r;if(i.to){a.bezierData||(a.bezierData=bez.buildBezierData(i.s,s.s||i.e,i.to,i.ti));var b=a.bezierData;if(t>=_||t<v){var x=t>=_?b.points.length-1:0;for(l=b.points[x].point.length,o=0;o<l;o+=1)n[o]=b.points[x].point[o]}else{a.__fnct?d=a.__fnct:(d=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,a.__fnct=d),c=d((t-v)/(_-v));var E,w=b.segmentLength*c,k=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(p=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,h=b.points.length;g;){if(k+=b.points[p].partialLength,0===w||0===c||p===b.points.length-1){for(l=b.points[p].point.length,o=0;o<l;o+=1)n[o]=b.points[p].point[o];break}if(w>=k&&w<k+b.points[p+1].partialLength){for(E=(w-k)/b.points[p+1].partialLength,l=b.points[p].point.length,o=0;o<l;o+=1)n[o]=b.points[p].point[o]+(b.points[p+1].point[o]-b.points[p].point[o])*E;break}p<h-1?p+=1:g=!1}e._lastPoint=p,e._lastAddedLength=k-b.points[p].partialLength,e._lastKeyframeIndex=f}}else{var S,C,T,M,P;if(m=i.s.length,y=s.s||i.e,this.sh&&1!==i.h)t>=_?(n[0]=y[0],n[1]=y[1],n[2]=y[2]):t<=v?(n[0]=i.s[0],n[1]=i.s[1],n[2]=i.s[2]):quaternionToEuler(n,slerp(createQuaternion(i.s),createQuaternion(y),(t-v)/(_-v)));else for(f=0;f<m;f+=1)1!==i.h&&(t>=_?c=1:t<v?c=0:(i.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[f]?d=a.__fnct[f]:(S=void 0===i.o.x[f]?i.o.x[0]:i.o.x[f],C=void 0===i.o.y[f]?i.o.y[0]:i.o.y[f],T=void 0===i.i.x[f]?i.i.x[0]:i.i.x[f],M=void 0===i.i.y[f]?i.i.y[0]:i.i.y[f],d=BezierFactory.getBezierEasing(S,C,T,M).get,a.__fnct[f]=d)):a.__fnct?d=a.__fnct:(S=i.o.x,C=i.o.y,T=i.i.x,M=i.i.y,d=BezierFactory.getBezierEasing(S,C,T,M).get,i.keyframeMetadata=d),c=d((t-v)/(_-v)))),y=s.s||i.e,P=1===i.h?i.s[f]:i.s[f]+(y[f]-i.s[f])*c,"multidimensional"===this.propType?n[f]=P:n=P}return e.lastIndex=u,n}function slerp(t,e,n){var r,i,s,a,o,l=[],c=t[0],h=t[1],p=t[2],d=t[3],u=e[0],f=e[1],m=e[2],g=e[3];return(i=c*u+h*f+p*m+d*g)<0&&(i=-i,u=-u,f=-f,m=-m,g=-g),1-i>1e-6?(r=Math.acos(i),s=Math.sin(r),a=Math.sin((1-n)*r)/s,o=Math.sin(n*r)/s):(a=1-n,o=n),l[0]=a*c+o*u,l[1]=a*h+o*f,l[2]=a*p+o*m,l[3]=a*d+o*g,l}function quaternionToEuler(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=Math.atan2(2*r*s-2*n*i,1-2*r*r-2*i*i),o=Math.asin(2*n*r+2*i*s),l=Math.atan2(2*n*s-2*r*i,1-2*n*n-2*i*i);t[0]=a/degToRads,t[1]=o/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,r=t[2]*degToRads,i=Math.cos(e/2),s=Math.cos(n/2),a=Math.cos(r/2),o=Math.sin(e/2),l=Math.sin(n/2),c=Math.sin(r/2);return[o*l*a+i*s*c,o*s*a+i*l*c,i*l*a-o*s*c,i*s*a-o*l*c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,r=this.v.length;n<r;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,r){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,r){var i;this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s=e.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),i=0;i<s;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,r){var i;this.propType="multidimensional";var s,a,o,l,c=e.k.length;for(i=0;i<c-1;i+=1)e.k[i].to&&e.k[i].s&&e.k[i+1]&&e.k[i+1].s&&(s=e.k[i].s,a=e.k[i+1].s,o=e.k[i].to,l=e.k[i].ti,(2===s.length&&(s[0]!==a[0]||s[1]!==a[1])&&bez.pointOnLine2D(s[0],s[1],a[0],a[1],s[0]+o[0],s[1]+o[1])&&bez.pointOnLine2D(s[0],s[1],a[0],a[1],a[0]+l[0],a[1]+l[1])||3===s.length&&(s[0]!==a[0]||s[1]!==a[1]||s[2]!==a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],a[0],a[1],a[2],s[0]+o[0],s[1]+o[1],s[2]+o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],a[0],a[1],a[2],a[0]+l[0],a[1]+l[1],a[2]+l[2]))&&(e.k[i].to=null,e.k[i].ti=null),s[0]===a[0]&&s[1]===a[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===s.length||s[2]===a[2]&&0===o[2]&&0===l[2])&&(e.k[i].to=null,e.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var h=e.k[0].s.length;for(this.v=createTypedArray("float32",h),this.pv=createTypedArray("float32",h),i=0;i<h;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",h)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,n,r,i){var s;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])s=new MultiDimensionalProperty(t,e,r,i);else switch(n){case 0:s=new KeyframedValueProperty(t,e,r,i);break;case 1:s=new KeyframedMultidimensionalProperty(t,e,r,i)}else s=new ValueProperty(t,e,r,i);return s.effectsSequence.length&&i.addDynamicProperty(s),s}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,r,i){var s;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}(!s[r]||s[r]&&!i)&&(s[r]=pointPool.newElement()),s[r][0]=t,s[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,r,i,s,a,o){this.setXYAt(t,e,"v",a,o),this.setXYAt(n,r,"o",a,o),this.setXYAt(i,s,"i",a,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,r=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var s,a=this._length-1,o=this._length;for(s=i;s<o;s+=1)t.setTripleAt(e[a][0],e[a][1],r[a][0],r[a][1],n[a][0],n[a][1],s,!1),a-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,n=factory.newElement(),r=void 0===t._length?t.v.length:t._length;for(n.setLength(r),n.c=t.c,e=0;e<r;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,n=t._length;for(e=0;e<n;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var t=-999999;function e(t,e,n){var r,i,s,a,o,l,c,h,p,d=n.lastIndex,u=this.keyframes;if(t<u[0].t-this.offsetTime)r=u[0].s[0],s=!0,d=0;else if(t>=u[u.length-1].t-this.offsetTime)r=u[u.length-1].s?u[u.length-1].s[0]:u[u.length-2].e[0],s=!0;else{for(var f,m,g,y=d,_=u.length-1,v=!0;v&&(f=u[y],!((m=u[y+1]).t-this.offsetTime>t));)y<_-1?y+=1:v=!1;if(g=this.keyframesMetadata[y]||{},d=y,!(s=1===f.h)){if(t>=m.t-this.offsetTime)h=1;else if(t<f.t-this.offsetTime)h=0;else{var b;g.__fnct?b=g.__fnct:(b=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=b),h=b((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}i=m.s?m.s[0]:f.e[0]}r=f.s[0]}for(l=e._length,c=r.i[0].length,n.lastIndex=d,a=0;a<l;a+=1)for(o=0;o<c;o+=1)p=s?r.i[a][o]:r.i[a][o]+(i.i[a][o]-r.i[a][o])*h,e.i[a][o]=p,p=s?r.o[a][o]:r.o[a][o]+(i.o[a][o]-r.o[a][o])*h,e.o[a][o]=p,p=s?r.v[a][o]:r.v[a][o]+(i.v[a][o]-r.v[a][o])*h,e.v[a][o]=p}function n(){var e=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return i!==t&&(i<n&&e<n||i>r&&e>r)||(this._caching.lastIndex=i<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function r(){this.paths=this.localShapeCollection}function i(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var n,r=t._length;for(n=0;n<r;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(t,e,n){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===n?e.pt.k:e.ks.k;this.v=shapePool.clone(i),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,i,s){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?i.pt.k:i.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}a.prototype.interpolateShape=e,a.prototype.getValue=s,a.prototype.setVValue=i,a.prototype.addEffect=o,l.prototype.getValue=s,l.prototype.interpolateShape=e,l.prototype.setVValue=i,l.prototype.addEffect=o;var c=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,s=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=n-i,a.v[1][0]=s?e+r:e-r,a.v[1][1]=n,a.v[2][0]=e,a.v[2][1]=n+i,a.v[3][0]=s?e-r:e+r,a.v[3][1]=n,a.i[0][0]=s?e-r*t:e+r*t,a.i[0][1]=n-i,a.i[1][0]=s?e+r:e-r,a.i[1][1]=n-i*t,a.i[2][0]=s?e+r*t:e-r*t,a.i[2][1]=n+i,a.i[3][0]=s?e-r:e+r,a.i[3][1]=n+i*t,a.o[0][0]=s?e+r*t:e-r*t,a.o[0][1]=n-i,a.o[1][0]=s?e+r:e-r,a.o[1][1]=n+i*t,a.o[2][0]=s?e-r*t:e+r*t,a.o[2][1]=n+i,a.o[3][0]=s?e-r:e+r,a.o[3][1]=n-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,n,r,i=2*Math.floor(this.pt.v),s=2*Math.PI/i,a=!0,o=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,p=2*Math.PI*o/(2*i),d=2*Math.PI*l/(2*i),u=-Math.PI/2;u+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){n=a?c:h,r=a?p:d;var m=(e=a?o:l)*Math.cos(u),g=e*Math.sin(u),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),_=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*r*n*f,g-_*r*n*f,m+y*r*n*f,g+_*r*n*f,t,!0),a=!a,u+=s*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),n=2*Math.PI/e,r=this.or.v,i=this.os.v,s=2*Math.PI*r/(4*e),a=.5*-Math.PI,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=r*Math.cos(a),c=r*Math.sin(a),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),p=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*s*i*o,c-p*s*i*o,l+h*s*i*o,c+p*s*i*o,t,!0),a+=n*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),p=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=bmMin(n,r,this.r.v),s=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+i,t+n,e-r+s,0,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-s,t+n,e+r-i,1,!0),0!==i?(this.v.setTripleAt(t+n-i,e+r,t+n-i,e+r,t+n-s,e+r,2,!0),this.v.setTripleAt(t-n+i,e+r,t-n+s,e+r,t-n+i,e+r,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-i,t-n,e+r-s,4,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+s,t-n,e-r+i,5,!0),this.v.setTripleAt(t-n+i,e-r,t-n+i,e-r,t-n+s,e-r,6,!0),this.v.setTripleAt(t+n-i,e-r,t+n-s,e-r,t+n-i,e-r,7,!0)):(this.v.setTripleAt(t-n,e+r,t-n+s,e+r,t-n,e+r,2),this.v.setTripleAt(t-n,e-r,t-n,e-r+s,t-n,e-r,3))):(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+s,t+n,e-r+i,0,!0),0!==i?(this.v.setTripleAt(t+n-i,e-r,t+n-i,e-r,t+n-s,e-r,1,!0),this.v.setTripleAt(t-n+i,e-r,t-n+s,e-r,t-n+i,e-r,2,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+i,t-n,e-r+s,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-s,t-n,e+r-i,4,!0),this.v.setTripleAt(t-n+i,e+r,t-n+i,e+r,t-n+s,e+r,5,!0),this.v.setTripleAt(t+n-i,e+r,t+n-s,e+r,t+n-i,e+r,6,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-i,t+n,e+r-s,7,!0)):(this.v.setTripleAt(t-n,e-r,t-n+s,e-r,t-n,e-r,1,!0),this.v.setTripleAt(t-n,e+r,t-n,e+r-s,t-n,e+r,2,!0),this.v.setTripleAt(t+n,e+r,t+n-s,e+r,t+n,e+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}(),d={getShapeProp:function(t,e,n){var r;return 3===n||4===n?r=(3===n?e.pt:e.ks).k.length?new l(t,e,n):new a(t,e,n):5===n?r=new p(t,e):6===n?r=new c(t,e):7===n&&(r=new h(t,e)),r.k&&t.addDynamicProperty(r),r},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return l}};return d}(),Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function a(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function o(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function l(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function h(t,e){return this.shear(n(t),n(e))}function p(r,i){var s=t(i),a=e(i);return this._t(s,a,0,0,-a,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(s,-a,0,0,a,s,0,0,0,0,1,0,0,0,0,1)}function d(t,e,n){return n||0===n||(n=1),1===t&&1===e&&1===n?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}function u(t,e,n,r,i,s,a,o,l,c,h,p,d,u,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=s,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=p,this.props[12]=d,this.props[13]=u,this.props[14]=f,this.props[15]=m,this}function f(t,e,n){return n=n||0,0!==t||0!==e||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this}function m(t,e,n,r,i,s,a,o,l,c,h,p,d,u,f,m){var g=this.props;if(1===t&&0===e&&0===n&&0===r&&0===i&&1===s&&0===a&&0===o&&0===l&&0===c&&1===h&&0===p)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*s+g[15]*u,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],_=g[1],v=g[2],b=g[3],x=g[4],E=g[5],w=g[6],k=g[7],S=g[8],C=g[9],T=g[10],M=g[11],P=g[12],A=g[13],$=g[14],D=g[15];return g[0]=y*t+_*i+v*l+b*d,g[1]=y*e+_*s+v*c+b*u,g[2]=y*n+_*a+v*h+b*f,g[3]=y*r+_*o+v*p+b*m,g[4]=x*t+E*i+w*l+k*d,g[5]=x*e+E*s+w*c+k*u,g[6]=x*n+E*a+w*h+k*f,g[7]=x*r+E*o+w*p+k*m,g[8]=S*t+C*i+T*l+M*d,g[9]=S*e+C*s+T*c+M*u,g[10]=S*n+C*a+T*h+M*f,g[11]=S*r+C*o+T*p+M*m,g[12]=P*t+A*i+$*l+D*d,g[13]=P*e+A*s+$*c+D*u,g[14]=P*n+A*a+$*h+D*f,g[15]=P*r+A*o+$*p+D*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function _(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function b(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function x(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}}function E(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]}function w(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]}function k(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}function S(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,n=-this.props[1]/t,r=-this.props[4]/t,i=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new Matrix;return o.props[0]=e,o.props[1]=n,o.props[4]=r,o.props[5]=i,o.props[12]=s,o.props[13]=a,o}function C(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function T(t){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r[e]=C(t[e]);return r}function M(t,e,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],s=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];r[0]=t[0]*i+t[1]*a+l,r[1]=t[0]*s+t[1]*o+c,r[2]=e[0]*i+e[1]*a+l,r[3]=e[0]*s+e[1]*o+c,r[4]=n[0]*i+n[1]*a+l,r[5]=n[0]*s+n[1]*o+c}return r}function P(t,e,n){return this.isIdentity()?[t,e,n]:[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]]}function A(t,e){if(this.isIdentity())return t+","+e;var n=this.props;return Math.round(100*(t*n[0]+e*n[4]+n[12]))/100+","+Math.round(100*(t*n[1]+e*n[5]+n[13]))/100}function $(){for(var t=0,e=this.props,n="matrix3d(";t<16;)n+=r(1e4*e[t])/1e4,n+=15===t?")":",",t+=1;return n}function D(t){return t<1e-6&&t>0||t>-1e-6&&t<0?r(1e4*t)/1e4:t}function I(){var t=this.props;return"matrix("+D(t[0])+","+D(t[1])+","+D(t[4])+","+D(t[5])+","+D(t[12])+","+D(t[13])+")"}return function(){this.reset=i,this.rotate=s,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=h,this.skewFromAxis=p,this.shear=c,this.scale=d,this.setTransform=u,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=x,this.applyToX=E,this.applyToY=w,this.applyToZ=k,this.applyToPointArray=P,this.applyToTriplePoints=M,this.applyToPointStringified=A,this.toCSS=$,this.to2dCSS=I,this.clone=v,this.cloneFromProps=b,this.equals=_,this.inversePoints=T,this.inversePoint=C,this.getInverseMatrix=S,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="",scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer");var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,n){e[t]||(e[t]=n)},t.getModifier=function(t,n,r){return new e[t](n,r)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,r,i){var s=[];e<=1?s.push({s:t,e:e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var a,o,l=[],c=s.length;for(a=0;a<c;a+=1){var h,p;(o=s[a]).e*i<r||o.s*i>r+n||(h=o.s*i<=r?0:(o.s*i-r)/n,p=o.e*i>=r+n?1:(o.e*i-r)/n,l.push([h,p]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,r,i;if(this._mdf||t){var s=this.o.v%360/360;if(s<0&&(s+=1),(e=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(n=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var a=e;e=n,n=a}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var o,l,c,h,p,d=this.shapes.length,u=0;if(n===e)for(i=0;i<d;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if(1===n&&0===e||0===n&&1===e){if(this._mdf)for(i=0;i<d;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0}else{var f,m,g=[];for(i=0;i<d;i+=1)if((f=this.shapes[i]).shape._mdf||this._mdf||t||2===this.m){if(l=(r=f.shape.paths)._length,p=0,!f.shape._mdf&&f.pathsData.length)p=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)h=bez.getSegmentsLength(r.shapes[o]),c.push(h),p+=h.totalLength;f.totalShapeLength=p,f.pathsData=c}u+=p,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,_=e,v=n,b=0;for(i=d-1;i>=0;i-=1)if((f=this.shapes[i]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(e,n,f.totalShapeLength,b,u),b+=f.totalShapeLength):y=[[_,v]],l=y.length,o=0;o<l;o+=1){_=y[o][0],v=y[o][1],g.length=0,v<=1?g.push({s:f.totalShapeLength*_,e:f.totalShapeLength*v}):_>=1?g.push({s:f.totalShapeLength*(_-1),e:f.totalShapeLength*(v-1)}):(g.push({s:f.totalShapeLength*_,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(v-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var E=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],E)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,r,i,s,a){i.setXYAt(e[0],e[1],"o",s),i.setXYAt(n[0],n[1],"i",s+1),a&&i.setXYAt(t[0],t[1],"v",s),i.setXYAt(r[0],r[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,r){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),r&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var r,i,s,a,o,l,c,h,p=t.pathsData,d=t.shape.paths.shapes,u=t.shape.paths._length,f=0,m=[],g=!0;for(n?(o=n._length,h=n._length):(n=shapePool.newElement(),o=0,h=0),m.push(n),r=0;r<u;r+=1){for(l=p[r].lengths,n.c=d[r].c,s=d[r].c?l.length:l.length+1,i=1;i<s;i+=1)if(f+(a=l[i-1]).addedLength<e.s)f+=a.addedLength,n.c=!1;else{if(f>e.e){n.c=!1;break}e.s<=f&&e.e>=f+a.addedLength?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[i],d[r].v[i],n,o,g),g=!1):(c=bez.getNewSegment(d[r].v[i-1],d[r].v[i],d[r].o[i-1],d[r].i[i],(e.s-f)/a.addedLength,(e.e-f)/a.addedLength,l[i-1]),this.addSegmentFromArray(c,n,o,g),g=!1,n.c=!1),f+=a.addedLength,o+=1}if(d[r].c&&l.length){if(a=l[i-1],f<=e.e){var y=l[i-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[0],d[r].v[0],n,o,g),g=!1):(c=bez.getNewSegment(d[r].v[i-1],d[r].v[0],d[r].o[i-1],d[r].i[0],(e.s-f)/y,(e.e-f)/y,l[i-1]),this.addSegmentFromArray(c,n,o,g),g=!1,n.c=!1)}else n.c=!1;f+=a.addedLength,o+=1}if(n._length&&(n.setXYAt(n.v[h][0],n.v[h][1],"i",h),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>e.e)break;r<u-1&&(n=shapePool.newElement(),g=!0,m.push(n),o=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,r=[0,0],i=t._length,s=0;for(s=0;s<i;s+=1)r[0]+=t.v[s][0],r[1]+=t.v[s][1];r[0]/=i,r[1]/=i;var a,o,l,c,h,p,d=shapePool.newElement();for(d.c=t.c,s=0;s<i;s+=1)a=t.v[s][0]+(r[0]-t.v[s][0])*n,o=t.v[s][1]+(r[1]-t.v[s][1])*n,l=t.o[s][0]+(r[0]-t.o[s][0])*-n,c=t.o[s][1]+(r[1]-t.o[s][1])*-n,h=t.i[s][0]+(r[0]-t.i[s][0])*-n,p=t.i[s][1]+(r[1]-t.i[s][1])*-n,d.setTripleAt(a,o,l,c,h,p,s);return d},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,r,i,s,a,o=this.shapes.length,l=this.amount.v;if(0!==l)for(n=0;n<o;n+=1){if(a=(s=this.shapes[n]).localShapeCollection,s.shape._mdf||this._mdf||t)for(a.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(e[r],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t,e,n){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var r,i=e.or.k.length;for(r=0;r<i;r+=1)e.or.k[r].to=null,e.or.k[r].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,i;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],i=[];var s=this.px,a=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(r[0]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),r[1]=a.getValueAtTime((a.keyframes[0].t+.01)/n,0),i[0]=s.getValueAtTime(s.keyframes[0].t/n,0),i[1]=a.getValueAtTime(a.keyframes[0].t/n,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(r[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),r[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/n,0),i[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/n,0)):(r=[s.pv,a.pv],i[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/n,a.offsetTime))}else r=i=t;this.v.rotate(-Math.atan2(r[1]-i[1],r[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,n,r){return new e(t,n,r)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(0===t)return[];var r=e*e-4*t*n;if(r<0)return[];var i=-e/(2*t);if(0===r)return[i];var s=Math.sqrt(r)/(2*t);return[i-s,i+s]}function polynomialCoefficients(t,e,n,r){return[3*e-t-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,r,i){i&&pointEqual(t,e)&&(e=lerpPoint(t,r,1/3)),i&&pointEqual(n,r)&&(n=lerpPoint(t,r,2/3));var s=polynomialCoefficients(t[0],e[0],n[0],r[0]),a=polynomialCoefficients(t[1],e[1],n[1],r[1]);this.a=[s[0],a[0]],this.b=[s[1],a[1]],this.c=[s[2],a[2]],this.d=[s[3],a[3]],this.points=[t,e,n,r]}function extrema(t,e){var n=t.points[0][e],r=t.points[t.points.length-1][e];if(n>r){var i=r;r=n,n=i}for(var s=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),a=0;a<s.length;a+=1)if(s[a]>0&&s[a]<1){var o=t.point(s[a])[e];o<n?n=o:o>r&&(r=o)}return{min:n,max:r}}function intersectData(t,e,n){var r=t.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,n,r,i,s){if(boxIntersect(t,e))if(n>=s||t.width<=r&&t.height<=r&&e.width<=r&&e.height<=r)i.push([t.t,e.t]);else{var a=splitData(t),o=splitData(e);intersectsImpl(a[0],o[0],n+1,r,i,s),intersectsImpl(a[0],o[1],n+1,r,i,s),intersectsImpl(a[1],o[0],n+1,r,i,s),intersectsImpl(a[1],o[1],n+1,r,i,s)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,r){var i=[t[0],t[1],1],s=[e[0],e[1],1],a=[n[0],n[1],1],o=[r[0],r[1],1],l=crossProduct(crossProduct(i,s),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,n,r,i,s,a){var o=n-Math.PI/2,l=n+Math.PI/2,c=e[0]+Math.cos(n)*r*i,h=e[1]-Math.sin(n)*r*i;t.setTripleAt(c,h,c+Math.cos(o)*s,h-Math.sin(o)*s,c+Math.cos(l)*a,h-Math.sin(l)*a,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],r=.5*-Math.PI;return[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]]}function getProjectingAngle(t,e){var n=0===e?t.length()-1:e-1,r=(e+1)%t.length(),i=getPerpendicularVector(t.v[n],t.v[r]);return Math.atan2(0,1)-Math.atan2(i[1],i[0])}function zigZagCorner(t,e,n,r,i,s,a){var o=getProjectingAngle(e,n),l=e.v[n%e._length],c=e.v[0===n?e._length-1:n-1],h=e.v[(n+1)%e._length],p=2===s?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=2===s?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(t,e.v[n%e._length],o,a,r,d/(2*(i+1)),p/(2*(i+1)))}function zigZagSegment(t,e,n,r,i,s){for(var a=0;a<r;a+=1){var o=(a+1)/(r+1),l=2===i?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(o);setPoint(t,e.point(o),c,s,n,l/(2*(r+1)),l/(2*(r+1))),s=-s}return s}function linearOffset(t,e,n){var r=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,r,n),polarOffset(e,r,n)]}function offsetSegment(t,e){var n,r,i,s,a,o,l;n=(l=linearOffset(t.points[0],t.points[1],e))[0],r=l[1],i=(l=linearOffset(t.points[1],t.points[2],e))[0],s=l[1],a=(l=linearOffset(t.points[2],t.points[3],e))[0],o=l[1];var c=lineIntersection(n,r,i,s);null===c&&(c=r);var h=lineIntersection(a,o,i,s);return null===h&&(h=a),new PolynomialBezier(n,c,h,o)}function joinLines(t,e,n,r,i){var s=e.points[3],a=n.points[0];if(3===r)return s;if(pointEqual(s,a))return s;if(2===r){var o=-e.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,c=lineIntersection(s,polarOffset(s,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),h=c?pointDistance(c,s):pointDistance(s,a)/2,p=polarOffset(s,o,2*h*roundCorner);return t.setXYAt(p[0],p[1],"o",t.length()-1),p=polarOffset(a,l,2*h*roundCorner),t.setTripleAt(a[0],a[1],a[0],a[1],p[0],p[1],t.length()),a}var d=lineIntersection(pointEqual(s,e.points[2])?e.points[0]:e.points[2],s,a,pointEqual(a,n.points[1])?n.points[3]:n.points[1]);return d&&pointDistance(d,s)<i?(t.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],t.length()),d):s}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),r=e.slice(),i=getIntersection(t[t.length-1],e[0]);return i&&(n[t.length-1]=t[t.length-1].split(i[0])[0],r[0]=e[0].split(i[1])[1]),t.length>1&&e.length>1&&(i=getIntersection(t[0],e[e.length-1]))?[[t[0].split(i[0])[0]],[e[e.length-1].split(i[1])[1]]]:[n,r]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n,r,i,s,a=t.inflectionPoints();if(0===a.length)return[offsetSegment(t,e)];if(1===a.length||floatEqual(a[1],1))return n=(i=t.split(a[0]))[0],r=i[1],[offsetSegment(n,e),offsetSegment(r,e)];n=(i=t.split(a[0]))[0];var o=(a[1]-a[0])/(1-a[0]);return s=(i=i[1].split(o))[0],r=i[1],[offsetSegment(n,e),offsetSegment(s,e),offsetSegment(r,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",r="normal",i=e.length,s=0;s<i;s+=1)switch(e[s].toLowerCase()){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:r,weight:t.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,r,i,s){var a=s?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-i),l=r.s.v[1]+(1-r.s.v[1])*(1-i);t.translate(r.p.v[0]*a*i,r.p.v[1]*a*i,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*a*i),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(s?1/o:o,s?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,r){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,r,i,s,a=!1;if(this._mdf||t){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(s=0,r=0;r<=this._groups.length-1;r+=1){if(o=s<l,this._groups[r]._render=o,this.changeGroupRender(this._groups[r].it,o),!o){var h=this.elemsData[r].it,p=h[h.length-1];0!==p.transform.op.v?(p.transform.op._mdf=!0,p.transform.op.v=0):p.transform.op._mdf=!1}s+=1}this._currentCopies=l;var d=this.o.v,u=d%1,f=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var _,v,b=0;if(d>0){for(;b<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),b+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),b+=u)}else if(d<0){for(;b>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),b-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),b-=u)}for(r=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,s=this._currentCopies;s;){if(v=(n=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==b){for((0!==r&&1===i||r!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),_=0;_<v;_+=1)n[_]=this.matrix.props[_];this.matrix.reset()}else for(this.matrix.reset(),_=0;_<v;_+=1)n[_]=this.matrix.props[_];b+=1,s-=1,r+=i}}else for(s=this._currentCopies,r=0,i=1;s;)n=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,r+=i;return a},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,r=shapePool.newElement();r.c=t.c;var i,s,a,o,l,c,h,p,d,u,f,m,g=t._length,y=0;for(n=0;n<g;n+=1)i=t.v[n],a=t.o[n],s=t.i[n],i[0]===a[0]&&i[1]===a[1]&&i[0]===s[0]&&i[1]===s[1]?0!==n&&n!==g-1||t.c?(o=0===n?t.v[g-1]:t.v[n-1],c=(l=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=f=i[0]+(o[0]-i[0])*c,p=m=i[1]-(i[1]-o[1])*c,d=h-(h-i[0])*roundCorner,u=p-(p-i[1])*roundCorner,r.setTripleAt(h,p,d,u,f,m,y),y+=1,o=n===g-1?t.v[0]:t.v[n+1],c=(l=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=d=i[0]+(o[0]-i[0])*c,p=u=i[1]+(o[1]-i[1])*c,f=h-(h-i[0])*roundCorner,m=p-(p-i[1])*roundCorner,r.setTripleAt(h,p,d,u,f,m,y),y+=1):(r.setTripleAt(i[0],i[1],a[0],a[1],s[0],s[1],y),y+=1):(r.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],y),y+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,n,r,i,s,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<o;n+=1){if(a=(s=this.shapes[n]).localShapeCollection,s.shape._mdf||this._mdf||t)for(a.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(e[r],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[e]:[]:[e-r,e+r].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),r=lerpPoint(this.points[2],this.points[3],t),i=lerpPoint(e,n,t),s=lerpPoint(n,r,t),a=lerpPoint(i,s,t);return[new PolynomialBezier(this.points[0],e,i,a,!0),new PolynomialBezier(a,s,r,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,n){void 0===e&&(e=2),void 0===n&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,r,n),r},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,n,r){var i=t._length,s=shapePool.newElement();if(s.c=t.c,t.c||(i-=1),0===i)return s;var a=-1,o=PolynomialBezier.shapeSegment(t,0);zigZagCorner(s,t,0,e,n,r,a);for(var l=0;l<i;l+=1)a=zigZagSegment(s,o,e,n,r,-a),o=l!==i-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%i):null,zigZagCorner(s,t,l+1,e,n,r,a);return s},ZigZagModifier.prototype.processShapes=function(t){var e,n,r,i,s,a,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(n=0;n<o;n+=1){if(a=(s=this.shapes[n]).localShapeCollection,s.shape._mdf||this._mdf||t)for(a.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(e[r],l,c,h));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,n,r){var i=shapePool.newElement();i.c=t.c;var s,a,o,l=t.length();t.c||(l-=1);var c=[];for(s=0;s<l;s+=1)o=PolynomialBezier.shapeSegment(t,s),c.push(offsetSegmentSplit(o,e));if(!t.c)for(s=l-1;s>=0;s-=1)o=PolynomialBezier.shapeSegmentInverted(t,s),c.push(offsetSegmentSplit(o,e));c=pruneIntersections(c);var h=null,p=null;for(s=0;s<c.length;s+=1){var d=c[s];for(p&&(h=joinLines(i,p,d[0],n,r)),p=d[d.length-1],a=0;a<d.length;a+=1)o=d[a],h&&pointEqual(o.points[0],h)?i.setXYAt(o.points[1][0],o.points[1][1],"o",i.length()-1):i.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],i.length()),i.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],i.length()),h=o.points[3]}return c.length&&joinLines(i,p,c[0][0],n,r),i},OffsetPathModifier.prototype.processShapes=function(t){var e,n,r,i,s,a,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(n=0;n<o;n+=1){if(a=(s=this.shapes[n]).localShapeCollection,s.shape._mdf||this._mdf||t)for(a.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(e[r],l,h,c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function i(t,e){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=e;var r=createTag("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=function(t){var e,n=t.split(","),r=n.length,i=[];for(e=0;e<r;e+=1)"sans-serif"!==n[e]&&"monospace"!==n[e]&&i.push(n[e]);return i.join(",")}(t)+", "+e,{node:r,w:i,parent:n}}function s(t,e){var n,r=document.body&&e?"svg":"canvas",i=getFontProperties(t);if("svg"===r){var s=createNS("text");s.style.fontSize="100px",s.setAttribute("font-family",t.fFamily),s.setAttribute("font-style",i.style),s.setAttribute("font-weight",i.weight),s.textContent="1",t.fClass?(s.style.fontFamily="inherit",s.setAttribute("class",t.fClass)):s.style.fontFamily=t.fFamily,e.appendChild(s),n=s}else{var a=new OffscreenCanvas(500,500).getContext("2d");a.font=i.style+" "+i.weight+" 100px "+t.fFamily,n=a}return{measureText:function(t){return"svg"===r?(n.textContent=t,n.getComputedTextLength()):n.measureText(t).width}}}function a(t){var e=0,n=t.charCodeAt(0);if(n>=55296&&n<=56319){var r=t.charCodeAt(1);r>=56320&&r<=57343&&(e=1024*(n-55296)+r-56320+65536)}return e}function o(t){var e=a(t);return e>=127462&&e<=127487}var l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};l.isModifier=function(t,e){var n=t.toString(16)+e.toString(16);return-1!==r.indexOf(n)},l.isZeroWidthJoiner=function(t){return 8205===t},l.isFlagEmoji=function(t){return o(t.substr(0,2))&&o(t.substr(2,2))},l.isRegionalCode=o,l.isCombinedCharacter=function(t){return-1!==e.indexOf(t)},l.isRegionalFlag=function(t,e){var r=a(t.substr(e,2));if(r!==n)return!1;var i=0;for(e+=2;i<5;){if((r=a(t.substr(e,2)))<917601||r>917626)return!1;i+=1,e+=2}return 917631===a(t.substr(e,2))},l.isVariationSelector=function(t){return 65039===t},l.BLACK_FLAG_CODE_POINT=n;var c={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var n,r,i=t.length,s=this.chars.length;for(e=0;e<i;e+=1){for(n=0,r=!1;n<s;)this.chars[n].style===t[e].style&&this.chars[n].fFamily===t[e].fFamily&&this.chars[n].ch===t[e].ch&&(r=!0),n+=1;r||(this.chars.push(t[e]),s+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=s(t),t.cache={}})),void(this.fonts=t.list);var n,r=t.list,a=r.length,o=a;for(n=0;n<a;n+=1){var l,c,h=!0;if(r[n].loaded=!1,r[n].monoCase=i(r[n].fFamily,"monospace"),r[n].sansCase=i(r[n].fFamily,"sans-serif"),r[n].fPath){if("p"===r[n].fOrigin||3===r[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+r[n].fFamily+'"], style[f-origin="3"][f-family="'+r[n].fFamily+'"]')).length>0&&(h=!1),h){var p=createTag("style");p.setAttribute("f-forigin",r[n].fOrigin),p.setAttribute("f-origin",r[n].origin),p.setAttribute("f-family",r[n].fFamily),p.type="text/css",p.innerText="@font-face {font-family: "+r[n].fFamily+"; font-style: normal; src: url('"+r[n].fPath+"');}",e.appendChild(p)}}else if("g"===r[n].fOrigin||1===r[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(r[n].fPath)&&(h=!1);if(h){var d=createTag("link");d.setAttribute("f-forigin",r[n].fOrigin),d.setAttribute("f-origin",r[n].origin),d.type="text/css",d.rel="stylesheet",d.href=r[n].fPath,document.body.appendChild(d)}}else if("t"===r[n].fOrigin||2===r[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)r[n].fPath===l[c].src&&(h=!1);if(h){var u=createTag("link");u.setAttribute("f-forigin",r[n].fOrigin),u.setAttribute("f-origin",r[n].origin),u.setAttribute("rel","stylesheet"),u.setAttribute("href",r[n].fPath),e.appendChild(u)}}}else r[n].loaded=!0,o-=1;r[n].helper=s(r[n],e),r[n].cache={},this.fonts.push(r[n])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,n,r){for(var i=0,s=this.chars.length;i<s;){if(this.chars[i].ch===e&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,n,r)),t},getFontByName:function(t){for(var e=0,n=this.fonts.length;e<n;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,n){var r=this.getFontByName(e),i=t;if(!r.cache[i]){var s=r.helper;if(" "===t){var a=s.measureText("|"+t+"|"),o=s.measureText("||");r.cache[i]=(a-o)/100}else r.cache[i]=s.measureText(t)/100}return r.cache[i]*n},checkLoadedFonts:function(){var t,e,n,r=this.fonts.length,i=r;for(t=0;t<r;t+=1)this.fonts[t].loaded?i-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,n=this.fonts[t].monoCase.w,e.offsetWidth!==n?(i-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,n=this.fonts[t].sansCase.w,e.offsetWidth!==n&&(i-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==i&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return l.prototype=c,l}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,r=t.ef||[];this.effectElements=[];var i,s=r.length;for(n=0;n<s;n+=1)i=new GroupEffect(r[n],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var n;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,i=this.data.ef.length,s=this.data.ef;for(n=0;n<i;n+=1){switch(r=null,s[n].ty){case 0:r=new SliderEffect(s[n],e,this);break;case 1:r=new AngleEffect(s[n],e,this);break;case 2:r=new ColorEffect(s[n],e,this);break;case 3:r=new PointEffect(s[n],e,this);break;case 4:case 7:r=new CheckboxEffect(s[n],e,this);break;case 10:r=new LayerIndexEffect(s[n],e,this);break;case 11:r=new MaskIndexEffect(s[n],e,this);break;case 5:r=new EffectsManager(s[n],e);break;default:r=new NoValueEffect(s[n])}r&&this.effectElements.push(r)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),r=t("shape"),i=t("text"),s=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=s(this):4===this.data.ty?(this.layerInterface.shapeInterface=r(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=i(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,n,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var n,r=t.length,i=this.layers.length;for(e=0;e<r;e+=1)for(n=0;n<i;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var r=this.elements,i=this.layers,s=0,a=i.length;s<a;)i[s].ind==e&&(r[s]&&!0!==r[s]?(n.push(r[s]),r[s].setAsParent(),void 0!==i[s].parent?this.buildElementParenting(t,i[s].parent,n):t.setHierarchy(n)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,n=t.shift();if("number"==typeof n)e=this.elements[n];else{var r,i=this.elements.length;for(r=0;r<i;r+=1)if(this.elements[r].data.nm===n){e=this.elements[r];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,i,s=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,l,c,h,p,d,u=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",_="clip-path";for(r=0;r<a;r+=1)if(("a"!==u[r].mode&&"n"!==u[r].mode||u[r].inv||100!==u[r].o.k||u[r].o.x)&&(y="mask",_="mask"),"s"!==u[r].mode&&"i"!==u[r].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),i=createNS("path"),"n"===u[r].mode)this.viewData[r]={op:PropertyFactory.getProp(this.element,u[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[r],3),elem:i,lastPath:""},s.appendChild(i);else{var v;if(f+=1,i.setAttribute("fill","s"===u[r].mode?"#000000":"#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==u[r].x.k?(y="mask",_="mask",d=PropertyFactory.getProp(this.element,u[r].x,0,null,this.element),v=createElementID(),(h=createNS("filter")).setAttribute("id",v),(p=createNS("feMorphology")).setAttribute("operator","erode"),p.setAttribute("in","SourceGraphic"),p.setAttribute("radius","0"),h.appendChild(p),s.appendChild(h),i.setAttribute("stroke","s"===u[r].mode?"#000000":"#ffffff")):(p=null,d=null),this.storedData[r]={elem:i,x:d,expan:p,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===u[r].mode){l=m.length;var b=createNS("g");for(o=0;o<l;o+=1)b.appendChild(m[o]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(i),s.appendChild(x),b.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(b)}else m.push(i);u[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,u[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[r],3),invRect:c},this.viewData[r].prop.k||this.drawPath(u[r],this.viewData[r].prop.v,this.viewData[r])}for(this.maskElement=createNS(y),a=m.length,r=0;r<a;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(_,"url("+getLocationHref()+"#"+g+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<r;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var r=this.localTransforms[t].matrix;n.multiply(r)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var i=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)i*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=i}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n,r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):r=!1;var s,a=e.length;for(n=0;n<a;n+=1)s=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(e=0;e<r;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var r,i,s=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,r=1;r<i;r+=1)s+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&i>1&&(s+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==s){var a="";n.elem&&(e.c&&(a=t.inv?this.solidPath+s:s),n.elem.setAttribute("d",a)),n.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={createFilter:function(t,e){var n=createNS("filter");return n.setAttribute("id",t),!0!==e&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n,r="SourceGraphic",i=t.data.ef?t.data.ef.length:0,s=createElementID(),a=filtersFactory.createFilter(s,!0),o=0;for(this.filters=[],e=0;e<i;e+=1){n=null;var l=t.data.ef[e].ty;registeredEffects$1[l]&&(n=new(0,registeredEffects$1[l].effect)(a,t.effectsManager.effectElements[e],t,idPrefix+o,r),r=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),n&&this.filters.push(n)}o&&(t.globalData.defs.appendChild(a),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),r=createNS("path");r.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var i=createElementID();if(n.setAttribute("id",i),n.appendChild(r),this.globalData.defs.appendChild(n),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),s.appendChild(this.layerElement),this.transformedElement=s,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,n,r,i,s=this.layerId+"_"+t;if(1===t||3===t){var a=createNS("mask");a.setAttribute("id",s),a.setAttribute("mask-type",3===t?"luminance":"alpha"),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(r),this.globalData.defs.appendChild(a),featureSupport.maskType||1!==t||(a.setAttribute("mask-type","luminance"),e=createElementID(),n=filtersFactory.createFilter(e),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(r),a.appendChild(i),i.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var o=createNS("mask");o.setAttribute("id",s),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),e=createElementID(),n=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),n.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(n);var p=createNS("rect");p.setAttribute("width",this.comp.data.w),p.setAttribute("height",this.comp.data.h),p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("fill","#ffffff"),p.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(p),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(r),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),l.appendChild(p),i.appendChild(this.layerElement),l.appendChild(i)),this.globalData.defs.appendChild(o)}this.matteMasks[t]=s}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,r=e.length;n<r;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===t)return void(n[r].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var r=0,i=t.length;r<i;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,n,r){var i;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var s,a=e.length||0;for(i=0;i<a;i+=1)s=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=s.k||this.k,this.dataProps[i]={n:e[i].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<n;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,r,i=4*this.data.p;for(e=0;e<i;e+=1)n=e%4==0?100:255,r=Math.round(this.prop.v[e]*n),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)n=e%2==0?100:1,r=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),r=createNS(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var i,s,a,o=[];for(a=4*e.g.p,s=0;s<a;s+=4)i=createNS("stop"),r.appendChild(i),o.push(i);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=r,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,s=createNS("mask"),a=createNS("path");s.appendChild(a);var o=createElementID(),l=createElementID();s.setAttribute("id",l);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var h=this.stops;for(r=4*t.g.p;r<i;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),h.push(n);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===t.ty&&(a.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&a.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=s,this.ost=h,this.maskId=l,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,n,r){if(0===e)return"";var i,s=t.o,a=t.i,o=t.v,l=" M"+r.applyToPointStringified(o[0][0],o[0][1]);for(i=1;i<e;i+=1)l+=" C"+r.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+r.applyToPointStringified(a[i][0],a[i][1])+" "+r.applyToPointStringified(o[i][0],o[i][1]);return n&&e&&(l+=" C"+r.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+r.applyToPointStringified(a[0][0],a[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(t,e,n){(n||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(n||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function r(){}function i(n,r,i){var s,a,o,l,c,h,p,d,u,f,m=r.styles.length,g=r.lvl;for(h=0;h<m;h+=1){if(l=r.sh._mdf||i,r.styles[h].lvl<g){for(d=e.reset(),u=g-r.styles[h].lvl,f=r.transformers.length-1;!l&&u>0;)l=r.transformers[f].mProps._mdf||l,u-=1,f-=1;if(l)for(u=g-r.styles[h].lvl,f=r.transformers.length-1;u>0;)d.multiply(r.transformers[f].mProps.v),u-=1,f-=1}else d=t;if(a=(p=r.sh.paths)._length,l){for(o="",s=0;s<a;s+=1)(c=p.shapes[s])&&c._length&&(o+=buildShapeString(c,c._length,c.c,d));r.caches[h]=o}else o=r.caches[h];r.styles[h].d+=!0===n.hd?"":o,r.styles[h]._mdf=l||r.styles[h]._mdf}}function s(t,e,n){var r=e.style;(e.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function a(t,e,n){o(t,e,n),l(0,e,n)}function o(t,e,n){var r,i,s,a,o,l=e.gf,c=e.g._hasOpacity,h=e.s.v,p=e.e.v;if(e.o._mdf||n){var d="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(d,e.o.v)}if(e.s._mdf||n){var u=1===t.t?"x1":"cx",f="x1"===u?"y1":"cy";l.setAttribute(u,h[0]),l.setAttribute(f,h[1]),c&&!e.g._collapsable&&(e.of.setAttribute(u,h[0]),e.of.setAttribute(f,h[1]))}if(e.g._cmdf||n){r=e.cst;var m=e.g.c;for(s=r.length,i=0;i<s;i+=1)(a=r[i]).setAttribute("offset",m[4*i]+"%"),a.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(c&&(e.g._omdf||n)){var g=e.g.o;for(s=(r=e.g._collapsable?e.cst:e.ost).length,i=0;i<s;i+=1)a=r[i],e.g._collapsable||a.setAttribute("offset",g[2*i]+"%"),a.setAttribute("stop-opacity",g[2*i+1])}if(1===t.t)(e.e._mdf||n)&&(l.setAttribute("x2",p[0]),l.setAttribute("y2",p[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",p[0]),e.of.setAttribute("y2",p[1])));else if((e.s._mdf||e.e._mdf||n)&&(o=Math.sqrt(Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2)),l.setAttribute("r",o),c&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||n){o||(o=Math.sqrt(Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2)));var y=Math.atan2(p[1]-h[1],p[0]-h[0]),_=e.h.v;_>=1?_=.99:_<=-1&&(_=-.99);var v=o*_,b=Math.cos(y+e.a.v)*v+h[0],x=Math.sin(y+e.a.v)*v+h[1];l.setAttribute("fx",b),l.setAttribute("fy",x),c&&!e.g._collapsable&&(e.of.setAttribute("fx",b),e.of.setAttribute("fy",x))}}function l(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return s;case"gf":return o;case"gs":return a;case"st":return l;case"sh":case"el":case"rc":case"sr":return i;case"tr":return n;case"no":return r;default:return null}}}}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function LetterProps(t,e,n,r,i,s){this.o=t,this.sw=e,this.sc=n,this.fc=r,this.m=i,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,r,i=this.shapes.length,s=this.stylesList.length,a=[],o=!1;for(n=0;n<s;n+=1){for(r=this.stylesList[n],o=!1,a.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(r)&&(a.push(e),o=e._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,r=new SVGStyleData(t,e),i=r.pElem;return"st"===t.ty?n=new SVGStrokeStyleData(this,t,r):"fl"===t.ty?n=new SVGFillStyleData(this,t,r):"gf"===t.ty||"gs"===t.ty?(n=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):"no"===t.ty&&(n=new SVGNoStyleData(this,t,r)),"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var i=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,r,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,r,i,s,a){var o,l,c,h,p,d,u=[].concat(s),f=t.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if((d=this.searchProcessedElement(t[o]))?e[o]=n[d-1]:t[o]._render=a,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty||"no"===t[o].ty)d?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],i),t[o]._render&&e[o].style.pElem.parentNode!==r&&r.appendChild(e[o].style.pElem),m.push(e[o].style);else if("gr"===t[o].ty){if(d)for(c=e[o].it.length,l=0;l<c;l+=1)e[o].prevViewData[l]=e[o].it[l];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,i+1,u,a),t[o]._render&&e[o].gr.parentNode!==r&&r.appendChild(e[o].gr)}else"tr"===t[o].ty?(d||(e[o]=this.createTransformElement(t[o],r)),h=e[o].transform,u.push(h)):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?(d||(e[o]=this.createShapeElement(t[o],u,i)),this.setElementStyles(e[o])):"tm"===t[o].ty||"rd"===t[o].ty||"ms"===t[o].ty||"pb"===t[o].ty||"zz"===t[o].ty||"op"===t[o].ty?(d?(p=e[o]).closed=!1:((p=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=p,this.shapeModifiers.push(p)),g.push(p)):"rp"===t[o].ty&&(d?(p=e[o]).closed=!0:(p=ShapeModifiers.getModifier(t[o].ty),e[o]=p,p.init(this,t,o,e),this.shapeModifiers.push(p),a=!1),g.push(p));this.addProcessedElement(t[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,n,r,i,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,a=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var r;this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)s=n!==this.keysIndex?this.effectsSequence[r](s,s.t):this.effectsSequence[r](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,r=t.length;n<=r-1&&!(n===r-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n,r=[],i=0,s=t.length,a=!1,o=!1,l="";i<s;)a=o,o=!1,e=t.charCodeAt(i),l=t.charAt(i),FontManager.isCombinedCharacter(e)?a=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,i)?l=t.substr(i,14):(n=t.charCodeAt(i+1))>=56320&&n<=57343&&(FontManager.isModifier(e,n)?(l=t.substr(i,2),a=!0):l=FontManager.isFlagEmoji(t.substr(i,4))?t.substr(i,4):t.substr(i,2)):e>56319?(n=t.charCodeAt(i+1),FontManager.isVariationSelector(e)&&(a=!0)):FontManager.isZeroWidthJoiner(e)&&(a=!0,o=!0),a?(r[r.length-1]+=l,a=!1):r.push(l),i+=l.length;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,r,i,s,a,o,l=this.elem.globalData.fontManager,c=this.data,h=[],p=0,d=c.m.g,u=0,f=0,m=0,g=[],y=0,_=0,v=l.getFontByName(t.f),b=0,x=getFontProperties(v);t.fWeight=x.weight,t.fStyle=x.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var E,w=t.tr/1e3*t.finalSize;if(t.sz)for(var k,S,C=!0,T=t.sz[0],M=t.sz[1];C;){k=0,y=0,n=(S=this.buildFinalText(t.t)).length,w=t.tr/1e3*t.finalSize;var P=-1;for(e=0;e<n;e+=1)E=S[e].charCodeAt(0),r=!1," "===S[e]?P=e:13!==E&&3!==E||(y=0,r=!0,k+=t.finalLineHeight||1.2*t.finalSize),l.chars?(o=l.getCharData(S[e],v.fStyle,v.fFamily),b=r?0:o.w*t.finalSize/100):b=l.measureText(S[e],t.f,t.finalSize),y+b>T&&" "!==S[e]?(-1===P?n+=1:e=P,k+=t.finalLineHeight||1.2*t.finalSize,S.splice(e,P===e?1:0,"\r"),P=-1,y=0):(y+=b,y+=w);k+=v.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&M<k?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=S,n=t.finalText.length,C=!1)}y=-w,b=0;var A,$=0;for(e=0;e<n;e+=1)if(r=!1,13===(E=(A=t.finalText[e]).charCodeAt(0))||3===E?($=0,g.push(y),_=y>_?y:_,y=-2*w,i="",r=!0,m+=1):i=A,l.chars?(o=l.getCharData(A,v.fStyle,l.getFontByName(t.f).fFamily),b=r?0:o.w*t.finalSize/100):b=l.measureText(i,t.f,t.finalSize)," "===A?$+=b+w:(y+=b+w+$,$=0),h.push({l:b,an:b,add:u,n:r,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==d){if(u+=b,""===i||" "===i||e===n-1){for(""!==i&&" "!==i||(u-=b);f<=e;)h[f].an=u,h[f].ind=p,h[f].extra=b,f+=1;p+=1,u=0}}else if(3==d){if(u+=b,""===i||e===n-1){for(""===i&&(u-=b);f<=e;)h[f].an=u,h[f].ind=p,h[f].extra=b,f+=1;u=0,p+=1}}else h[p].ind=p,h[p].extra=0,p+=1;if(t.l=h,_=y>_?y:_,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=_,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var D,I,F,R,L=c.a;a=L.length;var O=[];for(s=0;s<a;s+=1){for((D=L[s]).a.sc&&(t.strokeColorAnim=!0),D.a.sw&&(t.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(t.fillColorAnim=!0),R=0,F=D.s.b,e=0;e<n;e+=1)(I=h[e]).anIndexes[s]=R,(1==F&&""!==I.val||2==F&&""!==I.val&&" "!==I.val||3==F&&(I.n||" "==I.val||e==n-1)||4==F&&(I.n||e==n-1))&&(1===D.s.rn&&O.push(R),R+=1);c.a[s].s.totalChars=R;var N,B=-1;if(1===D.s.rn)for(e=0;e<n;e+=1)B!=(I=h[e]).anIndexes[s]&&(B=I.anIndexes[s],N=O.splice(Math.floor(Math.random()*O.length),1)[0]),I.anIndexes[s]=N}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=v.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,s=0,a=1,o=1;this.ne.v>0?i=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(i,s,a,o).get,c=0,h=this.finalS,p=this.finalE,d=this.data.sh;if(2===d)c=l(c=p===h?r>=p?1:0:t(0,e(.5/(p-h)+(r-h)/(p-h),1)));else if(3===d)c=l(c=p===h?r>=p?0:1:1-t(0,e(.5/(p-h)+(r-h)/(p-h),1)));else if(4===d)p===h?c=0:(c=t(0,e(.5/(p-h)+(r-h)/(p-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===d){if(p===h)c=0;else{var u=p-h,f=-u/2+(r=e(t(0,r+.5-h),p-h)),m=u/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(p===h?c=0:(r=e(t(0,r+.5-h),p-h),c=(1+Math.cos(Math.PI+2*Math.PI*r/(p-h)))/2),c=l(c)):(r>=n(h)&&(c=t(0,e(r-h<0?e(p,1)-(h-r):p-r,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/e,r=this.s.v/e+n,i=this.e.v/e+n;if(r>i){var s=r;r=i,i=s}this.finalS=r,this.finalE=i}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(t,e,n){return new r(t,e)}}}();function TextAnimatorDataProperty(t,e,n){var r={propType:!1},i=PropertyFactory.getProp,s=e.a;this.a={r:s.r?i(t,s.r,0,degToRads,n):r,rx:s.rx?i(t,s.rx,0,degToRads,n):r,ry:s.ry?i(t,s.ry,0,degToRads,n):r,sk:s.sk?i(t,s.sk,0,degToRads,n):r,sa:s.sa?i(t,s.sa,0,degToRads,n):r,s:s.s?i(t,s.s,1,.01,n):r,a:s.a?i(t,s.a,1,0,n):r,o:s.o?i(t,s.o,0,.01,n):r,p:s.p?i(t,s.p,1,0,n):r,sw:s.sw?i(t,s.sw,0,0,n):r,sc:s.sc?i(t,s.sc,1,0,n):r,fc:s.fc?i(t,s.fc,1,0,n):r,fh:s.fh?i(t,s.fh,0,0,n):r,fs:s.fs?i(t,s.fs,0,.01,n):r,fb:s.fb?i(t,s.fb,0,.01,n):r,t:s.t?i(t,s.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,n=this._textData.a.length,r=PropertyFactory.getProp;for(t=0;t<n;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,s,a,o,l,c,h,p,d,u,f,m,g,y,_,v,b,x=this._moreOptions.alignment.v,E=this._animatorsData,w=this._textData,k=this.mHelper,S=this._renderType,C=this.renderedLetters.length,T=t.l;if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var M,P=b.v;for(this._pathData.r.v&&(P=P.reverse()),a={tLength:0,segments:[]},s=P._length-1,y=0,i=0;i<s;i+=1)M=bez.buildBezierData(P.v[i],P.v[i+1],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[i+1][0]-P.v[i+1][0],P.i[i+1][1]-P.v[i+1][1]]),a.tLength+=M.segmentLength,a.segments.push(M),y+=M.segmentLength;i=s,b.v.c&&(M=bez.buildBezierData(P.v[i],P.v[0],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),a.tLength+=M.segmentLength,a.segments.push(M),y+=M.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,d=0,p=1,c=0,h=!0,m=a.segments,o<0&&b.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),p=(f=m[d=m.length-1].points).length-1;o<0;)o+=f[p].partialLength,(p-=1)<0&&(p=(f=m[d-=1].points).length-1);u=(f=m[d].points)[p-1],g=(l=f[p]).partialLength}s=T.length,n=0,r=0;var A,$,D,I,F,R=1.2*t.finalSize*.714,L=!0;D=E.length;var O,N,B,V,z,j,H,G,q,U,W,K,Z=-1,J=o,Y=d,X=p,Q=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var nt=0,rt=0,it=2===t.j?-.5:-1,st=0,at=!0;for(i=0;i<s;i+=1)if(T[i].n){for(nt&&(nt+=rt);st<i;)T[st].animatorJustifyOffset=nt,st+=1;nt=0,at=!0}else{for($=0;$<D;$+=1)(A=E[$].a).t.propType&&(at&&2===t.j&&(rt+=A.t.v*it),(F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars)).length?nt+=A.t.v*F[0]*it:nt+=A.t.v*F*it);at=!1}for(nt&&(nt+=rt);st<i;)T[st].animatorJustifyOffset=nt,st+=1}for(i=0;i<s;i+=1){if(k.reset(),V=1,T[i].n)n=0,r+=t.yOffset,r+=L?1:0,o=J,L=!1,this._hasMaskedPath&&(p=X,u=(f=m[d=Y].points)[p-1],g=(l=f[p]).partialLength,c=0),tt="",W="",q="",K="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==T[i].line){switch(t.j){case 1:o+=y-t.lineWidths[T[i].line];break;case 2:o+=(y-t.lineWidths[T[i].line])/2}Q=T[i].line}Z!==T[i].ind&&(T[Z]&&(o+=T[Z].extra),o+=T[i].an/2,Z=T[i].ind),o+=x[0]*T[i].an*.005;var ot=0;for($=0;$<D;$+=1)(A=E[$].a).p.propType&&((F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars)).length?ot+=A.p.v[0]*F[0]:ot+=A.p.v[0]*F),A.a.propType&&((F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars)).length?ot+=A.a.v[0]*F[0]:ot+=A.a.v[0]*F);for(h=!0,this._pathData.a.v&&(o=.5*T[0].an+(y-this._pathData.f.v-.5*T[0].an-.5*T[T.length-1].an)*Z/(s-1),o+=this._pathData.f.v);h;)c+g>=o+ot||!f?(_=(o+ot-c)/l.partialLength,N=u.point[0]+(l.point[0]-u.point[0])*_,B=u.point[1]+(l.point[1]-u.point[1])*_,k.translate(-x[0]*T[i].an*.005,-x[1]*R*.01),h=!1):f&&(c+=l.partialLength,(p+=1)>=f.length&&(p=0,m[d+=1]?f=m[d].points:b.v.c?(p=0,f=m[d=0].points):(c-=l.partialLength,f=null)),f&&(u=l,g=(l=f[p]).partialLength));O=T[i].an/2-T[i].add,k.translate(-O,0,0)}else O=T[i].an/2-T[i].add,k.translate(-O,0,0),k.translate(-x[0]*T[i].an*.005,-x[1]*R*.01,0);for($=0;$<D;$+=1)(A=E[$].a).t.propType&&(F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars),0===n&&0===t.j||(this._hasMaskedPath?F.length?o+=A.t.v*F[0]:o+=A.t.v*F:F.length?n+=A.t.v*F[0]:n+=A.t.v*F));for(t.strokeWidthAnim&&(j=t.sw||0),t.strokeColorAnim&&(z=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(H=[t.fc[0],t.fc[1],t.fc[2]]),$=0;$<D;$+=1)(A=E[$].a).a.propType&&((F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars)).length?k.translate(-A.a.v[0]*F[0],-A.a.v[1]*F[1],A.a.v[2]*F[2]):k.translate(-A.a.v[0]*F,-A.a.v[1]*F,A.a.v[2]*F));for($=0;$<D;$+=1)(A=E[$].a).s.propType&&((F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars)).length?k.scale(1+(A.s.v[0]-1)*F[0],1+(A.s.v[1]-1)*F[1],1):k.scale(1+(A.s.v[0]-1)*F,1+(A.s.v[1]-1)*F,1));for($=0;$<D;$+=1){if(A=E[$].a,F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars),A.sk.propType&&(F.length?k.skewFromAxis(-A.sk.v*F[0],A.sa.v*F[1]):k.skewFromAxis(-A.sk.v*F,A.sa.v*F)),A.r.propType&&(F.length?k.rotateZ(-A.r.v*F[2]):k.rotateZ(-A.r.v*F)),A.ry.propType&&(F.length?k.rotateY(A.ry.v*F[1]):k.rotateY(A.ry.v*F)),A.rx.propType&&(F.length?k.rotateX(A.rx.v*F[0]):k.rotateX(A.rx.v*F)),A.o.propType&&(F.length?V+=(A.o.v*F[0]-V)*F[0]:V+=(A.o.v*F-V)*F),t.strokeWidthAnim&&A.sw.propType&&(F.length?j+=A.sw.v*F[0]:j+=A.sw.v*F),t.strokeColorAnim&&A.sc.propType)for(G=0;G<3;G+=1)F.length?z[G]+=(A.sc.v[G]-z[G])*F[0]:z[G]+=(A.sc.v[G]-z[G])*F;if(t.fillColorAnim&&t.fc){if(A.fc.propType)for(G=0;G<3;G+=1)F.length?H[G]+=(A.fc.v[G]-H[G])*F[0]:H[G]+=(A.fc.v[G]-H[G])*F;A.fh.propType&&(H=F.length?addHueToRGB(H,A.fh.v*F[0]):addHueToRGB(H,A.fh.v*F)),A.fs.propType&&(H=F.length?addSaturationToRGB(H,A.fs.v*F[0]):addSaturationToRGB(H,A.fs.v*F)),A.fb.propType&&(H=F.length?addBrightnessToRGB(H,A.fb.v*F[0]):addBrightnessToRGB(H,A.fb.v*F))}}for($=0;$<D;$+=1)(A=E[$].a).p.propType&&(F=E[$].s.getMult(T[i].anIndexes[$],w.a[$].s.totalChars),this._hasMaskedPath?F.length?k.translate(0,A.p.v[1]*F[0],-A.p.v[2]*F[1]):k.translate(0,A.p.v[1]*F,-A.p.v[2]*F):F.length?k.translate(A.p.v[0]*F[0],A.p.v[1]*F[1],-A.p.v[2]*F[2]):k.translate(A.p.v[0]*F,A.p.v[1]*F,-A.p.v[2]*F));if(t.strokeWidthAnim&&(q=j<0?0:j),t.strokeColorAnim&&(U="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),t.fillColorAnim&&t.fc&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this._hasMaskedPath){if(k.translate(0,-t.ls),k.translate(0,x[1]*R*.01+r,0),this._pathData.p.v){v=(l.point[1]-u.point[1])/(l.point[0]-u.point[0]);var lt=180*Math.atan(v)/Math.PI;l.point[0]<u.point[0]&&(lt+=180),k.rotate(-lt*Math.PI/180)}k.translate(N,B,0),o-=x[0]*T[i].an*.005,T[i+1]&&Z!==T[i+1].ind&&(o+=T[i].an/2,o+=.001*t.tr*t.finalSize)}else{switch(k.translate(n,r,0),t.ps&&k.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:k.translate(T[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[i].line]),0,0);break;case 2:k.translate(T[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[i].line])/2,0,0)}k.translate(0,-t.ls),k.translate(O,0,0),k.translate(x[0]*T[i].an*.005,x[1]*R*.01,0),n+=T[i].l+.001*t.tr*t.finalSize}"html"===S?tt=k.toCSS():"svg"===S?tt=k.to2dCSS():et=[k.props[0],k.props[1],k.props[2],k.props[3],k.props[4],k.props[5],k.props[6],k.props[7],k.props[8],k.props[9],k.props[10],k.props[11],k.props[12],k.props[13],k.props[14],k.props[15]],K=V}C<=i?(I=new LetterProps(K,q,U,W,tt,et),this.renderedLetters.push(I),C+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[i],this.lettersChangedFlag=I.update(K,q,U,W,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,r,i=e.length,s="";for(n=0;n<i;n+=1)"sh"===e[n].ty&&(r=e[n].ks.k,s+=buildShapeString(r,r.i.length,!0,t));return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,r,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(r,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function ISolidElement(t,e,n){this.initElement(t,e,n)}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=e.title,this.svgElement.appendChild(r),n+=i}if(e&&e.description){var s=createNS("desc"),a=createElementID();s.setAttribute("id",a),s.textContent=e.description,this.svgElement.appendChild(s),n+=" "+a}n&&this.svgElement.setAttribute("aria-labelledby",n);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,r=[],i="";e<n;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(i),i=""):i+=t[e],e+=1;return r.push(i),r},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=e,r.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight,s=n.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var a,o=n.l||[],l=!!this.globalData.fontManager.chars;e=o.length;var c=this.mHelper,h=this.data.singleShape,p=0,d=0,u=!0,f=.001*n.tr*n.finalSize;if(!h||l||n.sz){var m,g=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!h||0===t){if(a=g>t?this.textSpans[t].span:createNS(l?"g":"text"),g<=t){if(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=a,l){var y=createNS("g");a.appendChild(y),this.textSpans[t].childSpan=y}this.textSpans[t].span=a,this.layerElement.appendChild(a)}a.style.display="inherit"}if(c.reset(),h&&(o[t].n&&(p=-f,d+=n.yOffset,d+=u?1:0,u=!1),this.applyTextPropertiesToMatrix(n,c,o[t].line,p,d),p+=o[t].l||0,p+=f),l){var _;if(1===(m=this.globalData.fontManager.getCharData(n.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t)_=new SVGCompElement(m.data,this.globalData,this);else{var v=emptyShapeData;m.data&&m.data.shapes&&(v=this.buildShapeData(m.data,n.finalSize)),_=new SVGShapeElement(v,this.globalData,this)}if(this.textSpans[t].glyph){var b=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(b.layerElement),b.destroy()}this.textSpans[t].glyph=_,_._debug=!0,_.prepareFrame(0),_.renderFrame(),this.textSpans[t].childSpan.appendChild(_.layerElement),1===m.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else h&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=o[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&a&&a.setAttribute("d","")}else{var x=this.textContainer,E="start";switch(n.j){case 1:E="end";break;case 2:E="middle";break;default:E="start"}x.setAttribute("text-anchor",E),x.setAttribute("letter-spacing",f);var w=this.buildTextContents(n.finalText);for(e=w.length,d=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t].span||createNS("tspan")).textContent=w[t],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",x.appendChild(a),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=a,d+=n.finalLineHeight;this.layerElement.appendChild(x)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,r,i,s=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n||(n=s[t],r=this.textSpans[t].span,(i=this.textSpans[t].glyph)&&i.renderFrame(),n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var r="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===r)return;if(this.elements[r]&&!0!==this.elements[r]){var i=e[r].getMatte(this.layers[t].tt);n.setMatte(i)}else this.buildItem(r),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var r="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[r].getMatte(this.layers[e].tt);t.setMatte(i);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var r,i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,r="_";for(e=0;e<n;e+=1)r+=t[e].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var n=0,r=t.transforms.length,i=e;n<r&&!e;){if(t.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(t.finalTransform.reset(),n=r-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=i},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,r=null;function i(){var i,s,a;e||(i=createNS("svg"),s=createNS("filter"),a=createNS("feColorMatrix"),s.setAttribute("id",t),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),s.appendChild(a),i.appendChild(s),i.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(i.style.display="none"),r=i,document.body.appendChild(r),e=createTag("canvas"),(n=e.getContext("2d")).filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}return{load:i,get:function(r){return e||i(),e.width=r.width,e.height=r.height,n.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas},registeredEffects={};function CVEffects(t){var e,n,r=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<r;e+=1){n=null;var i=t.data.ef[e].ty;registeredEffects[i]&&(n=new(0,registeredEffects[i].effect)(t.effectsManager.effectElements[e],t)),n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var n;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r=this.masksProperties.length,i=!1;for(n=0;n<r;n+=1)"n"!==this.masksProperties[n].mode&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,r,i=this.element.finalTransform.mat,s=this.element.canvasContext,a=this.masksProperties.length;for(s.beginPath(),t=0;t<a;t+=1)if("n"!==this.masksProperties[t].mode){var o;this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),r=this.viewData[t].v,e=i.applyToPointArray(r.v[0][0],r.v[0][1],0),s.moveTo(e[0],e[1]);var l=r._length;for(o=1;o<l;o+=1)n=i.applyToTriplePoints(r.o[o-1],r.i[o],r.v[o]),s.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=i.applyToTriplePoints(r.o[o-1],r.i[0],r.v[0]),s.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i,s=4;"rc"===e.ty?s=5:"el"===e.ty?s=6:"sr"===e.ty&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,s,t);var a,o=n.length;for(i=0;i<o;i+=1)n[i].closed||(a={transforms:r.addTransformSequence(n[i].transforms),trNodes:[]},this.styledShapes.push(a),n[i].elements.push(a))}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,s=t.ks.or.k.length;for(i=0;i<s;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},r={};if("fl"===t.ty||"st"===t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],1==t.lj&&(n.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(n.wi=r.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);r.d=i,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,r,i){var s,a,o,l,c,h,p=t.length-1,d=[],u=[],f=[].concat(i);for(s=p;s>=0;s-=1){if((l=this.searchProcessedElement(t[s]))?e[s]=n[l-1]:t[s]._shouldRender=r,"fl"===t[s].ty||"st"===t[s].ty||"gf"===t[s].ty||"gs"===t[s].ty)l?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],f),d.push(e[s].style);else if("gr"===t[s].ty){if(l)for(o=e[s].it.length,a=0;a<o;a+=1)e[s].prevViewData[a]=e[s].it[a];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,r,f)}else"tr"===t[s].ty?(l||(h=this.createTransformElement(t[s]),e[s]=h),f.push(e[s]),this.addTransformToStyleList(e[s])):"sh"===t[s].ty||"rc"===t[s].ty||"el"===t[s].ty||"sr"===t[s].ty?l||(e[s]=this.createShapeElement(t[s])):"tm"===t[s].ty||"rd"===t[s].ty||"pb"===t[s].ty||"zz"===t[s].ty||"op"===t[s].ty?(l?(c=e[s]).closed=!1:((c=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=c,this.shapeModifiers.push(c)),u.push(c)):"rp"===t[s].ty&&(l?(c=e[s]).closed=!0:(c=ShapeModifiers.getModifier(t[s].ty),e[s]=c,c.init(this,t,s,e),this.shapeModifiers.push(c),r=!1),u.push(c));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),p=u.length,s=0;s<p;s+=1)u[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,r,i,s,a,o,l,c=this.stylesList.length,h=this.globalData.renderer,p=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(("st"!==(o=(l=this.stylesList[t]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),s=l.elements,"st"===o||"gs"===o?(h.ctxStrokeStyle("st"===o?l.co:l.grd),h.ctxLineWidth(l.wi),h.ctxLineCap(l.lc),h.ctxLineJoin(l.lj),h.ctxMiterLimit(l.ml||0)):h.ctxFillStyle("fl"===o?l.co:l.grd),h.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&p.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),n=s.length,e=0;e<n;e+=1){for("st"!==o&&"gs"!==o||(p.beginPath(),l.da&&(p.setLineDash(l.da),p.lineDashOffset=l.do)),i=(a=s[e].trNodes).length,r=0;r<i;r+=1)"m"===a[r].t?p.moveTo(a[r].p[0],a[r].p[1]):"c"===a[r].t?p.bezierCurveTo(a[r].pts[0],a[r].pts[1],a[r].pts[2],a[r].pts[3],a[r].pts[4],a[r].pts[5]):p.closePath();"st"!==o&&"gs"!==o||(h.ctxStroke(),l.da&&p.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,r){var i,s;for(s=t,i=e.length-1;i>=0;i-=1)"tr"===e[i].ty?(s=n[i].transform,this.renderShapeTransform(t,s)):"sh"===e[i].ty||"el"===e[i].ty||"rc"===e[i].ty||"sr"===e[i].ty?this.renderPath(e[i],n[i]):"fl"===e[i].ty?this.renderFill(e[i],n[i],s):"st"===e[i].ty?this.renderStroke(e[i],n[i],s):"gf"===e[i].ty||"gs"===e[i].ty?this.renderGradientFill(e[i],n[i],s):"gr"===e[i].ty?this.renderShape(s,e[i].it,n[i].it):e[i].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,r,i,s=t.trNodes,a=e.paths,o=a._length;s.length=0;var l=t.transforms.finalTransform;for(i=0;i<o;i+=1){var c=a.shapes[i];if(c&&c.v){for(r=c._length,n=1;n<r;n+=1)1===n&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===r&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&r&&(s.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var n,r=e.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var r,i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var s,a=this.globalData.canvasContext,o=e.s.v,l=e.e.v;if(1===t.t)r=a.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),h=Math.atan2(l[1]-o[1],l[0]-o[0]),p=e.h.v;p>=1?p=.99:p<=-1&&(p=-.99);var d=c*p,u=Math.cos(h+e.a.v)*d+o[0],f=Math.sin(h+e.a.v)*d+o[1];r=a.createRadialGradient(u,f,0,o[0],o[1],c)}var m=t.g.p,g=e.g.c,y=1;for(s=0;s<m;s+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*s+1]),r.addColorStop(g[4*s]/100,"rgba("+g[4*s+1]+","+g[4*s+2]+","+g[4*s+3]+","+y+")");i.grd=r}i.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r,i,s,a,o,l,c,h,p,d,u,f,m=this.globalData.fontManager.getFontByName(t.f),g=t.l,y=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var _=this.data.singleShape,v=.001*t.tr*t.finalSize,b=0,x=0,E=!0,w=0;for(r=0;r<i;r+=1){a=(s=this.globalData.fontManager.getCharData(t.finalText[r],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&s.data||{},y.reset(),_&&g[r].n&&(b=-v,x+=t.yOffset,x+=E?1:0,E=!1),p=(c=a.shapes?a.shapes[0].it:[]).length,y.scale(t.finalSize/100,t.finalSize/100),_&&this.applyTextPropertiesToMatrix(t,y,g[r].line,b,x),u=createSizedArray(p-1);var k=0;for(h=0;h<p;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,d=c[h].ks.k,f=[],o=1;o<l;o+=1)1===o&&f.push(y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[o][0],d.i[o][1],0),y.applyToY(d.i[o][0],d.i[o][1],0),y.applyToX(d.v[o][0],d.v[o][1],0),y.applyToY(d.v[o][0],d.v[o][1],0));f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[0][0],d.i[0][1],0),y.applyToY(d.i[0][0],d.i[0][1],0),y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),u[k]=f,k+=1}_&&(b+=g[r].l,b+=v),this.textSpans[w]?this.textSpans[w].elem=u:this.textSpans[w]={elem:u},w+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,r,i,s;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var c,h,p=null,d=null,u=null,f=this.globalData.renderer;for(t=0;t<e;t+=1)if(!l[t].n){if((a=o[t])&&(f.save(),f.ctxTransform(a.p),f.ctxOpacity(a.o)),this.fill){for(a&&a.fc?p!==a.fc&&(f.ctxFillStyle(a.fc),p=a.fc):p!==this.values.fill&&(p=this.values.fill,f.ctxFillStyle(this.values.fill)),r=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(s=(h=c[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(a&&a.sw?u!==a.sw&&(u=a.sw,f.ctxLineWidth(a.sw)):u!==this.values.sWidth&&(u=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),a&&a.sc?d!==a.sc&&(d=a.sc,f.ctxStrokeStyle(a.sc)):d!==this.values.stroke&&(d=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),r=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(s=(h=c[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,r=t.getContext("2d"),i=this.img.width,s=this.img.height,a=i/s,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&"xMidYMid slice"===l||a<o&&"xMidYMid slice"!==l?e=(n=s)*o:n=(e=i)/o,r.drawImage(this.img,(i-e)/2,(s-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,r){this.canvasContext.fillRect(t,e,n,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var n,r,i,s;if(this.reset(),t?(n=t,r=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);i=n/r,(s=this.transformCanvas.w/this.transformCanvas.h)>i&&"meet"===o||s<i&&"slice"===o?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(s<i&&"meet"===o||s>i&&"slice"===o)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(s<i&&"meet"===o||s>i&&"slice"===o)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(s>i&&"meet"===o||s<i&&"slice"===o)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(s>i&&"meet"===o||s<i&&"slice"===o)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var n;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,n=this.stack[this.cArrPos],r=n.transform,i=this.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];if(t){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(t||-1!==n.opacity&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n,r=this.stack[this.cArrPos];for(n=0;n<16;n+=1)r.transform[n]=e[n];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=r.opacity,i.fillStyle=r.fillStyle,i.strokeStyle=r.strokeStyle,i.lineWidth=r.lineWidth,i.lineCap=r.lineCap,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,r,i,s,a,o=t.sh.v,l=t.transformers,c=o._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)r=this.getTransformedPoint(l,o.v[n]),i=this.getTransformedPoint(l,o.o[n]),s=this.getTransformedPoint(l,o.i[n+1]),a=this.getTransformedPoint(l,o.v[n+1]),this.checkBounds(r,i,s,a,e);o.c&&(r=this.getTransformedPoint(l,o.v[n]),i=this.getTransformedPoint(l,o.o[n]),s=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(r,i,s,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,r,i){this.getBoundsOfCurve(t,e,n,r);var s=this.shapeBoundingBox;i.x=bmMin(s.left,i.x),i.xMax=bmMax(s.right,i.xMax),i.y=bmMin(s.top,i.y),i.yMax=bmMax(s.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,r){for(var i,s,a,o,l,c,h,p=[[t[0],r[0]],[t[1],r[1]]],d=0;d<2;++d)s=6*t[d]-12*e[d]+6*n[d],i=-3*t[d]+9*e[d]-9*n[d]+3*r[d],a=3*e[d]-3*t[d],s|=0,a|=0,0==(i|=0)&&0===s||(0===i?(o=-a/s)>0&&o<1&&p[d].push(this.calculateF(o,t,e,n,r,d)):(l=s*s-4*a*i)>=0&&((c=(-s+bmSqrt(l))/(2*i))>0&&c<1&&p[d].push(this.calculateF(c,t,e,n,r,d)),(h=(-s-bmSqrt(l))/(2*i))>0&&h<1&&p[d].push(this.calculateF(h,t,e,n,r,d))));this.shapeBoundingBox.left=bmMin.apply(null,p[0]),this.shapeBoundingBox.top=bmMin.apply(null,p[1]),this.shapeBoundingBox.right=bmMax.apply(null,p[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,p[1])},HShapeElement.prototype.calculateF=function(t,e,n,r,i,s){return bmPow(1-t,3)*e[s]+3*bmPow(1-t,2)*t*n[s]+3*(1-t)*bmPow(t,2)*r[s]+bmPow(t,3)*i[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var r=0;r<t.keyframes.length;r+=1){var i=t.keyframes[r].s;i>n&&(n=i)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=i,r.webkitTransform=i}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r,i,s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{e.fontFamily=s.fFamily;var a=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=a}var l,c,h,p=t.l;i=p.length;var d,u=this.mHelper,f="",m=0;for(r=0;r<i;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(t.finalText[r],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=y?y.data:null,u.reset(),g&&g.shapes&&g.shapes.length&&(d=g.shapes[0].it,u.scale(t.finalSize/100,t.finalSize/100),f=this.createPathShape(u,d),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var _=h.getBBox();h.setAttribute("width",_.width+2),h.setAttribute("height",_.height+2),h.setAttribute("viewBox",_.x-1+" "+(_.y-1)+" "+(_.width+2)+" "+(_.height+2));var v=h.style,b="translate("+(_.x-1)+"px,"+(_.y-1)+"px)";v.transform=b,v.webkitTransform=b,p[r].yOffset=_.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=p[r].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,E="translate3d(0,"+-t.finalSize/1.2+"px,0)";x.transform=E,x.webkitTransform=E}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,r,i,s,a,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(r=c.length,n=0;n<r;n+=1)c[n].n?o+=1:(s=this.textSpans[n],a=this.textPaths[n],i=l[o],o+=1,i._mdf.m&&(this.isMasked?s.setAttribute("transform",i.m):(s.style.webkitTransform=i.m,s.style.transform=i.m)),s.style.opacity=i.o,i.sw&&i._mdf.sw&&a.setAttribute("stroke-width",i.sw),i.sc&&i._mdf.sc&&a.setAttribute("stroke",i.sc),i.fc&&i._mdf.fc&&(a.setAttribute("fill",i.fc),a.style.color=i.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var p="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=p,t.webkitTransform=p}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,r,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){n=e.perspectiveElem.style,r=e.container.style;var s=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=s,n.webkitPerspective=s,r.transformOrigin=a,r.mozTransformOrigin=a,r.webkitTransformOrigin=a,n.transform=o,n.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var r=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),a=[i[0]/s,i[1]/s,i[2]/s],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),c=Math.atan2(a[0],-a[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var p,d,u;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(p=this.comp.threeDElements[t]).type){if(h){var f=this.mat.toCSS();(u=p.container.style).transform=f,u.webkitTransform=f}this.pe._mdf&&((d=p.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var i,s,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(s=this.elements[a],i=(this.layers[a].ddd?this.getThreeDContainerByPos(a):s.getBaseElement())||i),a+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,i):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n,r,i=createTag("div");styleDiv(i);var s=createTag("div");if(styleDiv(s),"3d"===e){(n=i.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var a="50% 50%";n.webkitTransformOrigin=a,n.mozTransformOrigin=a,n.transformOrigin=a;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(r=s.style).transform=o,r.webkitTransform=o}i.appendChild(s);var l={container:s,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e,n=this.layers.length,r="";for(t=0;t<n;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==r&&(r="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==r&&(r="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,r=this.threeDElements.length;n<r;){if(e<=this.threeDElements[n].endPos){for(var i,s=this.threeDElements[n].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s].getBaseElement()),s+=1;i?this.threeDElements[n].container.insertBefore(t,i):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",this.resizerElem=e,styleDiv(e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),r.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var s=createNS("defs");i.appendChild(s),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=s,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,n,r,i=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,a=i/s;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,n=0,r=(s-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,n=(i-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,r=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+r+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;t<r;t+=1){var i=this.threeDElements[t].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,r=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,r=0;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(e){for(var n=0,r=t.layers.length;n<r;){if(t.layers[n].nm===e||t.layers[n].ind===e)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(t)}function seedRandom(t,e){var n=this,r=256,i="random",s=e.pow(r,6),a=e.pow(2,52),o=2*a,l=255;function c(t){var e,n=t.length,i=this,s=0,a=i.i=i.j=0,o=i.S=[];for(n||(t=[n++]);s<r;)o[s]=s++;for(s=0;s<r;s++)o[s]=o[a=l&a+t[s%n]+(e=o[s])],o[a]=e;i.g=function(t){for(var e,n=0,s=i.i,a=i.j,o=i.S;t--;)e=o[s=l&s+1],n=n*r+o[l&(o[s]=o[a=l&a+e])+(o[a]=e)];return i.i=s,i.j=a,n}}function h(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){var n,r=[],i=_typeof$2(t);if(e&&"object"==i)for(n in t)try{r.push(p(t[n],e-1))}catch(t){}return r.length?r:"string"==i?t:t+"\0"}function d(t,e){for(var n,r=t+"",i=0;i<r.length;)e[l&i]=l&(n^=19*e[l&i])+r.charCodeAt(i++);return u(e)}function u(t){return String.fromCharCode.apply(0,t)}e["seed"+i]=function(l,f,m){var g=[],y=d(p((f=!0===f?{entropy:!0}:f||{}).entropy?[l,u(t)]:null===l?function(){try{var e=new Uint8Array(r);return(n.crypto||n.msCrypto).getRandomValues(e),u(e)}catch(e){var i=n.navigator,s=i&&i.plugins;return[+new Date,n,s,n.screen,u(t)]}}():l,3),g),_=new c(g),v=function(){for(var t=_.g(6),e=s,n=0;t<a;)t=(t+n)*r,e*=r,n=_.g(1);for(;t>=o;)t/=2,e/=2,n>>>=1;return(t+n)/e};return v.int32=function(){return 0|_.g(4)},v.quick=function(){return _.g(4)/4294967296},v.double=v,d(u(_.S),t),(f.pass||m||function(t,n,r,s){return s&&(s.S&&h(s,_),t.state=function(){return h(_,{})}),r?(e[i]=t,n):t})(v,y,"global"in f?f.global:this==e,f.state)},d(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var n,r=t.length,i=[];for(n=0;n<r;n+=1)i[n]=-t[n];return i}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e)||"string"===n||"string"===r)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,a=e.length,o=[];i<s||i<a;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?o[i]=t[i]+e[i]:o[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e))return"string"===n&&(t=parseInt(t,10)),"string"===r&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,a=e.length,o=[];i<s||i<a;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?o[i]=t[i]-e[i]:o[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}function mul(t,e){var n,r,i,s=_typeof$1(t),a=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t[r]*e;return n}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t*e[r];return n}return 0}function div(t,e){var n,r,i,s=_typeof$1(t),a=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t[r]/e;return n}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t/e[r];return n}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var r=n;n=e,e=r}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var n;e||(e=helperLengthArray);var r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(e[n]-t[n],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,r=t[0],i=t[1],s=t[2],a=Math.max(r,i,s),o=Math.min(r,i,s),l=(a+o)/2;if(a===o)e=0,n=0;else{var c=a-o;switch(n=l>.5?c/(2-a-o):c/(a+o),a){case r:e=(i-s)/c+(i<s?6:0);break;case i:e=(s-r)/c+2;break;case s:e=(r-i)/c+4}e/=6}return[e,n,l,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,r,i=t[0],s=t[1],a=t[2];if(0===s)e=a,r=a,n=a;else{var o=a<.5?a*(1+s):a+s-a*s,l=2*a-o;e=hue2rgb(l,o,i+1/3),n=hue2rgb(l,o,i),r=hue2rgb(l,o,i-1/3)}return[e,n,r,t[3]]}function linear(t,e,n,r,i){if(void 0!==r&&void 0!==i||(r=e,i=n,e=0,n=1),n<e){var s=n;n=e,e=s}if(t<=e)return r;if(t>=n)return i;var a,o=n===e?0:(t-e)/(n-e);if(!r.length)return r+(i-r)*o;var l=r.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=r[a]+(i[a]-r[a])*o;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var n,r=e.length;t||(t=createTypedArray("float32",r));var i=createTypedArray("float32",r),s=BMMath.random();for(n=0;n<r;n+=1)i[n]=t[n]+s*(e[n]-t[n]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,r){var i,s=t.length,a=shapePool.newElement();a.setPathData(!!r,s);var o,l,c=[0,0];for(i=0;i<s;i+=1)o=e&&e[i]?e[i]:c,l=n&&n[i]?n[i]:c,a.setTripleAt(t[i][0],t[i][1],l[0]+t[i][0],l[1]+t[i][1],o[0]+t[i][0],o[1]+t[i][1],i,!0);return a}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var n,r,i=this.pv.length?this.pv.length:1,s=createTypedArray("float32",i),a=Math.floor(5*time);for(n=0,r=0;n<a;){for(r=0;r<i;r+=1)s[r]+=-e+2*e*BMMath.random();n+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",i);if(i>1){for(r=0;r<i;r+=1)c[r]=this.pv[r]+s[r]+(-e+2*e*BMMath.random())*l;return c}return this.pv+s[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(t,e,n,r,i){return applyEase(easeOutBez,t,e,n,r,i)}function easeIn(t,e,n,r,i){return applyEase(easeInBez,t,e,n,r,i)}function ease(t,e,n,r,i){return applyEase(easeInOutBez,t,e,n,r,i)}function applyEase(t,e,n,r,i,s){void 0===i?(i=n,s=r):e=(e-n)/(r-n),e>1?e=1:e<0&&(e=0);var a=t(e);if($bm_isInstanceOfArray(i)){var o,l=i.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(s[o]-i[o])*a+i[o];return c}return(s-i)*a+i}function nearestKey(t){var e,n,r,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){n=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,r=data.k[e+1].t):(n=e+1,r=data.k[e].t);break}}-1===n&&(n=e+1,r=data.k[e].t)}else n=0,r=0;var s={};return s.index=n,s.time=r/elem.comp.globalData.frameRate,s}function key(t){var e,n,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(r=i.length,n=0;n<r;n+=1)e[n]=i[n],e.value[n]=i[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={initExpressions:function(t){var e=0,n=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=n.length;for(t=0;t<e;t+=1)n[t].release();n.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===n.indexOf(t)&&n.push(t)}}};return t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var n,r=createSizedArray(e.viewData.length),i=e.viewData.length;for(n=0;n<i;n+=1)r[n]=new t(e.viewData[n],e.masksProperties[n]);return function(t){for(n=0;n<i;){if(e.masksProperties[n].nm===t)return r[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(t,e,n){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(r){if(!t.numKeys)return 0;var i="";i="s"in e.keyframes[r-1]?e.keyframes[r-1].s:"e"in e.keyframes[r-2]?e.keyframes[r-2].e:e.keyframes[r-2].s;var s="unidimensional"===n?new Number(i):Object.assign({},i);return s.time=e.keyframes[r-1].t/e.elem.comp.globalData.frameRate,s.value="unidimensional"===n?i[0]:i,s},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function r(){return t}return function(i){return i?"unidimensional"===i.propType?function(e){e&&"pv"in e||(e=t);var r=1/e.mult,i=e.pv*r,s=new Number(i);return s.value=i,n(s,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*r,s.value!==i&&((s=new Number(i)).value=i,n(s,e,"unidimensional")),s}}(i):function(t){t&&"pv"in t||(t=e);var r=1/t.mult,i=t.data&&t.data.l||t.pv.length,s=createTypedArray("float32",i),a=createTypedArray("float32",i);return s.value=a,n(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)a[e]=t.v[e]*r,s[e]=a[e];return s}}(i):r}}(),TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var n,r,i,s;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?s=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(i=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?s():[n(),r(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,t)}function n(t,e){var n=this.getMatrix(e);return this.applyPoint(n,t)}function r(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,t)}function i(t,e){var n=this.getMatrix(e);return this.invertPoint(n,t)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function a(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function o(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(c){var h;function p(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return p.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return p.effect;case"ADBE Text Properties":return p.textInterface;default:return null}}p.getMatrix=t,p.invertPoint=a,p.applyPoint=s,p.toWorld=n,p.toWorldVec=e,p.fromWorld=i,p.fromWorldVec=r,p.toComp=n,p.fromComp=o,p.sampleImage=l,p.sourceRectAtTime=c.sourceRectAtTime.bind(c),p._elem=c;var d=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(p,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),p.startTime=c.data.st,p.index=c.data.ind,p.source=c.data.refId,p.height=0===c.data.ty?c.data.h:100,p.width=0===c.data.ty?c.data.w:100,p.inPoint=c.data.ip/c.comp.globalData.frameRate,p.outPoint=c.data.op/c.comp.globalData.frameRate,p._name=c.data.nm,p.registerMaskInterface=function(t){p.mask=new MaskManagerInterface(t,c)},p.registerEffectsInterface=function(t){p.effect=t},p}}(),propertyGroupFactory=function(t,e){return function(n){return(n=void 0===n?1:n)<=0?t:e(n-1)}},PropertyInterface=function(t,e){var n={_name:t};return function(t){return(t=void 0===t?1:t)<=0?n:e(t-1)}},EffectsExpressionInterface=function(){function t(n,r,i,s){function a(t){for(var e=n.ef,r=0,i=e.length;r<i;){if(t===e[r].nm||t===e[r].mn||t===e[r].ix)return 5===e[r].ty?c[r]:c[r]();r+=1}throw new Error}var o,l=propertyGroupFactory(a,i),c=[],h=n.ef.length;for(o=0;o<h;o+=1)5===n.ef[o].ty?c.push(t(n.ef[o],r.effectElements[o],r.effectElements[o].propertyGroup,s)):c.push(e(r.effectElements[o],n.ef[o].ty,s,l));return"ADBE Color Control"===n.mn&&Object.defineProperty(a,"color",{get:function(){return c[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:l}}),a.enabled=0!==n.en,a.active=a.enabled,a}function e(t,e,n,r){var i=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",r)),function(){return 10===e?n.comp.compInterface(t.p.v):i()}}return{createEffectsInterface:function(e,n){if(e.effectsManager){var r,i=[],s=e.data.ef,a=e.effectsManager.effectElements.length;for(r=0;r<a;r+=1)i.push(t(s[r],e.effectsManager.effectElements[r],n,e));var o=e.data.ef||[],l=function(t){for(r=0,a=o.length;r<a;){if(t===o[r].nm||t===o[r].mn||t===o[r].ix)return i[r];r+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),ShapePathInterface=function(t,e,n){var r=e.sh;function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?i.path:null}var s=propertyGroupFactory(i,n);return r.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(i,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),i},ShapeExpressionInterface=function(){function t(t,a,d){var u,f=[],m=t?t.length:0;for(u=0;u<m;u+=1)"gr"===t[u].ty?f.push(e(t[u],a[u],d)):"fl"===t[u].ty?f.push(n(t[u],a[u],d)):"st"===t[u].ty?f.push(i(t[u],a[u],d)):"tm"===t[u].ty?f.push(s(t[u],a[u],d)):"tr"===t[u].ty||("el"===t[u].ty?f.push(o(t[u],a[u],d)):"sr"===t[u].ty?f.push(l(t[u],a[u],d)):"sh"===t[u].ty?f.push(ShapePathInterface(t[u],a[u],d)):"rc"===t[u].ty?f.push(c(t[u],a[u],d)):"rd"===t[u].ty?f.push(h(t[u],a[u],d)):"rp"===t[u].ty?f.push(p(t[u],a[u],d)):"gf"===t[u].ty?f.push(r(t[u],a[u],d)):f.push((t[u],a[u],function(){return null})));return f}function e(e,n,r){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=propertyGroupFactory(i,r);var s=function(e,n,r){var i,s=function(t){for(var e=0,n=i.length;e<n;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}return"number"==typeof t?i[t-1]:null};s.propertyGroup=propertyGroupFactory(s,r),i=t(e.it,n.it,s.propertyGroup),s.numProperties=i.length;var o=a(e.it[e.it.length-1],n.it[n.it.length-1],s.propertyGroup);return s.transform=o,s.propertyIndex=e.cix,s._name=e.nm,s}(e,n,i.propertyGroup),o=a(e.it[e.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.content=s,i.transform=o,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i}function n(t,e,n){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function r(t,e,n){function r(t){return"Start Point"===t||"start point"===t?r.startPoint:"End Point"===t||"end point"===t?r.endPoint:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",n)),e.e.setGroupProperty(PropertyInterface("End Point",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function i(t,e,n){var r,i=propertyGroupFactory(c,n),s=propertyGroupFactory(l,i);function a(n){Object.defineProperty(l,t.d[n].nm,{get:ExpressionPropertyInterface(e.d.dataProps[n].p)})}var o=t.d?t.d.length:0,l={};for(r=0;r<o;r+=1)a(r),e.d.dataProps[r].p.setGroupProperty(s);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),c}function s(t,e,n){function r(e){return e===t.e.ix||"End"===e||"end"===e?r.end:e===t.s.ix?r.start:e===t.o.ix?r.offset:null}var i=propertyGroupFactory(r,n);return r.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",i)),e.e.setGroupProperty(PropertyInterface("End",i)),e.o.setGroupProperty(PropertyInterface("Offset",i)),r.propertyIndex=t.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),r.mn=t.mn,r}function a(t,e,n){function r(e){return t.a.ix===e||"Anchor Point"===e?r.anchorPoint:t.o.ix===e||"Opacity"===e?r.opacity:t.p.ix===e||"Position"===e?r.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?r.rotation:t.s.ix===e||"Scale"===e?r.scale:t.sk&&t.sk.ix===e||"Skew"===e?r.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?r.skewAxis:null}var i=propertyGroupFactory(r,n);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",i)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",i)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",i)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",i)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",i)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",i)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",i))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",i)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),r.ty="tr",r.mn=t.mn,r.propertyGroup=n,r}function o(t,e,n){function r(e){return t.p.ix===e?r.position:t.s.ix===e?r.size:null}var i=propertyGroupFactory(r,n);r.propertyIndex=t.ix;var s="tm"===e.sh.ty?e.sh.prop:e.sh;return s.s.setGroupProperty(PropertyInterface("Size",i)),s.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:t.nm}}),r.mn=t.mn,r}function l(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.pt.ix===e?r.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?r.outerRadius:t.os.ix===e?r.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?r.innerRoundness:null:r.innerRadius}var i=propertyGroupFactory(r,n),s="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",i)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),s.pt.setGroupProperty(PropertyInterface("Points",i)),s.p.setGroupProperty(PropertyInterface("Position",i)),s.r.setGroupProperty(PropertyInterface("Rotation",i)),t.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:t.nm}}),r.mn=t.mn,r}function c(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?r.size:null}var i=propertyGroupFactory(r,n),s="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,s.p.setGroupProperty(PropertyInterface("Position",i)),s.s.setGroupProperty(PropertyInterface("Size",i)),s.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:t.nm}}),r.mn=t.mn,r}function h(t,e,n){function r(e){return t.r.ix===e||"Round Corners 1"===e?r.radius:null}var i=propertyGroupFactory(r,n),s=e;return r.propertyIndex=t.ix,s.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:t.nm}}),r.mn=t.mn,r}function p(t,e,n){function r(e){return t.c.ix===e||"Copies"===e?r.copies:t.o.ix===e||"Offset"===e?r.offset:null}var i=propertyGroupFactory(r,n),s=e;return r.propertyIndex=t.ix,s.c.setGroupProperty(PropertyInterface("Copies",i)),s.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:t.nm}}),r.mn=t.mn,r}return function(e,n,r){var i;function s(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?r:i[t-1];for(var e=0,n=i.length;e<n;){if(i[e]._name===t)return i[e];e+=1}return null}return s.propertyGroup=propertyGroupFactory(s,(function(){return r})),i=t(e,n,s.propertyGroup),s.numProperties=i.length,s._name="Contents",s}}(),TextExpressionInterface=function(t){var e;function n(t){return"ADBE Text Document"===t?n.sourceText:null}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return e&&n===e.value||((e=new String(n)).value=n||new String(n),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",n=t.getFootageData();function r(t){if(n[t])return e=t,"object"===_typeof(n=n[t])?r:n;var i=t.indexOf(e);if(-1!==i){var s=parseInt(t.substr(i+e.length),10);return"object"===_typeof(n=n[s])?r:n}return""}return function(){return e="",n=t.getFootageData(),r}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),r=0;if(e.length){var i;for(i=0;i<e.length;i+=1)r+=Math.pow(n[i]-e[i],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,n,r=-.001,i=this.getValueAtTime(t),s=this.getValueAtTime(t+r);if(i.length)for(e=createTypedArray("float32",i.length),n=0;n<i.length;n+=1)e[n]=(s[n]-i[n])/r;else e=(s-i)/r;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(t,e,n){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r,i,s,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(n?i=h-(r=e?Math.abs(h-this.elem.comp.globalData.frameRate*e):Math.max(0,h-this.elem.data.ip)):((!e||e>c.length-1)&&(e=c.length-1),r=h-(i=c[c.length-1-e].t)),"pingpong"===t){if(Math.floor((l-i)/r)%2!=0)return this.getValueAtTime((r-(l-i)%r+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),u=this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0),f=Math.floor((l-i)/r);if(this.pv.length){for(a=(o=new Array(p.length)).length,s=0;s<a;s+=1)o[s]=(d[s]-p[s])*f+u[s];return o}return(d-p)*f+u}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,s=0;s<a;s+=1)o[s]=m[s]+(m[s]-g[s])*((l-h)/this.comp.globalData.frameRate)/5e-4;return o}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0)}function e(t,e,n){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r,i,s,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(n?i=h+(r=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-h)):((!e||e>c.length-1)&&(e=c.length-1),r=(i=c[e].t)-h),"pingpong"===t){if(Math.floor((h-l)/r)%2==0)return this.getValueAtTime(((h-l)%r+h)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(h/this.comp.globalData.frameRate,0),d=this.getValueAtTime(i/this.comp.globalData.frameRate,0),u=this.getValueAtTime((r-(h-l)%r+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/r)+1;if(this.pv.length){for(a=(o=new Array(p.length)).length,s=0;s<a;s+=1)o[s]=u[s]-(d[s]-p[s])*f;return o}return u-(d-p)*f}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,s=0;s<a;s+=1)o[s]=m[s]+(m[s]-g[s])*(h-l)/.001;return o}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((r-((h-l)%r+h))/this.comp.globalData.frameRate,0)}function n(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var n,r,i=this.comp.renderedFrame/this.comp.globalData.frameRate,s=i-t,a=e>1?(i+t-s)/(e-1):1,o=0,l=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;o<e;){if(r=this.getValueAtTime(s+o*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]+=r[l];else n+=r;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]/=e;else n/=e;return n}function r(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(t);e.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(t);e.scale(r[0]*this.s.mult,r[1]*this.s.mult,r[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var i=this.sk.getValueAtTime(t),s=this.sa.getValueAtTime(t);e.skewFromAxis(-i*this.sk.mult,s*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(t);e.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),h=this.or.getValueAtTime(t);e.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var p=this.px.getValueAtTime(t),d=this.py.getValueAtTime(t);if(this.data.p.z){var u=this.pz.getValueAtTime(t);e.translate(p*this.px.mult,d*this.py.mult,-u*this.pz.mult)}else e.translate(p*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}function i(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,n){var a=s(t,e,n);return a.dynamicProperties.length?a.getValueAtTime=r.bind(a):a.getValueAtTime=i.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(r,i,s,o,l){var c=a(r,i,s,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===i.a?i.k.length:0,c.propertyIndex=i.ix;var h=0;return 0!==s&&(h=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(r,i,c),c.k&&l.addDynamicProperty(c),c};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var n,r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var i=r._length,s=r[t],a=r.v,o=createSizedArray(i);for(n=0;n<i;n+=1)o[n]="i"===t||"o"===t?[s[n][0]-a[n][0],s[n][1]-a[n][1]]:[s[n][0],s[n][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var r,i=this._segmentsLength,s=i.lengths,a=i.totalLength*t,o=0,l=s.length,c=0;o<l;){if(c+s[o].addedLength>a){var h=o,p=n.c&&o===l-1?0:o+1,d=(a-c)/s[o].addedLength;r=bez.getPointInSegment(n.v[h],n.v[p],n.o[h],n.i[p],d,s[o]);break}c+=s[o].addedLength,o+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(t,e,n){1==t?t=this.v.c:0==t&&(t=.999);var r=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),s=i[0]-r[0],a=i[1]-r[1],o=Math.sqrt(Math.pow(s,2)+Math.pow(a,2));return 0===o?[0,0]:"tangent"===n?[s/o,a/o]:[-a/o,s/o]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,n,r,i){var s=h(t,e,n,r,i);return s.propertyIndex=e.ix,s.lock=!1,3===n?expressionHelpers.searchExpressions(t,e.pt,s):4===n&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var r={};return this.copyData(r,t),r.t=n.toString(),r.__complete=!1,r}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var n,r,i=createNS("feMerge");for(i.setAttribute("result",t),r=0;r<e.length;r+=1)(n=createNS("feMergeNode")).setAttribute("in",e[r]),i.appendChild(n),i.appendChild(n);return i}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,r,i){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",r+"_tint_1"),t.appendChild(s),(s=createNS("feColorMatrix")).setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",r+"_tint_2"),t.appendChild(s),this.matrixFilter=s;var a=this.createMergeNode(r,[i,r+"_tint_1",r+"_tint_2"]);t.appendChild(a)}function SVGFillFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",r),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}function SVGTritoneFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(i);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",r),this.matrixFilter=s;var a=createNS("feFuncR");a.setAttribute("type","table"),s.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),s.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),s.appendChild(l),this.feFuncB=l,t.appendChild(s)}function SVGProLevelsFilter(t,e,n,r){this.filterManager=e;var i=this.filterManager.effectElements,s=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s)),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&((s=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",r),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(t,e,n,r,i){var s=e.container.globalData.renderConfig.filterSize,a=e.data.fs||s;t.setAttribute("x",a.x||s.x),t.setAttribute("y",a.y||s.y),t.setAttribute("width",a.width||s.width),t.setAttribute("height",a.height||s.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",r+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",r+"_drop_shadow_3"),h.setAttribute("in2",r+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",r+"_drop_shadow_4"),t.appendChild(h);var p=this.createMergeNode(r,[r+"_drop_shadow_4",i]);t.appendChild(p)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=1+(n=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<r;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),a=createElementID();s.setAttribute("id",a),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");i[0];)o.appendChild(i[0]);this.elem.layerElement.appendChild(o),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var n,r,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(n=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=r.getTotalLength();s="0 0 0 "+l*a+" ";var c,h=l*(o-a),p=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(h/p);for(c=0;c<d;c+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;r.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var u=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*u[0])+","+bmFloor(255*u[1])+","+bmFloor(255*u[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[0]+" "+n[0]+" "+e[0],s=r[1]+" "+n[1]+" "+e[1],a=r[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,r,i){for(var s,a,o=0,l=Math.min(t,e),c=Math.max(t,e),h=Array.call(null,{length:256}),p=0,d=i-r,u=e-t;o<=256;)a=(s=o/256)<=l?u<0?i:r:s>=c?u<0?r:i:r+d*Math.pow((s-t)/u,1/n),h[p]=a,p+=1,o+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),s=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(t,e,n,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("result",r),t.appendChild(i),this.feGaussianBlur=i}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var r,i=n.children,s=0,a=i.length;s<a&&i[s]!==t.layerElement;)s+=1;s<=a-2&&(r=i[s+1]);var o=createNS("use");o.setAttribute("href","#"+e),r?n.insertBefore(o,r):n.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(r);var s=createNS("symbol");s.setAttribute("id",n),this.replaceInParent(e,n),s.appendChild(e.layerElement),i.appendChild(s);var a=createNS("use");a.setAttribute("href","#"+n),r.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,r=e.length;n<r;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=3==n?0:e,i=2==n?0:e;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+i);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,r=e[1].p.v,i=1===e[2].p.v,s=e[3].p.v,a=i?s:e[4].p.v,o=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*a,.01*s,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())}));const waitForElm=(t,e)=>new Promise((n=>{if(t.querySelector(e))return n(t.querySelector(e));const r=new MutationObserver((()=>{t.querySelector(e)&&(n(t.querySelector(e)),r.disconnect())}));r.observe(t.body,{childList:!0,subtree:!0})}));function create_else_block_1$1(t){let e,n=t[2]("evahelper.chat_header.status.online")+"";return{c(){e=text(n)},l(t){e=claim_text(t,n)},m(t,n){insert_hydration(t,e,n)},p(t,r){4&r&&n!==(n=t[2]("evahelper.chat_header.status.online")+"")&&set_data(e,n)},d(t){t&&detach(e)}}}function create_if_block_1$6(t){let e,n,r,i,s,a,o,l,c=t[2]("evahelper.message.typing")+"";return{c(){e=text(c),n=space(),r=element("div"),i=element("div"),s=space(),a=element("div"),o=space(),l=element("div"),this.h()},l(t){e=claim_text(t,c),n=claim_space(t),r=claim_element(t,"DIV",{class:!0});var h=children(r);i=claim_element(h,"DIV",{class:!0,style:!0}),children(i).forEach(detach),s=claim_space(h),a=claim_element(h,"DIV",{class:!0}),children(a).forEach(detach),o=claim_space(h),l=claim_element(h,"DIV",{class:!0}),children(l).forEach(detach),h.forEach(detach),this.h()},h(){attr(i,"class","dot svelte-fz461z"),set_style(i,"--color",t[4]),attr(a,"class","dot svelte-fz461z"),attr(l,"class","dot svelte-fz461z"),attr(r,"class","typing-dots svelte-fz461z")},m(t,c){insert_hydration(t,e,c),insert_hydration(t,n,c),insert_hydration(t,r,c),append_hydration(r,i),append_hydration(r,s),append_hydration(r,a),append_hydration(r,o),append_hydration(r,l)},p(t,n){4&n&&c!==(c=t[2]("evahelper.message.typing")+"")&&set_data(e,c),16&n&&set_style(i,"--color",t[4])},d(t){t&&detach(e),t&&detach(n),t&&detach(r)}}}function create_else_block$7(t){let e,n;return{c(){e=svg_element("svg"),n=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0});var r=children(e);n=claim_svg_element(r,"path",{class:!0,d:!0}),children(n).forEach(detach),r.forEach(detach),this.h()},h(){attr(n,"class","icon-path svelte-fz461z"),attr(n,"d","M16.85.17a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0v-8h-8a1 1 0 0 1 0-2h9Zm-.72.3.02-.01 1.41 1.41-.01.02L16.13.47ZM1.16 17.85a1 1 0 0 1-1-1v-9a1 1 0 0 1 2 0v8h8a1 1 0 1 1 0 2h-9Zm.72-.3h-.01l-1.42-1.4.02-.02 1.41 1.42Z"),attr(e,"class","btn-icon svelte-fz461z"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"viewBox","0 0 18 18"),attr(e,"fill","none")},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},d(t){t&&detach(e)}}}function create_if_block$e(t){let e,n;return{c(){e=svg_element("svg"),n=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var r=children(e);n=claim_svg_element(r,"path",{class:!0,d:!0}),children(n).forEach(detach),r.forEach(detach),this.h()},h(){attr(n,"class","icon-path svelte-fz461z"),attr(n,"d","M50.09 64.9a5 5 0 0 1 5 5v45a5 5 0 0 1-10 .01v-40h-40a5 5 0 1 1 0-10h45Zm-3.63 1.56.1-.09 7.07 7.07-.1.1-7.07-7.08Zm23.45-11.37a5 5 0 0 1-5-5v-45a5 5 0 1 1 10 0v40h40a5 5 0 0 1 0 10h-45Zm3.63-1.55-.1.09-7.07-7.08.1-.09 7.07 7.08Z"),attr(e,"class","btn-icon isFullScreenIcon svelte-fz461z"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"fill","none"),attr(e,"viewBox","0 0 120 120")},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},d(t){t&&detach(e)}}}function create_fragment$u(t){let e,n,r,i,s,a,o,l,c,h,p,d,u,f,m,g,y,_,v,b,x,E,w,k=t[2]("evahelper.eva.role")+"";function S(t,e){return t[1]?create_if_block_1$6:create_else_block_1$1}let C=S(t),T=C(t);function M(t,e){return t[0]?create_if_block$e:create_else_block$7}let P=M(t),A=P(t);return{c(){e=element("header"),n=element("div"),r=element("div"),i=space(),s=element("div"),a=element("div"),o=element("span"),l=text(t[6]),c=space(),h=element("span"),p=text(k),d=space(),u=element("div"),T.c(),f=space(),m=element("div"),g=element("button"),A.c(),y=space(),_=element("button"),v=svg_element("svg"),b=svg_element("path"),x=svg_element("path"),this.h()},l(E){e=claim_element(E,"HEADER",{class:!0});var w=children(e);n=claim_element(w,"DIV",{class:!0,style:!0});var S=children(n);r=claim_element(S,"DIV",{class:!0}),children(r).forEach(detach),i=claim_space(S),s=claim_element(S,"DIV",{class:!0});var C=children(s);a=claim_element(C,"DIV",{class:!0});var M=children(a);o=claim_element(M,"SPAN",{});var P=children(o);l=claim_text(P,t[6]),P.forEach(detach),c=claim_space(M),h=claim_element(M,"SPAN",{class:!0});var $=children(h);p=claim_text($,k),$.forEach(detach),M.forEach(detach),d=claim_space(C),u=claim_element(C,"DIV",{class:!0,style:!0});var D=children(u);T.l(D),D.forEach(detach),C.forEach(detach),S.forEach(detach),f=claim_space(w),m=claim_element(w,"DIV",{class:!0});var I=children(m);g=claim_element(I,"BUTTON",{class:!0,type:!0,style:!0});var F=children(g);A.l(F),F.forEach(detach),y=claim_space(I),_=claim_element(I,"BUTTON",{style:!0,class:!0,type:!0});var R=children(_);v=claim_svg_element(R,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var L=children(v);b=claim_svg_element(L,"path",{class:!0,d:!0}),children(b).forEach(detach),x=claim_svg_element(L,"path",{class:!0,d:!0}),children(x).forEach(detach),L.forEach(detach),R.forEach(detach),I.forEach(detach),w.forEach(detach),this.h()},h(){attr(r,"class","logo svelte-fz461z"),toggle_class(r,"logo-mirrored",t[5]),attr(h,"class","eva-profession svelte-fz461z"),attr(a,"class","eva-inner svelte-fz461z"),attr(u,"class","status svelte-fz461z"),set_style(u,"--color",t[4]),toggle_class(u,"isTyping",t[1]),attr(s,"class","eva svelte-fz461z"),attr(n,"class","logo-wrapper svelte-fz461z"),set_style(n,"--color",t[4]),attr(g,"class","btn fullscreen-btn svelte-fz461z"),attr(g,"type","button"),set_style(g,"--color",t[4]),attr(b,"class","icon-path svelte-fz461z"),attr(b,"d","M7.3 7.57a1 1 0 0 1 1.42 0l6.36 6.37a1 1 0 0 1-1.41 1.41L8 9.7l-5.66 5.65a1 1 0 0 1-1.41-1.41L7.3 7.57Zm-.3.76v-.05h2v.05H7Z"),attr(x,"class","icon-path svelte-fz461z"),attr(x,"d","M8.71 9.05a1 1 0 0 1-1.4 0L.93 2.69a1 1 0 1 1 1.41-1.42L8 6.93l5.65-5.66a1 1 0 1 1 1.42 1.42L8.7 9.05Zm.3-.75v.04H7V8.3h2Z"),attr(v,"class","btn-icon svelte-fz461z"),attr(v,"fill","none"),attr(v,"viewBox","0 0 16 16"),attr(v,"xmlns","http://www.w3.org/2000/svg"),set_style(_,"--color",t[4]),attr(_,"class","btn svelte-fz461z"),attr(_,"type","button"),attr(m,"class","controls svelte-fz461z"),attr(e,"class","chat-header svelte-fz461z")},m(k,S){insert_hydration(k,e,S),append_hydration(e,n),append_hydration(n,r),t[13](r),append_hydration(n,i),append_hydration(n,s),append_hydration(s,a),append_hydration(a,o),append_hydration(o,l),append_hydration(a,c),append_hydration(a,h),append_hydration(h,p),append_hydration(s,d),append_hydration(s,u),T.m(u,null),append_hydration(e,f),append_hydration(e,m),append_hydration(m,g),A.m(g,null),append_hydration(m,y),append_hydration(m,_),append_hydration(_,v),append_hydration(v,b),append_hydration(v,x),E||(w=[listen(r,"mouseenter",t[9]),listen(r,"mouseleave",t[10]),listen(g,"click",t[8]),listen(_,"click",t[7])],E=!0)},p(t,[e]){32&e&&toggle_class(r,"logo-mirrored",t[5]),64&e&&set_data(l,t[6]),4&e&&k!==(k=t[2]("evahelper.eva.role")+"")&&set_data(p,k),C===(C=S(t))&&T?T.p(t,e):(T.d(1),T=C(t),T&&(T.c(),T.m(u,null))),16&e&&set_style(u,"--color",t[4]),2&e&&toggle_class(u,"isTyping",t[1]),16&e&&set_style(n,"--color",t[4]),P!==(P=M(t))&&(A.d(1),A=P(t),A&&(A.c(),A.m(g,null))),16&e&&set_style(g,"--color",t[4]),16&e&&set_style(_,"--color",t[4])},i:noop,o:noop,d(n){n&&detach(e),t[13](null),T.d(),A.d(),E=!1,run_all(w)}}}function instance$t(e,n,r){let i,s,a,o,l,c;component_subscribe(e,widgetSettingsStore,(t=>r(12,l=t))),component_subscribe(e,t,(t=>r(2,c=t)));let{isFullScreen:h=!1}=n,{isTyping:p=!1}=n,d=null,u=null;onMount((()=>{d=lottie.loadAnimation({path:"https://evahelper.ru/build/eva-logo-lottie.json",rendererSettings:{className:"logo-icon"},renderer:"svg",autoplay:!1,container:u})}));afterUpdate((()=>{(async()=>{const t=await waitForElm(document,".logo-icon");t.querySelectorAll("svg g path").forEach((t=>{const e=window.getComputedStyle(t),n=t.style.fill||e.fill||t.getAttribute("fill")||"",r=t.style.stroke||e.stroke||t.getAttribute("stroke")||"",i="rgb(255, 255, 255)"===n||"rgb(255,255,255)"===n||"#ffffff"===n||"#fff"===n||"white"===n||!n||"none"===n,a="rgb(255, 255, 255)"===r||"rgb(255,255,255)"===r||"#ffffff"===r||"#fff"===r||"white"===r||!r||"none"===r;t.style.stroke=a?"rgb(255,255,255)":s,t.style.fill=i?"rgb(255,255,255)":s})),t.style.fill=s})()}));const f=createEventDispatcher();return e.$$set=t=>{"isFullScreen"in t&&r(0,h=t.isFullScreen),"isTyping"in t&&r(1,p=t.isTyping)},e.$$.update=()=>{4100&e.$$.dirty&&r(6,i="Eva"===l.settings.botName?c("evahelper.eva.name"):l.settings.botName),4096&e.$$.dirty&&r(4,s=l.settings.color),4096&e.$$.dirty&&r(11,a=l.settings),2048&e.$$.dirty&&r(5,o="BOTTOM_LEFT"===a?.position?.align)},[h,p,c,u,s,o,i,()=>f("click:close"),()=>f("click:fullscreen"),()=>{d&&d.play()},()=>{d&&d.stop()},a,l,function(t){binding_callbacks[t?"unshift":"push"]((()=>{u=t,r(3,u)}))}]}class ChatHeader extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$t,create_fragment$u,not_equal,{isFullScreen:0,isTyping:1})}}const useIntersectionObserver=()=>{let t;return{scrollToBottom:()=>{const{root:e}=t;e.scroll({top:e.scrollHeight,behavior:"smooth"})},createObserver:({root:e,callback:n,customOptions:r={}})=>{const i={root:e,rootMargin:"0px",threshold:1,...r};t=new IntersectionObserver(n,i)},disconnect:()=>{t.disconnect(),t=null},observe:e=>{t.observe(e)}}};function create_fragment$t(t){let e,n,r,i,s,a,o,l;const c=t[3].default,h=create_slot(c,t,t[2],null);return{c(){e=element("div"),n=space(),r=element("div"),h&&h.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children(e).forEach(detach),n=claim_space(t),r=claim_element(t,"DIV",{"aria-modal":!0,class:!0,role:!0});var i=children(r);h&&h.l(i),i.forEach(detach),this.h()},h(){attr(e,"class","modal-background svelte-x5ioet"),attr(r,"aria-modal","true"),attr(r,"class","modal svelte-x5ioet"),attr(r,"role","dialog")},m(i,s){insert_hydration(i,e,s),insert_hydration(i,n,s),insert_hydration(i,r,s),h&&h.m(r,null),a=!0,o||(l=listen(e,"click",t[1]),o=!0)},p(t,[e]){h&&h.p&&(!a||4&e)&&update_slot_base(h,c,t,t[2],a?get_slot_changes(c,t[2],e,null):get_all_dirty_from_scope(t[2]),null)},i(e){a||(transition_in(h,e),add_render_callback((()=>{a&&(s&&s.end(1),i=create_in_transition(r,t[0],{delay:150,duration:500,x:"-100%"}),i.start())})),a=!0)},o(e){transition_out(h,e),i&&i.invalidate(),s=create_out_transition(r,t[0],{delay:150,duration:500,x:"100%"}),a=!1},d(t){t&&detach(e),t&&detach(n),t&&detach(r),h&&h.d(t),t&&s&&s.end(),o=!1,l()}}}function instance$s(t,e,n){let{$$slots:r={},$$scope:i}=e;const s=createEventDispatcher();return t.$$set=t=>{"$$scope"in t&&n(2,i=t.$$scope)},[(t,{delay:e=0,duration:n=400,easing:r=cubicOut,x:i=0,y:s=0,opacity:a=0}={})=>{const o=getComputedStyle(t),l=+o.opacity,c="none"===o.transform?"":o.transform,h=l*(1-a),[p,d]=split_css_unit(i),[u,f]=split_css_unit(s);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*p}${d}, ${(1-t)*u}${f}) scale(${t});\n\t\t\topacity: ${l-h*e}`}},function(){s("close")},i,r]}class Modal extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$s,create_fragment$t,not_equal,{})}}function create_fragment$s(t){let e,n,r,i,s,a,o,l;return{c(){e=element("div"),n=element("div"),r=space(),i=element("div"),s=space(),a=element("div"),o=space(),l=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var c=children(e);n=claim_element(c,"DIV",{class:!0}),children(n).forEach(detach),r=claim_space(c),i=claim_element(c,"DIV",{class:!0}),children(i).forEach(detach),s=claim_space(c),a=claim_element(c,"DIV",{class:!0}),children(a).forEach(detach),o=claim_space(c),l=claim_element(c,"DIV",{class:!0}),children(l).forEach(detach),c.forEach(detach),this.h()},h(){attr(n,"class","evahelper-ai-loader__one evahelper-ai-loader__circle svelte-wbz13v"),attr(i,"class","evahelper-ai-loader__two evahelper-ai-loader__circle svelte-wbz13v"),attr(a,"class","evahelper-ai-loader__three evahelper-ai-loader__circle svelte-wbz13v"),attr(l,"class","evahelper-ai-loader__four evahelper-ai-loader__circle svelte-wbz13v"),attr(e,"class","evahelper-ai-loader svelte-wbz13v"),set_style(e,"--color",t[0])},m(t,c){insert_hydration(t,e,c),append_hydration(e,n),append_hydration(e,r),append_hydration(e,i),append_hydration(e,s),append_hydration(e,a),append_hydration(e,o),append_hydration(e,l)},p(t,[n]){1&n&&set_style(e,"--color",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$r(t,e,n){let r,i;return component_subscribe(t,widgetSettingsStore,(t=>n(1,i=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,r=i.settings.color)},[r,i]}class Loader extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$r,create_fragment$s,not_equal,{})}}var token=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,timezoneClip=/[^-+\dA-Z]/g;function dateFormat(t,e,n,r){if(1!==arguments.length||"string"!=typeof t||/\d/.test(t)||(e=t,t=void 0),(t=t||0===t?t:new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var i=(e=String(masks[e]||e||masks.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(e=e.slice(4),n=!0,"GMT:"===i&&(r=!0));var s=function(){return n?"getUTC":"get"},a=function(){return t[s()+"Date"]()},o=function(){return t[s()+"Day"]()},l=function(){return t[s()+"Month"]()},c=function(){return t[s()+"FullYear"]()},h=function(){return t[s()+"Hours"]()},p=function(){return t[s()+"Minutes"]()},d=function(){return t[s()+"Seconds"]()},u=function(){return t[s()+"Milliseconds"]()},f=function(){return n?0:t.getTimezoneOffset()},m=function(){return getWeek(t)},g=function(){return getDayOfWeek(t)},y={d:function(){return a()},dd:function(){return pad(a())},ddd:function(){return i18n.dayNames[o()]},DDD:function(){return getDayName({y:c(),m:l(),d:a(),_:s(),dayName:i18n.dayNames[o()],short:!0})},dddd:function(){return i18n.dayNames[o()+7]},DDDD:function(){return getDayName({y:c(),m:l(),d:a(),_:s(),dayName:i18n.dayNames[o()+7]})},m:function(){return l()+1},mm:function(){return pad(l()+1)},mmm:function(){return i18n.monthNames[l()]},mmmm:function(){return i18n.monthNames[l()+12]},yy:function(){return String(c()).slice(2)},yyyy:function(){return pad(c(),4)},h:function(){return h()%12||12},hh:function(){return pad(h()%12||12)},H:function(){return h()},HH:function(){return pad(h())},M:function(){return p()},MM:function(){return pad(p())},s:function(){return d()},ss:function(){return pad(d())},l:function(){return pad(u(),3)},L:function(){return pad(Math.floor(u()/10))},t:function(){return h()<12?i18n.timeNames[0]:i18n.timeNames[1]},tt:function(){return h()<12?i18n.timeNames[2]:i18n.timeNames[3]},T:function(){return h()<12?i18n.timeNames[4]:i18n.timeNames[5]},TT:function(){return h()<12?i18n.timeNames[6]:i18n.timeNames[7]},Z:function(){return r?"GMT":n?"UTC":formatTimezone(t)},o:function(){return(f()>0?"-":"+")+pad(100*Math.floor(Math.abs(f())/60)+Math.abs(f())%60,4)},p:function(){return(f()>0?"-":"+")+pad(Math.floor(Math.abs(f())/60),2)+":"+pad(Math.floor(Math.abs(f())%60),2)},S:function(){return["th","st","nd","rd"][a()%10>3?0:(a()%100-a()%10!=10)*a()%10]},W:function(){return m()},WW:function(){return pad(m())},N:function(){return g()}};return e.replace(token,(function(t){return t in y?y[t]():t.slice(1,t.length-1)}))}var masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},pad=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(t).padStart(e,"0")},getDayName=function(t){var e=t.y,n=t.m,r=t.d,i=t._,s=t.dayName,a=t.short,o=void 0!==a&&a,l=new Date,c=new Date;c.setDate(c[i+"Date"]()-1);var h=new Date;h.setDate(h[i+"Date"]()+1);return l[i+"FullYear"]()===e&&l[i+"Month"]()===n&&l[i+"Date"]()===r?o?"Tdy":"Today":c[i+"FullYear"]()===e&&c[i+"Month"]()===n&&c[i+"Date"]()===r?o?"Ysd":"Yesterday":h[i+"FullYear"]()===e&&h[i+"Month"]()===n&&h[i+"Date"]()===r?o?"Tmw":"Tomorrow":s},getWeek=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var i=(e-n)/6048e5;return 1+Math.floor(i)},getDayOfWeek=function(t){var e=t.getDay();return 0===e&&(e=7),e},formatTimezone=function(t){return(String(t).match(timezone)||[""]).pop().replace(timezoneClip,"").replace(/GMT\+0000/g,"UTC")};const MODES$1=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),TAGS=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],MEDIA_FEATURES=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],PSEUDO_CLASSES=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],PSEUDO_ELEMENTS=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],ATTRIBUTES=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function css$2(t){const e=t.regex,n=MODES$1(t),r=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+PSEUDO_CLASSES.join("|")+")"},{begin:":(:)?("+PSEUDO_ELEMENTS.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ATTRIBUTES.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...r,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...r,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:MEDIA_FEATURES.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...r,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+TAGS.join("|")+")\\b"}]}}const css={name:"css",register:css$2};var css$1=css;function cpp$2(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},o={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(o,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",d={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},u={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},f=[u,c,a,n,t.C_BLOCK_COMMENT_MODE,l,o],m={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:d,contains:f.concat([{begin:/\(/,end:/\)/,keywords:d,contains:f.concat(["self"]),relevance:0}]),relevance:0},g={className:"function",begin:"("+s+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:d,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:d,relevance:0},{begin:p,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[o,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,o,l,a,{begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,o,l,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:d,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(m,g,u,f,[c,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:d,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:d},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}const cpp={name:"cpp",register:cpp$2};var cpp$1=cpp;function csharp$2(t){const e={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},s=t.inherit(i,{illegal:/\n/}),a={className:"subst",begin:/\{/,end:/\}/,keywords:e},o=t.inherit(a,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,o]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]},h=t.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},o]});a.contains=[c,l,i,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,r,t.C_BLOCK_COMMENT_MODE],o.contains=[h,l,s,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,r,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const p={variants:[c,l,i,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},d={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},u=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",f={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:e,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},p,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,d,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,d,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+u+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:e,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,d],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:e,relevance:0,contains:[p,r,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},f]}}const csharp={name:"csharp",register:csharp$2};var csharp$1=csharp;function vbscriptHtml$2(t){return{name:"VBScript in HTML",subLanguage:"xml",contains:[{begin:"<%",end:"%>",subLanguage:"vbscript"}]}}const vbscriptHtml={name:"vbscript-html",register:vbscriptHtml$2};var vbscriptHtml$1=vbscriptHtml;const IDENT_RE$1="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],LITERALS=["true","false","null","undefined","NaN","Infinity"],TYPES=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ERROR_TYPES=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],BUILT_INS=[].concat(BUILT_IN_GLOBALS,TYPES,ERROR_TYPES);function javascript$2(t){const e=t.regex,n=IDENT_RE$1,r="<>",i="</>",s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let i;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());const s=t.input.substring(n);((i=s.match(/^\s*=/))||(i=s.match(/^\s+extends\s+/))&&0===i.index)&&e.ignoreMatch()}},a={$pattern:IDENT_RE$1,keyword:KEYWORDS,literal:LITERALS,built_in:BUILT_INS,"variable.language":BUILT_IN_VARIABLES},o="[0-9](_?[0-9])*",l=`\\.(${o})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${o})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},p={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},d={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"xml"}},u={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"css"}},f={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,p]},g={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},y=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,u,f,m,{match:/\$\d+/},h];p.contains=y.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(y)});const _=[].concat(g,p.contains),v=_.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(_)}]),b={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:v},x={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},E={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...TYPES,...ERROR_TYPES]}},w={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[b],illegal:/%/};const k={match:e.concat(/\b/,function(t){return e.concat("(?!",t.join("|"),")")}([...BUILT_IN_GLOBALS,"super","import"]),n,e.lookahead(/\(/)),className:"title.function",relevance:0},S={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},C={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},b]},T="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(T)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[b]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:v,CLASS_REFERENCE:E},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,u,f,m,g,{match:/\$\d+/},h,E,{className:"attr",begin:n+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,t.REGEXP_MODE,{className:"function",begin:T,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:v}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:i},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},w,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[b,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},S,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[b]},k,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},x,C,{match:/\$[(.]/}]}}const javascript={name:"javascript",register:javascript$2};var javascript$1=javascript,decimalDigits="[0-9](_*[0-9])*",frac=`\\.(${decimalDigits})`,hexDigits="[0-9a-fA-F](_*[0-9a-fA-F])*",NUMERIC={className:"number",variants:[{begin:`(\\b(${decimalDigits})((${frac})|\\.)?|(${frac}))[eE][+-]?(${decimalDigits})[fFdD]?\\b`},{begin:`\\b(${decimalDigits})((${frac})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${frac})[fFdD]?\\b`},{begin:`\\b(${decimalDigits})[fFdD]\\b`},{begin:`\\b0[xX]((${hexDigits})\\.?|(${hexDigits})?\\.(${hexDigits}))[pP][+-]?(${decimalDigits})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${hexDigits})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function recurRegex(t,e,n){return-1===n?"":t.replace(e,(r=>recurRegex(t,e,n-1)))}function java$2(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+recurRegex("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},s={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},a={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[s,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,NUMERIC,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},NUMERIC,s]}}const java={name:"java",register:java$2};var java$1=java;function python$2(t){const e=t.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},s={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},o={begin:/\{\{/,relevance:0},l={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,s,o,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,s,o,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,o,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,o,a]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",h=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,p=`\\b|${r.join("|")}`,d={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${h}))[eE][+-]?(${c})[jJ]?(?=${p})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${c})[jJ](?=${p})`}]},u={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},f={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",s,d,l,t.HASH_COMMENT_MODE]}]};return a.contains=[l,d,s],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[s,d,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},l,u,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[f]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[d,f,l]}]}}const python={name:"python",register:python$2};var python$1=python;const codeStyles="color:#f8f8f2 !important;background: #2B2B2B;opacity: 80%;hyphens: auto;-webkit-hyphens: none;-moz-hyphens: auto;-ms-hyphens: auto;padding:.1em;border-radius:.3em;white-space:normal;",codeLanguageMatcher={css:css$1,cpp:cpp$1,csharp:csharp$1,html:vbscriptHtml$1,jsx:javascript$1,javascript:javascript$1,java:java$1,python:python$1},useCodeFormatter=()=>{const t=t=>{let e=document.createElement("textarea");return e.innerText=t,e.innerHTML};function e(t,e,r){return r.indexOf("<br>")>-1||n(t)?t:r.length?`<code class="language-" style="${codeStyles}">${r}</code>`:t}const n=t=>/(https?:\/\/[^\s]+)/g.test(t),r=t=>{const[e,...n]=t?.split("\n");return n.length?{language:e,content:n.join("\n"),type:"code-block"}:{content:t,type:"code-word"}},i=(t,e)=>{const{accumulatedLines:n,inCodeBlock:r}=t;if(r){n[n.length-1]+="\n"+e}else n.push(e);return{accumulatedLines:n,inCodeBlock:e.startsWith("```")?!t.inCodeBlock:t.inCodeBlock}};return{encodeHTMLEntities:t,formatTextToCodeTokens:s=>{const{accumulatedLines:a}=s?.split("\n")?.reduce(i,{accumulatedLines:[],inCodeBlock:!1})||[];let o=[];return a?.reduce(((i,s)=>{const a=s.trim(),l=i[i.length-1];if(a.startsWith("```")&&0===o.length&&!a.endsWith("```"))return o.push(a),i;if(a.endsWith("```")&&o.length>0){o.push(a);const t=o.join("\n").replaceAll("```","");return i.push(r(t)),o=[],i}if(o.length>0&&!a.startsWith("```"))return o.push(a),i;if(a.startsWith("```")&&a.endsWith("```")){const t=s.slice(3,a.length-3);return i.push(r(t)),i}let c=t(0===s.length?s:s+"\n").replace(/(`)([^`]*)(`)/g,e);if(n(a))return i.push({content:c,type:"link-text"}),i;const h=c.replace("<br>","\n");return 0===h.trim().length&&l?(l.content+="\n",i):"plain-text"===l?.type?(l.content+=h,i):(i.push({content:h,type:"plain-text"}),i)}),[])},getHlCodeLanguage:t=>codeLanguageMatcher[t]||javascript$1}};function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(t){_defaults=t}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=t=>escapeReplacements[t];function escape$1(t,e){if(e){if(escapeTest.test(t))return t.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(t))return t.replace(escapeReplaceNoEncode,getEscapeReplacement);return t}const caret=/(^|[^\[])\^/g;function edit(t,e){let n="string"==typeof t?t:t.source;e=e||"";const r={replace:(t,e)=>{let i="string"==typeof e?e:e.source;return i=i.replace(caret,"$1"),n=n.replace(t,i),r},getRegex:()=>new RegExp(n,e)};return r}function cleanUrl(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const noopTest={exec:()=>null};function splitCells(t,e){const n=t.replace(/\|/g,((t,e,n)=>{let r=!1,i=e;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function rtrim(t,e,n){const r=t.length;if(0===r)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s!==e||n){if(s===e||!n)break;i++}else i++}return t.slice(0,r-i)}function findClosingBracket(t,e){if(-1===t.indexOf(e[1]))return-1;let n=0;for(let r=0;r<t.length;r++)if("\\"===t[r])r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function outputLink(t,e,n,r){const i=e.href,s=e.title?escape$1(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const t={type:"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,t}return{type:"image",raw:n,href:i,title:s,text:escape$1(a)}}function indentCodeCompensation(t,e){const n=t.match(/^(\s+)(?:```)/);if(null===n)return e;const r=n[1];return e.split("\n").map((t=>{const e=t.match(/^\s+/);if(null===e)return t;const[n]=e;return n.length>=r.length?t.slice(r.length):t})).join("\n")}class _Tokenizer{options;rules;lexer;constructor(t){this.options=t||_defaults}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:rtrim(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=indentCodeCompensation(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(/#$/.test(t)){const e=rtrim(t,"#");this.options.pedantic?t=e.trim():e&&!/ $/.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:rtrim(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=rtrim(e[0],"\n").split("\n"),n="",r="";const i=[];for(;t.length>0;){let e=!1;const s=[];let a;for(a=0;a<t.length;a++)if(/^ {0,3}>/.test(t[a]))s.push(t[a]),e=!0;else{if(e)break;s.push(t[a])}t=t.slice(a);const o=s.join("\n"),l=o.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}\n${o}`:o,r=r?`${r}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===t.length)break;const h=i[i.length-1];if("code"===h?.type)break;if("blockquote"===h?.type){const e=h,s=e.raw+"\n"+t.join("\n"),a=this.blockquote(s);i[i.length-1]=a,n=n.substring(0,n.length-e.raw.length)+a.raw,r=r.substring(0,r.length-e.text.length)+a.text;break}if("list"!==h?.type);else{const e=h,s=e.raw+"\n"+t.join("\n"),a=this.list(s);i[i.length-1]=a,n=n.substring(0,n.length-h.raw.length)+a.raw,r=r.substring(0,r.length-e.raw.length)+a.raw,t=s.substring(i[i.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;t;){let n=!1,r="",o="";if(!(e=s.exec(t)))break;if(this.rules.block.hr.test(t))break;r=e[0],t=t.substring(r.length);let l=e[2].split("\n",1)[0].replace(/^\t+/,(t=>" ".repeat(3*t.length))),c=t.split("\n",1)[0],h=!l.trim(),p=0;if(this.options.pedantic?(p=2,o=l.trimStart()):h?p=e[1].length+1:(p=e[2].search(/[^ ]/),p=p>4?1:p,o=l.slice(p),p+=e[1].length),h&&/^[ \t]*$/.test(c)&&(r+=c+"\n",t=t.substring(c.length+1),n=!0),!n){const e=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,p-1)}}#`),a=new RegExp(`^ {0,${Math.min(3,p-1)}}<[a-z].*>`,"i");for(;t;){const d=t.split("\n",1)[0];let u;if(c=d,this.options.pedantic?(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),u=c):u=c.replace(/\t/g,"    "),i.test(c))break;if(s.test(c))break;if(a.test(c))break;if(e.test(c))break;if(n.test(c))break;if(u.search(/[^ ]/)>=p||!c.trim())o+="\n"+u.slice(p);else{if(h)break;if(l.replace(/\t/g,"    ").search(/[^ ]/)>=4)break;if(i.test(l))break;if(s.test(l))break;if(n.test(l))break;o+="\n"+c}h||c.trim()||(h=!0),r+=d+"\n",t=t.substring(d.length+1),l=u.slice(p)}}i.loose||(a?i.loose=!0:/\n[ \t]*\n[ \t]*$/.test(r)&&(a=!0));let d,u=null;this.options.gfm&&(u=/^\[[ xX]\] /.exec(o),u&&(d="[ ] "!==u[0],o=o.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:r,task:!!u,checked:d,loose:!1,text:o,tokens:[]}),i.raw+=r}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let t=0;t<i.items.length;t++)if(this.lexer.state.top=!1,i.items[t].tokens=this.lexer.blockTokens(i.items[t].text,[]),!i.loose){const e=i.items[t].tokens.filter((t=>"space"===t.type)),n=e.length>0&&e.some((t=>/\n.*\n/.test(t.raw)));i.loose=n}if(i.loose)for(let t=0;t<i.items.length;t++)i.items[t].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e){return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(/\s+/g," "),n=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:r}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!/[:|]/.test(e[2]))return;const n=splitCells(e[1]),r=e[2].replace(/^\||\| *$/g,"").split("|"),i=e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const t of r)/^ *-+: *$/.test(t)?s.align.push("right"):/^ *:-+: *$/.test(t)?s.align.push("center"):/^ *:-+ *$/.test(t)?s.align.push("left"):s.align.push(null);for(let t=0;t<n.length;t++)s.header.push({text:n[t],tokens:this.lexer.inline(n[t]),header:!0,align:s.align[t]});for(const t of i)s.rows.push(splitCells(t,s.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:s.align[e]}))));return s}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:escape$1(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const e=rtrim(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=findClosingBracket(e[2],"()");if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){const t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(t)?n.slice(1):n.slice(1,-1)),outputLink(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},e[0],this.lexer)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return outputLink(n,t,n[0],this.lexer)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...r[0]].length-1;let i,s,a=n,o=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=l.exec(e));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&n%3&&!((n+s)%3)){o+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+o);const e=[...r[0]][0].length,l=t.slice(0,n+r.index+e+s);if(Math.min(n,s)%2){const t=l.slice(1,-1);return{type:"em",raw:l,text:t,tokens:this.lexer.inlineTokens(t)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(/\n/g," ");const n=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return n&&r&&(t=t.substring(1,t.length-1)),t=escape$1(t,!0),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,n;return"@"===e[2]?(t=escape$1(e[1]),n="mailto:"+t):(t=escape$1(e[1]),n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,n;if("@"===e[2])t=escape$1(e[0]),n="mailto:"+t;else{let r;do{r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(r!==e[0]);t=escape$1(e[0]),n="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){let t;return t=this.lexer.state.inRawBlock?e[0]:escape$1(e[0]),{type:"text",raw:e[0],text:t}}}}const newline=/^(?:[ \t]*(?:\n|$))+/,blockCode=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheading=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bullet).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote:blockquote,code:blockCode,def:def,fences:fences,heading:heading,hr:hr,html:html,lheading:lheading,list:list,newline:newline,paragraph:paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape$2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation="\\p{P}\\p{S}",punctuation=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_punctuation).getRegex(),blockSkip=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelim=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAst=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\([punct])/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation:anyPunctuation,autolink:autolink,blockSkip:blockSkip,br:br,code:inlineCode,del:noopTest,emStrongLDelim:emStrongLDelim,emStrongRDelimAst:emStrongRDelimAst,emStrongRDelimUnd:emStrongRDelimUnd,escape:escape$2,link:link,nolink:nolink,punctuation:punctuation,reflink:reflink,reflinkSearch:reflinkSearch,tag:tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,escape:edit(escape$2).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic};class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:block.normal,inline:inline.normal};this.options.pedantic?(e.block=block.pedantic,e.inline=inline.pedantic):this.options.gfm&&(e.block=block.gfm,this.options.breaks?e.inline=inline.breaks:e.inline=inline.gfm),this.tokenizer.rules=e}static get rules(){return{block:block,inline:inline}}static lex(t,e){return new _Lexer(e).lex(t)}static lexInline(t,e){return new _Lexer(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){let r,i,s;for(this.options.pedantic&&(t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(r=n.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)))))if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);else if(r=this.tokenizer.code(t))t=t.substring(r.raw.length),i=e[e.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?e.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.list(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.def(t))t=t.substring(r.raw.length),i=e[e.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else{if(s=t,this.options.extensions&&this.options.extensions.startBlock){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startBlock.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(s=t.substring(0,e+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s)))i=e[e.length-1],n&&"paragraph"===i?.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(r),n=s.length!==t.length,t=t.substring(r.raw.length);else if(r=this.tokenizer.text(t))t=t.substring(r.raw.length),i=e[e.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(r);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n,r,i,s,a,o,l=t;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)t.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,s.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(a||(o=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0)))))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(n=this.tokenizer.emStrong(t,l,o))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.autolink(t))t=t.substring(n.raw.length),e.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(t))){if(i=t,this.options.extensions&&this.options.extensions.startInline){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startInline.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(i=t.substring(0,e+1))}if(n=this.tokenizer.inlineText(i))t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(o=n.raw.slice(-1)),a=!0,r=e[e.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}else t=t.substring(n.raw.length),e.push(n);return e}}class _Renderer{options;parser;constructor(t){this.options=t||_defaults}space(t){return""}code({text:t,lang:e,escaped:n}){const r=(e||"").match(/^\S*/)?.[0],i=t.replace(/\n$/,"")+"\n";return r?'<pre><code class="language-'+escape$1(r)+'">'+(n?i:escape$1(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:escape$1(i,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,n=t.start;let r="";for(let e=0;e<t.items.length;e++){const n=t.items[e];r+=this.listitem(n)}const i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(t){let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&"paragraph"===t.tokens[0].type?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=n+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",n="";for(let e=0;e<t.header.length;e++)n+=this.tablecell(t.header[e]);e+=this.tablerow({text:n});let r="";for(let e=0;e<t.rows.length;e++){const i=t.rows[e];n="";for(let t=0;t<i.length;t++)n+=this.tablecell(i[t]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+r+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const r=this.parser.parseInline(n),i=cleanUrl(t);if(null===i)return r;let s='<a href="'+(t=i)+'"';return e&&(s+=' title="'+e+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n}){const r=cleanUrl(t);if(null===r)return n;let i=`<img src="${t=r}" alt="${n}"`;return e&&(i+=` title="${e}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}}class _TextRenderer{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(t){this.options=t||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(t,e){return new _Parser(e).parse(t)}static parseInline(t,e){return new _Parser(e).parseInline(t)}parse(t,e=!0){let n="";for(let r=0;r<t.length;r++){const i=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const t=i,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){n+=e||"";continue}}const s=i;switch(s.type){case"space":n+=this.renderer.space(s);continue;case"hr":n+=this.renderer.hr(s);continue;case"heading":n+=this.renderer.heading(s);continue;case"code":n+=this.renderer.code(s);continue;case"table":n+=this.renderer.table(s);continue;case"blockquote":n+=this.renderer.blockquote(s);continue;case"list":n+=this.renderer.list(s);continue;case"html":n+=this.renderer.html(s);continue;case"paragraph":n+=this.renderer.paragraph(s);continue;case"text":{let i=s,a=this.renderer.text(i);for(;r+1<t.length&&"text"===t[r+1].type;)i=t[++r],a+="\n"+this.renderer.text(i);n+=e?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a}]}):a;continue}default:{const t='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}parseInline(t,e){e=e||this.renderer;let n="";for(let r=0;r<t.length;r++){const i=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const t=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=t||"";continue}}const s=i;switch(s.type){case"escape":case"text":n+=e.text(s);break;case"html":n+=e.html(s);break;case"link":n+=e.link(s);break;case"image":n+=e.image(s);break;case"strong":n+=e.strong(s);break;case"em":n+=e.em(s);break;case"codespan":n+=e.codespan(s);break;case"br":n+=e.br(s);break;case"del":n+=e.del(s);break;default:{const t='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}}class _Hooks{options;block;constructor(t){this.options=t||_defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?_Lexer.lex:_Lexer.lexInline}provideParser(){return this.block?_Parser.parse:_Parser.parseInline}}class Marked{defaults=_getDefaults();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{const t=r;for(const r of t.header)n=n.concat(this.walkTokens(r.tokens,e));for(const r of t.rows)for(const t of r)n=n.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=r;n=n.concat(this.walkTokens(t.items,e));break}default:{const t=r;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((r=>{const i=t[r].flat(1/0);n=n.concat(this.walkTokens(i,e))})):t.tokens&&(n=n.concat(this.walkTokens(t.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let r=t.renderer.apply(this,e);return!1===r&&(r=n.apply(this,e)),r}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=this.defaults.renderer||new _Renderer(this.defaults);for(const n in t.renderer){if(!(n in e))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,i=t.renderer[r],s=e[r];e[r]=(...t)=>{let n=i.apply(e,t);return!1===n&&(n=s.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const n in t.tokenizer){if(!(n in e))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,i=t.tokenizer[r],s=e[r];e[r]=(...t)=>{let n=i.apply(e,t);return!1===n&&(n=s.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new _Hooks;for(const n in t.hooks){if(!(n in e))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,i=t.hooks[r],s=e[r];_Hooks.passThroughHooks.has(n)?e[r]=t=>{if(this.defaults.async)return Promise.resolve(i.call(e,t)).then((t=>s.call(e,t)));const n=i.call(e,t);return s.call(e,n)}:e[r]=(...t)=>{let n=i.apply(e,t);return!1===n&&(n=s.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,r=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(r.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return _Lexer.lex(t,e??this.defaults)}parser(t,e){return _Parser.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{const r={...n},i={...this.defaults,...r},s=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=t);const a=i.hooks?i.hooks.provideLexer():t?_Lexer.lex:_Lexer.lexInline,o=i.hooks?i.hooks.provideParser():t?_Parser.parse:_Parser.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(e):e).then((t=>a(t,i))).then((t=>i.hooks?i.hooks.processAllTokens(t):t)).then((t=>i.walkTokens?Promise.all(this.walkTokens(t,i.walkTokens)).then((()=>t)):t)).then((t=>o(t,i))).then((t=>i.hooks?i.hooks.postprocess(t):t)).catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let t=a(e,i);i.hooks&&(t=i.hooks.processAllTokens(t)),i.walkTokens&&this.walkTokens(t,i.walkTokens);let n=o(t,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(t){return s(t)}}}onError(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+escape$1(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}}const markedInstance=new Marked;function marked(t,e){return markedInstance.parse(t,e)}function create_fragment$r(t){let e,n,r;return{c(){e=svg_element("svg"),n=svg_element("path"),r=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{fill:!0,height:!0,viewBox:!0,width:!0,xmlns:!0});var i=children(e);n=claim_svg_element(i,"path",{d:!0,fill:!0}),children(n).forEach(detach),r=claim_svg_element(i,"path",{d:!0}),children(r).forEach(detach),i.forEach(detach),this.h()},h(){attr(n,"d","M24 24H0V0h24v24z"),attr(n,"fill","none"),attr(r,"d","M22 4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h2V4zM2.17 11.12c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15z"),attr(e,"fill",t[0]),attr(e,"height","24px"),attr(e,"viewBox","0 0 24 24"),attr(e,"width","24px"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){insert_hydration(t,e,i),append_hydration(e,n),append_hydration(e,r)},p(t,[n]){1&n&&attr(e,"fill",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$q(t,e,n){let{fillColor:r="#000000"}=e;return t.$$set=t=>{"fillColor"in t&&n(0,r=t.fillColor)},[r]}marked.options=marked.setOptions=function(t){return markedInstance.setOptions(t),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked},marked.getDefaults=_getDefaults,marked.defaults=_defaults,marked.use=function(...t){return markedInstance.use(...t),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked},marked.walkTokens=function(t,e){return markedInstance.walkTokens(t,e)},marked.parseInline=markedInstance.parseInline,marked.Parser=_Parser,marked.parser=_Parser.parse,marked.Renderer=_Renderer,marked.TextRenderer=_TextRenderer,marked.Lexer=_Lexer,marked.lexer=_Lexer.lex,marked.Tokenizer=_Tokenizer,marked.Hooks=_Hooks,marked.parse=marked,marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,_Parser.parse,_Lexer.lex;class Thumb_down extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$q,create_fragment$r,not_equal,{fillColor:0})}}function create_fragment$q(t){let e,n,r;return{c(){e=svg_element("svg"),n=svg_element("path"),r=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{fill:!0,height:!0,viewBox:!0,width:!0,xmlns:!0});var i=children(e);n=claim_svg_element(i,"path",{d:!0,fill:!0}),children(n).forEach(detach),r=claim_svg_element(i,"path",{d:!0}),children(r).forEach(detach),i.forEach(detach),this.h()},h(){attr(n,"d","M24 24H0V0h24v24z"),attr(n,"fill","none"),attr(r,"d","M2 20h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1H2v11zm19.83-7.12c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.84C7 18.95 8.05 20 9.34 20h8.11c.7 0 1.36-.37 1.72-.97l2.66-6.15z"),attr(e,"fill",t[0]),attr(e,"height","24px"),attr(e,"viewBox","0 0 24 24"),attr(e,"width","24px"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){insert_hydration(t,e,i),append_hydration(e,n),append_hydration(e,r)},p(t,[n]){1&n&&attr(e,"fill",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$p(t,e,n){let{fillColor:r="#000000"}=e;return t.$$set=t=>{"fillColor"in t&&n(0,r=t.fillColor)},[r]}class Thumb_up extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$p,create_fragment$q,not_equal,{fillColor:0})}}function deepFreeze(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((e=>{const n=t[e],r=typeof n;"object"!==r&&"function"!==r||Object.isFrozen(n)||deepFreeze(n)})),t}class Response{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function escapeHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function inherit$1(t,...e){const n=Object.create(null);for(const e in t)n[e]=t[e];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const SPAN_CLOSE="</span>",emitsWrappingTags=t=>!!t.scope,scopeToCSSClass=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map(((t,e)=>`${t}${"_".repeat(e+1)}`))].join(" ")}return`${e}${t}`};class HTMLRenderer{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=escapeHTML(t)}openNode(t){if(!emitsWrappingTags(t))return;const e=scopeToCSSClass(t.scope,{prefix:this.classPrefix});this.span(e)}closeNode(t){emitsWrappingTags(t)&&(this.buffer+=SPAN_CLOSE)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const newNode=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class TokenTree{constructor(){this.rootNode=newNode(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e=newNode({scope:t});this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach((e=>this._walk(t,e))),t.closeNode(e)),t}static _collapse(t){"string"!=typeof t&&t.children&&(t.children.every((t=>"string"==typeof t))?t.children=[t.children.join("")]:t.children.forEach((t=>{TokenTree._collapse(t)})))}}class TokenTreeEmitter extends TokenTree{constructor(t){super(),this.options=t}addText(t){""!==t&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,e){const n=t.root;e&&(n.scope=`language:${e}`),this.add(n)}toHTML(){return new HTMLRenderer(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function source(t){return t?"string"==typeof t?t:t.source:null}function lookahead(t){return concat("(?=",t,")")}function anyNumberOfTimes(t){return concat("(?:",t,")*")}function optional(t){return concat("(?:",t,")?")}function concat(...t){return t.map((t=>source(t))).join("")}function stripOptionsFromArgs(t){const e=t[t.length-1];return"object"==typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function either(...t){return"("+(stripOptionsFromArgs(t).capture?"":"?:")+t.map((t=>source(t))).join("|")+")"}function countMatchGroups(t){return new RegExp(t.toString()+"|").exec("").length-1}function startsWith(t,e){const n=t&&t.exec(e);return n&&0===n.index}const BACKREF_RE=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _rewriteBackreferences(t,{joinWith:e}){let n=0;return t.map((t=>{n+=1;const e=n;let r=source(t),i="";for(;r.length>0;){const t=BACKREF_RE.exec(r);if(!t){i+=r;break}i+=r.substring(0,t.index),r=r.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?i+="\\"+String(Number(t[1])+e):(i+=t[0],"("===t[0]&&n++)}return i})).map((t=>`(${t})`)).join(e)}const MATCH_NOTHING_RE=/\b\B/,IDENT_RE="[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",NUMBER_RE="\\b\\d+(\\.\\d+)?",C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",BINARY_NUMBER_RE="\\b(0b[01]+)",RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=concat(e,/.*\b/,t.binary,/\b.*/)),inherit$1({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},APOS_STRING_MODE={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[BACKSLASH_ESCAPE]},QUOTE_STRING_MODE={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[BACKSLASH_ESCAPE]},PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT=function(t,e,n={}){const r=inherit$1({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=either("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:concat(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},C_LINE_COMMENT_MODE=COMMENT("//","$"),C_BLOCK_COMMENT_MODE=COMMENT("/\\*","\\*/"),HASH_COMMENT_MODE=COMMENT("#","$"),NUMBER_MODE={scope:"number",begin:NUMBER_RE,relevance:0},C_NUMBER_MODE={scope:"number",begin:C_NUMBER_RE,relevance:0},BINARY_NUMBER_MODE={scope:"number",begin:BINARY_NUMBER_RE,relevance:0},REGEXP_MODE={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[BACKSLASH_ESCAPE]}]},TITLE_MODE={scope:"title",begin:IDENT_RE,relevance:0},UNDERSCORE_TITLE_MODE={scope:"title",begin:UNDERSCORE_IDENT_RE,relevance:0},METHOD_GUARD={begin:"\\.\\s*"+UNDERSCORE_IDENT_RE,relevance:0},END_SAME_AS_BEGIN=function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})};var MODES=Object.freeze({__proto__:null,APOS_STRING_MODE:APOS_STRING_MODE,BACKSLASH_ESCAPE:BACKSLASH_ESCAPE,BINARY_NUMBER_MODE:BINARY_NUMBER_MODE,BINARY_NUMBER_RE:BINARY_NUMBER_RE,COMMENT:COMMENT,C_BLOCK_COMMENT_MODE:C_BLOCK_COMMENT_MODE,C_LINE_COMMENT_MODE:C_LINE_COMMENT_MODE,C_NUMBER_MODE:C_NUMBER_MODE,C_NUMBER_RE:C_NUMBER_RE,END_SAME_AS_BEGIN:END_SAME_AS_BEGIN,HASH_COMMENT_MODE:HASH_COMMENT_MODE,IDENT_RE:IDENT_RE,MATCH_NOTHING_RE:MATCH_NOTHING_RE,METHOD_GUARD:METHOD_GUARD,NUMBER_MODE:NUMBER_MODE,NUMBER_RE:NUMBER_RE,PHRASAL_WORDS_MODE:PHRASAL_WORDS_MODE,QUOTE_STRING_MODE:QUOTE_STRING_MODE,REGEXP_MODE:REGEXP_MODE,RE_STARTERS_RE:RE_STARTERS_RE,SHEBANG:SHEBANG,TITLE_MODE:TITLE_MODE,UNDERSCORE_IDENT_RE:UNDERSCORE_IDENT_RE,UNDERSCORE_TITLE_MODE:UNDERSCORE_TITLE_MODE});function skipIfHasPrecedingDot(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}function scopeClassName(t,e){void 0!==t.className&&(t.scope=t.className,delete t.className)}function beginKeywords(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=skipIfHasPrecedingDot,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function compileIllegal(t,e){Array.isArray(t.illegal)&&(t.illegal=either(...t.illegal))}function compileMatch(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function compileRelevance(t,e){void 0===t.relevance&&(t.relevance=1)}const beforeMatchExt=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach((e=>{delete t[e]})),t.keywords=n.keywords,t.begin=concat(n.beforeMatch,lookahead(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},COMMON_KEYWORDS=["of","and","for","in","not","or","if","then","parent","list","value"],DEFAULT_KEYWORD_SCOPE="keyword";function compileKeywords(t,e,n=DEFAULT_KEYWORD_SCOPE){const r=Object.create(null);return"string"==typeof t?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach((function(n){Object.assign(r,compileKeywords(t[n],e,n))})),r;function i(t,n){e&&(n=n.map((t=>t.toLowerCase()))),n.forEach((function(e){const n=e.split("|");r[n[0]]=[t,scoreForKeyword(n[0],n[1])]}))}}function scoreForKeyword(t,e){return e?Number(e):commonKeyword(t)?0:1}function commonKeyword(t){return COMMON_KEYWORDS.includes(t.toLowerCase())}const seenDeprecations={},error=t=>{console.error(t)},warn=(t,...e)=>{console.log(`WARN: ${t}`,...e)},deprecated=(t,e)=>{seenDeprecations[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),seenDeprecations[`${t}/${e}`]=!0)},MultiClassError=new Error;function remapScopeNames(t,e,{key:n}){let r=0;const i=t[n],s={},a={};for(let t=1;t<=e.length;t++)a[t+r]=i[t],s[t+r]=!0,r+=countMatchGroups(e[t-1]);t[n]=a,t[n]._emit=s,t[n]._multi=!0}function beginMultiClass(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw error("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),MultiClassError;if("object"!=typeof t.beginScope||null===t.beginScope)throw error("beginScope must be object"),MultiClassError;remapScopeNames(t,t.begin,{key:"beginScope"}),t.begin=_rewriteBackreferences(t.begin,{joinWith:""})}}function endMultiClass(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw error("skip, excludeEnd, returnEnd not compatible with endScope: {}"),MultiClassError;if("object"!=typeof t.endScope||null===t.endScope)throw error("endScope must be object"),MultiClassError;remapScopeNames(t,t.end,{key:"endScope"}),t.end=_rewriteBackreferences(t.end,{joinWith:""})}}function scopeSugar(t){t.scope&&"object"==typeof t.scope&&null!==t.scope&&(t.beginScope=t.scope,delete t.scope)}function MultiClass(t){scopeSugar(t),"string"==typeof t.beginScope&&(t.beginScope={_wrap:t.beginScope}),"string"==typeof t.endScope&&(t.endScope={_wrap:t.endScope}),beginMultiClass(t),endMultiClass(t)}function compileLanguage(t){function e(e,n){return new RegExp(source(e),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=countMatchGroups(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map((t=>t[1]));this.matcherRe=e(_rewriteBackreferences(t,{joinWith:"|"}),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex(((t,e)=>e>0&&void 0!==t)),r=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new n;return this.rules.slice(t).forEach((([t,n])=>e.addRule(t,n))),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=inherit$1(t.classNameAliases||{}),function n(i,s){const a=i;if(i.isCompiled)return a;[scopeClassName,compileMatch,MultiClass,beforeMatchExt].forEach((t=>t(i,s))),t.compilerExtensions.forEach((t=>t(i,s))),i.__beforeBegin=null,[beginKeywords,compileIllegal,compileRelevance].forEach((t=>t(i,s))),i.isCompiled=!0;let o=null;return"object"==typeof i.keywords&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),o=i.keywords.$pattern,delete i.keywords.$pattern),o=o||/\w+/,i.keywords&&(i.keywords=compileKeywords(i.keywords,t.case_insensitive)),a.keywordPatternRe=e(o,!0),s&&(i.begin||(i.begin=/\B|\b/),a.beginRe=e(a.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(a.endRe=e(a.end)),a.terminatorEnd=source(a.end)||"",i.endsWithParent&&s.terminatorEnd&&(a.terminatorEnd+=(i.end?"|":"")+s.terminatorEnd)),i.illegal&&(a.illegalRe=e(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map((function(t){return expandOrCloneMode("self"===t?i:t)}))),i.contains.forEach((function(t){n(t,a)})),i.starts&&n(i.starts,s),a.matcher=function(t){const e=new r;return t.contains.forEach((t=>e.addRule(t.begin,{rule:t,type:"begin"}))),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(a),a}(t)}function dependencyOnParent(t){return!!t&&(t.endsWithParent||dependencyOnParent(t.starts))}function expandOrCloneMode(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return inherit$1(t,{variants:null},e)}))),t.cachedVariants?t.cachedVariants:dependencyOnParent(t)?inherit$1(t,{starts:t.starts?inherit$1(t.starts):null}):Object.isFrozen(t)?inherit$1(t):t}var version="11.9.0";class HTMLInjectionError extends Error{constructor(t,e){super(t),this.name="HTMLInjectionError",this.html=e}}const escape=escapeHTML,inherit=inherit$1,NO_MATCH=Symbol("nomatch"),MAX_KEYWORD_HITS=7,HLJS=function(t){const e=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:TokenTreeEmitter};function l(t){return o.noHighlightRe.test(t)}function c(t,e,n){let r="",i="";"object"==typeof e?(r=t,n=e.ignoreIllegals,i=e.language):(deprecated("10.7.0","highlight(lang, code, ...args) has been deprecated."),deprecated("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=t,r=e),void 0===n&&(n=!0);const s={code:r,language:i};_("before:highlight",s);const a=s.result?s.result:h(s.language,s.code,n);return a.code=s.code,_("after:highlight",a),a}function h(t,n,r,a){const l=Object.create(null);function c(){if(!S.keywords)return void T.addText(M);let t=0;S.keywordPatternRe.lastIndex=0;let e=S.keywordPatternRe.exec(M),n="";for(;e;){n+=M.substring(t,e.index);const i=E.case_insensitive?e[0].toLowerCase():e[0],s=(r=i,S.keywords[r]);if(s){const[t,r]=s;if(T.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=MAX_KEYWORD_HITS&&(P+=r),t.startsWith("_"))n+=e[0];else{const n=E.classNameAliases[t]||t;u(e[0],n)}}else n+=e[0];t=S.keywordPatternRe.lastIndex,e=S.keywordPatternRe.exec(M)}var r;n+=M.substring(t),T.addText(n)}function d(){null!=S.subLanguage?function(){if(""===M)return;let t=null;if("string"==typeof S.subLanguage){if(!e[S.subLanguage])return void T.addText(M);t=h(S.subLanguage,M,!0,C[S.subLanguage]),C[S.subLanguage]=t._top}else t=p(M,S.subLanguage.length?S.subLanguage:null);S.relevance>0&&(P+=t.relevance),T.__addSublanguage(t._emitter,t.language)}():c(),M=""}function u(t,e){""!==t&&(T.startScope(e),T.addText(t),T.endScope())}function f(t,e){let n=1;const r=e.length-1;for(;n<=r;){if(!t._emit[n]){n++;continue}const r=E.classNameAliases[t[n]]||t[n],i=e[n];r?u(i,r):(M=i,c(),M=""),n++}}function g(t,e){return t.scope&&"string"==typeof t.scope&&T.openNode(E.classNameAliases[t.scope]||t.scope),t.beginScope&&(t.beginScope._wrap?(u(M,E.classNameAliases[t.beginScope._wrap]||t.beginScope._wrap),M=""):t.beginScope._multi&&(f(t.beginScope,e),M="")),S=Object.create(t,{parent:{value:S}}),S}function y(t,e,n){let r=startsWith(t.endRe,n);if(r){if(t["on:end"]){const n=new Response(t);t["on:end"](e,n),n.isMatchIgnored&&(r=!1)}if(r){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return y(t.parent,e,n)}function _(t){return 0===S.matcher.regexIndex?(M+=t[0],1):(D=!0,0)}function v(t){const e=t[0],r=n.substring(t.index),i=y(S,t,r);if(!i)return NO_MATCH;const s=S;S.endScope&&S.endScope._wrap?(d(),u(e,S.endScope._wrap)):S.endScope&&S.endScope._multi?(d(),f(S.endScope,t)):s.skip?M+=e:(s.returnEnd||s.excludeEnd||(M+=e),d(),s.excludeEnd&&(M=e));do{S.scope&&T.closeNode(),S.skip||S.subLanguage||(P+=S.relevance),S=S.parent}while(S!==i.parent);return i.starts&&g(i.starts,t),s.returnEnd?0:e.length}let b={};function x(e,s){const a=s&&s[0];if(M+=e,null==a)return d(),0;if("begin"===b.type&&"end"===s.type&&b.index===s.index&&""===a){if(M+=n.slice(s.index,s.index+1),!i){const e=new Error(`0 width match regex (${t})`);throw e.languageName=t,e.badRule=b.rule,e}return 1}if(b=s,"begin"===s.type)return function(t){const e=t[0],n=t.rule,r=new Response(n),i=[n.__beforeBegin,n["on:begin"]];for(const n of i)if(n&&(n(t,r),r.isMatchIgnored))return _(e);return n.skip?M+=e:(n.excludeBegin&&(M+=e),d(),n.returnBegin||n.excludeBegin||(M=e)),g(n,t),n.returnBegin?0:e.length}(s);if("illegal"===s.type&&!r){const t=new Error('Illegal lexeme "'+a+'" for mode "'+(S.scope||"<unnamed>")+'"');throw t.mode=S,t}if("end"===s.type){const t=v(s);if(t!==NO_MATCH)return t}if("illegal"===s.type&&""===a)return 1;if($>1e5&&$>3*s.index){throw new Error("potential infinite loop, way more iterations than matches")}return M+=a,a.length}const E=m(t);if(!E)throw error(s.replace("{}",t)),new Error('Unknown language: "'+t+'"');const w=compileLanguage(E);let k="",S=a||w;const C={},T=new o.__emitter(o);!function(){const t=[];for(let e=S;e!==E;e=e.parent)e.scope&&t.unshift(e.scope);t.forEach((t=>T.openNode(t)))}();let M="",P=0,A=0,$=0,D=!1;try{if(E.__emitTokens)E.__emitTokens(n,T);else{for(S.matcher.considerAll();;){$++,D?D=!1:S.matcher.considerAll(),S.matcher.lastIndex=A;const t=S.matcher.exec(n);if(!t)break;const e=x(n.substring(A,t.index),t);A=t.index+e}x(n.substring(A))}return T.finalize(),k=T.toHTML(),{language:t,value:k,relevance:P,illegal:!1,_emitter:T,_top:S}}catch(e){if(e.message&&e.message.includes("Illegal"))return{language:t,value:escape(n),illegal:!0,relevance:0,_illegalBy:{message:e.message,index:A,context:n.slice(A-100,A+100),mode:e.mode,resultSoFar:k},_emitter:T};if(i)return{language:t,value:escape(n),illegal:!1,relevance:0,errorRaised:e,_emitter:T,_top:S};throw e}}function p(t,n){n=n||o.languages||Object.keys(e);const r=function(t){const e={value:escape(t),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return e._emitter.addText(t),e}(t),i=n.filter(m).filter(y).map((e=>h(e,t,!1)));i.unshift(r);const s=i.sort(((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(m(t.language).supersetOf===e.language)return 1;if(m(e.language).supersetOf===t.language)return-1}return 0})),[l,c]=s,p=l;return p.secondBest=c,p}function d(t){let e=null;const r=function(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=o.languageDetectRe.exec(e);if(n){const e=m(n[1]);return e||(warn(s.replace("{}",n[1])),warn("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find((t=>l(t)||m(t)))}(t);if(l(r))return;if(_("before:highlightElement",{el:t,language:r}),t.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",t);if(t.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(t)),o.throwUnescapedHTML)){throw new HTMLInjectionError("One of your code blocks includes unescaped HTML.",t.innerHTML)}e=t;const i=e.textContent,a=r?c(i,{language:r,ignoreIllegals:!0}):p(i);t.innerHTML=a.value,t.dataset.highlighted="yes",function(t,e,r){const i=e&&n[e]||r;t.classList.add("hljs"),t.classList.add(`language-${i}`)}(t,r,a.language),t.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(t.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),_("after:highlightElement",{el:t,result:a,text:i})}let u=!1;function f(){if("loading"===document.readyState)return void(u=!0);document.querySelectorAll(o.cssSelector).forEach(d)}function m(t){return t=(t||"").toLowerCase(),e[t]||e[n[t]]}function g(t,{languageName:e}){"string"==typeof t&&(t=[t]),t.forEach((t=>{n[t.toLowerCase()]=e}))}function y(t){const e=m(t);return e&&!e.disableAutodetect}function _(t,e){const n=t;r.forEach((function(t){t[n]&&t[n](e)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){u&&f()}),!1),Object.assign(t,{highlight:c,highlightAuto:p,highlightAll:f,highlightElement:d,highlightBlock:function(t){return deprecated("10.7.0","highlightBlock will be removed entirely in v12.0"),deprecated("10.7.0","Please use highlightElement now."),d(t)},configure:function(t){o=inherit(o,t)},initHighlighting:()=>{f(),deprecated("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){f(),deprecated("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let s=null;try{s=r(t)}catch(t){if(error("Language definition for '{}' could not be registered.".replace("{}",n)),!i)throw t;error(t),s=a}s.name||(s.name=n),e[n]=s,s.rawDefinition=r.bind(null,t),s.aliases&&g(s.aliases,{languageName:n})},unregisterLanguage:function(t){delete e[t];for(const e of Object.keys(n))n[e]===t&&delete n[e]},listLanguages:function(){return Object.keys(e)},getLanguage:m,registerAliases:g,autoDetection:y,inherit:inherit,addPlugin:function(t){!function(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}(t),r.push(t)},removePlugin:function(t){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=version,t.regex={concat:concat,lookahead:lookahead,either:either,optional:optional,anyNumberOfTimes:anyNumberOfTimes};for(const t in MODES)"object"==typeof MODES[t]&&deepFreeze(MODES[t]);return Object.assign(t,MODES),t},highlight=HLJS({});highlight.newInstance=()=>HLJS({});var core=highlight;highlight.HighlightJS=highlight,highlight.default=highlight;var HighlightJS=core;function create_else_block$6(t){let e;return{c(){e=text(t[0])},l(n){e=claim_text(n,t[0])},m(t,n){insert_hydration(t,e,n)},p(t,n){1&n&&set_data(e,t[0])},d(t){t&&detach(e)}}}function create_if_block$d(t){let e,n;return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(r,i){e.m(t[1],r,i),insert_hydration(r,n,i)},p(t,n){2&n&&e.p(t[1])},d(t){t&&detach(n),t&&e.d()}}}function create_fragment$p(t){let e,n;function r(t,e){return t[1]?create_if_block$d:create_else_block$6}let i=r(t),s=i(t),a=[{"data-language":t[2]},t[4]],o={};for(let t=0;t<a.length;t+=1)o=assign(o,a[t]);return{c(){e=element("pre"),n=element("code"),s.c(),this.h()},l(t){e=claim_element(t,"PRE",{"data-language":!0});var r=children(e);n=claim_element(r,"CODE",{});var i=children(n);s.l(i),i.forEach(detach),r.forEach(detach),this.h()},h(){toggle_class(n,"hljs",!0),set_attributes(e,o),toggle_class(e,"langtag",t[3]),toggle_class(e,"svelte-1w9vok",!0)},m(t,r){insert_hydration(t,e,r),append_hydration(e,n),s.m(n,null)},p(t,[l]){i===(i=r(t))&&s?s.p(t,l):(s.d(1),s=i(t),s&&(s.c(),s.m(n,null))),set_attributes(e,o=get_spread_update(a,[4&l&&{"data-language":t[2]},16&l&&t[4]])),toggle_class(e,"langtag",t[3]),toggle_class(e,"svelte-1w9vok",!0)},i:noop,o:noop,d(t){t&&detach(e),s.d()}}}function instance$o(t,e,n){const r=["code","highlighted","languageName","langtag"];let i=compute_rest_props(e,r),{code:s}=e,{highlighted:a}=e,{languageName:o="plaintext"}=e,{langtag:l=!1}=e;return t.$$set=t=>{e=assign(assign({},e),exclude_internal_props(t)),n(4,i=compute_rest_props(e,r)),"code"in t&&n(0,s=t.code),"highlighted"in t&&n(1,a=t.highlighted),"languageName"in t&&n(2,o=t.languageName),"langtag"in t&&n(3,l=t.langtag)},[s,a,o,l,i]}class LangTag extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$o,create_fragment$p,not_equal,{code:0,highlighted:1,languageName:2,langtag:3})}}var LangTag$1=LangTag;const get_default_slot_changes=t=>({highlighted:8&t}),get_default_slot_context=t=>({highlighted:t[3]});function fallback_block(t){let e,n;const r=[t[4],{languageName:t[0].name},{langtag:t[2]},{highlighted:t[3]},{code:t[1]}];let i={};for(let t=0;t<r.length;t+=1)i=assign(i,r[t]);return e=new LangTag$1({props:i}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const i=31&n?get_spread_update(r,[16&n&&get_spread_object(t[4]),1&n&&{languageName:t[0].name},4&n&&{langtag:t[2]},8&n&&{highlighted:t[3]},2&n&&{code:t[1]}]):{};e.$set(i)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$o(t){let e;const n=t[6].default,r=create_slot(n,t,t[5],get_default_slot_context),i=r||fallback_block(t);return{c(){i&&i.c()},l(t){i&&i.l(t)},m(t,n){i&&i.m(t,n),e=!0},p(t,[s]){r?r.p&&(!e||40&s)&&update_slot_base(r,n,t,t[5],e?get_slot_changes(n,t[5],s,get_default_slot_changes):get_all_dirty_from_scope(t[5]),get_default_slot_context):i&&i.p&&(!e||31&s)&&i.p(t,e?s:-1)},i(t){e||(transition_in(i,t),e=!0)},o(t){transition_out(i,t),e=!1},d(t){i&&i.d(t)}}}function instance$n(t,e,n){const r=["language","code","langtag"];let i=compute_rest_props(e,r),{$$slots:s={},$$scope:a}=e,{language:o}=e,{code:l}=e,{langtag:c=!1}=e;const h=createEventDispatcher();let p="";return afterUpdate((()=>{p&&h("highlight",{highlighted:p})})),t.$$set=t=>{e=assign(assign({},e),exclude_internal_props(t)),n(4,i=compute_rest_props(e,r)),"language"in t&&n(0,o=t.language),"code"in t&&n(1,l=t.code),"langtag"in t&&n(2,c=t.langtag),"$$scope"in t&&n(5,a=t.$$scope)},t.$$.update=()=>{3&t.$$.dirty&&(HighlightJS.registerLanguage(o.name,o.register),n(3,p=HighlightJS.highlight(l,{language:o.name}).value))},[o,l,c,p,i,a,s]}class Highlight extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$n,create_fragment$o,not_equal,{language:0,code:1,langtag:2})}}var Highlight$1=Highlight;function create_else_block$5(t){let e,n;return{c(){e=svg_element("svg"),n=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{class:!0,focusable:!0,viewBox:!0});var r=children(e);n=claim_svg_element(r,"path",{d:!0}),children(n).forEach(detach),r.forEach(detach),this.h()},h(){attr(n,"d","M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"),attr(e,"class","icon svelte-kqmk7n"),attr(e,"focusable","false"),attr(e,"viewBox","0 0 24 24")},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},d(t){t&&detach(e)}}}function create_if_block$c(t){let e;return{c(){e=text("Copied!")},l(t){e=claim_text(t,"Copied!")},m(t,n){insert_hydration(t,e,n)},d(t){t&&detach(e)}}}function create_fragment$n(t){let e,n,r,i,s,a,o;function l(t,e){return t[2]?create_if_block$c:create_else_block$5}let c=l(t),h=c(t);return i=new Highlight$1({props:{code:t[0],language:t[3](t[1])}}),{c(){e=element("span"),n=element("button"),h.c(),r=space(),create_component(i.$$.fragment),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0});var s=children(e);n=claim_element(s,"BUTTON",{class:!0,type:!0});var a=children(n);h.l(a),a.forEach(detach),r=claim_space(s),claim_component(i.$$.fragment,s),s.forEach(detach),this.h()},h(){attr(n,"class","copy-btn svelte-kqmk7n"),attr(n,"type","button"),toggle_class(n,"isCopied",t[2]),attr(e,"class","code-wrapper svelte-kqmk7n")},m(l,c){insert_hydration(l,e,c),append_hydration(e,n),h.m(n,null),append_hydration(e,r),mount_component(i,e,null),s=!0,a||(o=listen(n,"click",t[4]),a=!0)},p(t,[e]){c!==(c=l(t))&&(h.d(1),h=c(t),h&&(h.c(),h.m(n,null))),(!s||4&e)&&toggle_class(n,"isCopied",t[2]);const r={};1&e&&(r.code=t[0]),2&e&&(r.language=t[3](t[1])),i.$set(r)},i(t){s||(transition_in(i.$$.fragment,t),s=!0)},o(t){transition_out(i.$$.fragment,t),s=!1},d(t){t&&detach(e),h.d(),destroy_component(i),a=!1,o()}}}function instance$m(t,e,n){let r,{code:i}=e,{language:s}=e,a=!1;const{getHlCodeLanguage:o}=useCodeFormatter();return t.$$set=t=>{"code"in t&&n(0,i=t.code),"language"in t&&n(1,s=t.language)},[i,s,a,o,()=>{navigator.clipboard.writeText(i),n(2,a=!0),clearTimeout(r),r=setTimeout((()=>{n(2,a=!1)}),2e3)}]}class CodeBlock extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$m,create_fragment$n,not_equal,{code:0,language:1})}}function create_fragment$m(t){let e,n;const r=t[1].default,i=create_slot(r,t,t[0],null);return{c(){e=element("code"),i&&i.c(),this.h()},l(t){e=claim_element(t,"CODE",{class:!0});var n=children(e);i&&i.l(n),n.forEach(detach),this.h()},h(){attr(e,"class","language- small-code svelte-45nkzf")},m(t,r){insert_hydration(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&update_slot_base(i,r,t,t[0],n?get_slot_changes(r,t[0],e,null):get_all_dirty_from_scope(t[0]),null)},i(t){n||(transition_in(i,t),n=!0)},o(t){transition_out(i,t),n=!1},d(t){t&&detach(e),i&&i.d(t)}}}function instance$l(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class CodeWord extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$l,create_fragment$m,not_equal,{})}}function create_fragment$l(t){let e,n=t[1](t[0])+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","link-text")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,[r]){1&r&&n!==(n=t[1](t[0])+"")&&(e.innerHTML=n)},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$k(t,e,n){let{content:r}=e,{isMsgFromUser:i=!1}=e;return t.$$set=t=>{"content"in t&&n(0,r=t.content),"isMsgFromUser"in t&&n(2,i=t.isMsgFromUser)},[r,t=>{const e=i?"color:white":"color:black";return t.replace(/(?:\[(.*?)\]\((.*?)\))|(?:\((.*?)\))|(?:\[(.*?)\])|(?:(http[s]?:\/\/[^\s\[\]()]+))/g,((t,n,r,i,s)=>{const a=t,o=(n||r||i||s||t).replace("<br>","");return a.replace("<br>","")!==o?t.replace(o,`<a href="${o.trim()}" target="_blank" style="text-decoration: underline;${e}">${o.trim()}</a>`):`<a href="${o}" target="_blank" style="text-decoration: underline;${e}">${a}</a>`}))},i]}class LinkText extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$k,create_fragment$l,not_equal,{content:0,isMsgFromUser:2})}}function create_fragment$k(t){let e,n,r;return{c(){e=svg_element("svg"),n=svg_element("path"),r=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{fill:!0,height:!0,viewBox:!0,width:!0,xmlns:!0});var i=children(e);n=claim_svg_element(i,"path",{d:!0,fill:!0}),children(n).forEach(detach),r=claim_svg_element(i,"path",{d:!0}),children(r).forEach(detach),i.forEach(detach),this.h()},h(){attr(n,"d","M0 0h24v24H0V0z"),attr(n,"fill","none"),attr(r,"d","M13.11 5.72l-.57 2.89c-.12.59.04 1.2.42 1.66.38.46.94.73 1.54.73H20v1.08L17.43 18H9.34c-.18 0-.34-.16-.34-.34V9.82l4.11-4.1M14 2L7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.83C7 18.95 8.05 20 9.34 20h8.1c.71 0 1.36-.37 1.72-.97l2.67-6.15c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2zM4 9H2v11h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1z"),attr(e,"fill",t[0]),attr(e,"height","24px"),attr(e,"viewBox","0 0 24 24"),attr(e,"width","24px"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){insert_hydration(t,e,i),append_hydration(e,n),append_hydration(e,r)},p(t,[n]){1&n&&attr(e,"fill",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$j(t,e,n){let{fillColor:r="#000000"}=e;return t.$$set=t=>{"fillColor"in t&&n(0,r=t.fillColor)},[r]}class Thumb_up_off extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$j,create_fragment$k,not_equal,{fillColor:0})}}function create_fragment$j(t){let e,n,r;return{c(){e=svg_element("svg"),n=svg_element("path"),r=svg_element("path"),this.h()},l(t){e=claim_svg_element(t,"svg",{fill:!0,height:!0,viewBox:!0,width:!0,xmlns:!0});var i=children(e);n=claim_svg_element(i,"path",{d:!0,fill:!0}),children(n).forEach(detach),r=claim_svg_element(i,"path",{d:!0}),children(r).forEach(detach),i.forEach(detach),this.h()},h(){attr(n,"d","M24 24H0V0h24v24z"),attr(n,"fill","none"),attr(r,"d","M10.89 18.28l.57-2.89c.12-.59-.04-1.2-.42-1.66-.38-.46-.94-.73-1.54-.73H4v-1.08L6.57 6h8.09c.18 0 .34.16.34.34v7.84l-4.11 4.1M10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22zm10-7h2V4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1z"),attr(e,"fill",t[0]),attr(e,"height","24px"),attr(e,"viewBox","0 0 24 24"),attr(e,"width","24px"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){insert_hydration(t,e,i),append_hydration(e,n),append_hydration(e,r)},p(t,[n]){1&n&&attr(e,"fill",t[0])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$i(t,e,n){let{fillColor:r="#000000"}=e;return t.$$set=t=>{"fillColor"in t&&n(0,r=t.fillColor)},[r]}class Thumb_down_off extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$i,create_fragment$j,not_equal,{fillColor:0})}}function create_else_block$4(t){let e,n;return e=new Thumb_down_off({}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block$b(t){let e,n;return e=new Thumb_up_off({}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$i(t){let e,n,r,i,s,a,o,l,c,h,p,d,u,f,m,g,y,_,v,b,x,E,w,k,S,C,T=t[5]("evahelper.reaction.header")+"",M=t[5]("evahelper.reaction.send")+"";const P=[create_if_block$b,create_else_block$4],A=[];function $(t,e){return t[1]?0:1}return i=$(t),s=A[i]=P[i](t),{c(){e=element("div"),n=element("div"),r=element("span"),s.c(),a=space(),o=element("span"),l=text(T),c=text(" "),h=space(),p=element("div"),d=element("button"),u=svg_element("svg"),f=svg_element("path"),m=svg_element("path"),g=space(),y=element("div"),_=element("textarea"),v=space(),b=element("div"),x=element("button"),E=text(M),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var i=children(e);n=claim_element(i,"DIV",{class:!0});var w=children(n);r=claim_element(w,"SPAN",{class:!0});var k=children(r);s.l(k),k.forEach(detach),a=claim_space(w),o=claim_element(w,"SPAN",{});var S=children(o);l=claim_text(S,T),c=claim_text(S," "),S.forEach(detach),h=claim_space(w),p=claim_element(w,"DIV",{class:!0});var C=children(p);d=claim_element(C,"BUTTON",{style:!0,class:!0,type:!0});var P=children(d);u=claim_svg_element(P,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var A=children(u);f=claim_svg_element(A,"path",{class:!0,d:!0}),children(f).forEach(detach),m=claim_svg_element(A,"path",{class:!0,d:!0}),children(m).forEach(detach),A.forEach(detach),P.forEach(detach),C.forEach(detach),w.forEach(detach),g=claim_space(i),y=claim_element(i,"DIV",{class:!0});var $=children(y);_=claim_element($,"TEXTAREA",{class:!0,placeholder:!0}),children(_).forEach(detach),$.forEach(detach),v=claim_space(i),b=claim_element(i,"DIV",{class:!0});var D=children(b);x=claim_element(D,"BUTTON",{style:!0,class:!0});var I=children(x);E=claim_text(I,M),I.forEach(detach),D.forEach(detach),i.forEach(detach),this.h()},h(){attr(r,"class","icon"),attr(f,"class","icon-path"),attr(f,"d","M7.3 7.57a1 1 0 0 1 1.42 0l6.36 6.37a1 1 0 0 1-1.41 1.41L8 9.7l-5.66 5.65a1 1 0 0 1-1.41-1.41L7.3 7.57Zm-.3.76v-.05h2v.05H7Z"),attr(m,"class","icon-path"),attr(m,"d","M8.71 9.05a1 1 0 0 1-1.4 0L.93 2.69a1 1 0 1 1 1.41-1.42L8 6.93l5.65-5.66a1 1 0 1 1 1.42 1.42L8.7 9.05Zm.3-.75v.04H7V8.3h2Z"),attr(u,"class","btn-icon"),attr(u,"fill","none"),attr(u,"viewBox","0 0 16 16"),attr(u,"xmlns","http://www.w3.org/2000/svg"),set_style(d,"--color",t[4]),attr(d,"class","btn"),attr(d,"type","button"),attr(p,"class","wrapper svelte-59qf86"),attr(n,"class","header"),attr(_,"class","feedback-field"),attr(_,"placeholder",t[0]),attr(y,"class","main-container"),set_style(x,"--color",t[4]),attr(x,"class",w=null_to_empty("button "+(t[3]?"":"dimming"))+" svelte-59qf86"),attr(b,"class","footer"),attr(e,"class","modal-container svelte-59qf86")},m(s,w){insert_hydration(s,e,w),append_hydration(e,n),append_hydration(n,r),A[i].m(r,null),append_hydration(n,a),append_hydration(n,o),append_hydration(o,l),append_hydration(o,c),append_hydration(n,h),append_hydration(n,p),append_hydration(p,d),append_hydration(d,u),append_hydration(u,f),append_hydration(u,m),append_hydration(e,g),append_hydration(e,y),append_hydration(y,_),t[11](_),set_input_value(_,t[3]),append_hydration(e,v),append_hydration(e,b),append_hydration(b,x),append_hydration(x,E),k=!0,S||(C=[listen(d,"click",t[8]),listen(_,"input",t[12]),listen(_,"keydown",t[7]),listen(x,"click",t[6])],S=!0)},p(t,[e]){let n=i;i=$(t),i!==n&&(group_outros(),transition_out(A[n],1,1,(()=>{A[n]=null})),check_outros(),s=A[i],s||(s=A[i]=P[i](t),s.c()),transition_in(s,1),s.m(r,null)),(!k||32&e)&&T!==(T=t[5]("evahelper.reaction.header")+"")&&set_data(l,T),(!k||16&e)&&set_style(d,"--color",t[4]),(!k||1&e)&&attr(_,"placeholder",t[0]),8&e&&set_input_value(_,t[3]),(!k||32&e)&&M!==(M=t[5]("evahelper.reaction.send")+"")&&set_data(E,M),(!k||16&e)&&set_style(x,"--color",t[4]),(!k||8&e&&w!==(w=null_to_empty("button "+(t[3]?"":"dimming"))+" svelte-59qf86"))&&attr(x,"class",w)},i(t){k||(transition_in(s),k=!0)},o(t){transition_out(s),k=!1},d(n){n&&detach(e),A[i].d(),t[11](null),S=!1,run_all(C)}}}function instance$h(e,n,r){let i,s,a,o;component_subscribe(e,conversation,(t=>r(13,s=t))),component_subscribe(e,widgetSettingsStore,(t=>r(10,a=t))),component_subscribe(e,t,(t=>r(5,o=t)));let{message:l}=n,{placeholder:c}=n,{showLikeIcon:h}=n,p=null,d="";const u=()=>{d&&setReaction(l.id,d,"REPLY",s.id),r(3,d=""),r(2,p.value="",p),r(2,p.style.height="80px",p),modalStore.closeModal()},f=debounce((function(t){r(3,d=t.target.value)}),50);return e.$$set=t=>{"message"in t&&r(9,l=t.message),"placeholder"in t&&r(0,c=t.placeholder),"showLikeIcon"in t&&r(1,h=t.showLikeIcon)},e.$$.update=()=>{1024&e.$$.dirty&&r(4,i=a.settings.color)},[c,h,p,d,i,o,u,t=>{13!==t.keyCode||t.shiftKey?f(t):(t.preventDefault(),u())},()=>{modalStore.closeModal()},l,a,function(t){binding_callbacks[t?"unshift":"push"]((()=>{p=t,r(2,p)}))},function(){d=this.value,r(3,d)}]}class ReactionModal extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$h,create_fragment$i,not_equal,{message:9,placeholder:0,showLikeIcon:1})}}function create_else_block$3(t){let e,n,r,i,s,a;return{c(){e=element("div"),n=svg_element("svg"),r=svg_element("path"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var i=children(e);n=claim_svg_element(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var s=children(n);r=claim_svg_element(s,"path",{d:!0,fill:!0}),children(r).forEach(detach),s.forEach(detach),i.forEach(detach),this.h()},h(){attr(r,"d","M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z"),attr(r,"fill","currentColor"),attr(n,"width","12"),attr(n,"height","12"),attr(n,"viewBox","0 0 24 24"),attr(n,"fill","none"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"class","svelte-gb6olr"),attr(e,"class","retry-icon svelte-gb6olr")},m(t,i){insert_hydration(t,e,i),append_hydration(e,n),append_hydration(n,r),a=!0},i(n){a||(add_render_callback((()=>{a&&(s&&s.end(1),i=create_in_transition(e,t[3],{key:"copy"}),i.start())})),a=!0)},o(n){i&&i.invalidate(),s=create_out_transition(e,t[2],{key:"copy"}),a=!1},d(t){t&&detach(e),t&&s&&s.end()}}}function create_if_block$a(t){let e,n,r,i,s,a;return{c(){e=element("div"),n=svg_element("svg"),r=svg_element("path"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var i=children(e);n=claim_svg_element(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var s=children(n);r=claim_svg_element(s,"path",{d:!0,fill:!0}),children(r).forEach(detach),s.forEach(detach),i.forEach(detach),this.h()},h(){attr(r,"d","M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"),attr(r,"fill","currentColor"),attr(n,"width","12"),attr(n,"height","12"),attr(n,"viewBox","0 0 24 24"),attr(n,"fill","none"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"class","svelte-gb6olr"),attr(e,"class","retry-icon svelte-gb6olr")},m(t,i){insert_hydration(t,e,i),append_hydration(e,n),append_hydration(n,r),a=!0},i(n){a||(add_render_callback((()=>{a&&(s&&s.end(1),i=create_in_transition(e,t[3],{key:"check"}),i.start())})),a=!0)},o(n){i&&i.invalidate(),s=create_out_transition(e,t[2],{key:"check"}),a=!1},d(t){t&&detach(e),t&&s&&s.end()}}}function create_fragment$h(t){let e,n,r,i,s,a,o,l;const c=[create_if_block$a,create_else_block$3],h=[];function p(t,e){return t[1]?0:1}return n=p(t),r=h[n]=c[n](t),{c(){e=element("div"),r.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var n=children(e);r.l(n),n.forEach(detach),this.h()},h(){attr(e,"class","retry svelte-gb6olr"),set_style(e,"--color",t[0])},m(r,i){insert_hydration(r,e,i),h[n].m(e,null),a=!0,o||(l=listen(e,"click",t[4]),o=!0)},p(t,[i]){let s=n;n=p(t),n!==s&&(group_outros(),transition_out(h[s],1,1,(()=>{h[s]=null})),check_outros(),r=h[n],r||(r=h[n]=c[n](t),r.c()),transition_in(r,1),r.m(e,null)),(!a||1&i)&&set_style(e,"--color",t[0])},i(t){a||(transition_in(r),add_render_callback((()=>{a&&(s&&s.end(1),i=create_in_transition(e,fade,{duration:200}),i.start())})),a=!0)},o(t){transition_out(r),i&&i.invalidate(),s=create_out_transition(e,fade,{duration:200}),a=!1},d(t){t&&detach(e),h[n].d(),t&&s&&s.end(),o=!1,l()}}}function instance$g(t,e,n){let r,{message:i=""}=e,{color:s}=e,a=!1;const[o,l]=crossfade({duration:200,fallback:(t,e)=>fade(t,{duration:200})});return onDestroy((()=>{r&&clearTimeout(r)})),t.$$set=t=>{"message"in t&&n(5,i=t.message),"color"in t&&n(0,s=t.color)},[s,a,o,l,()=>{navigator.clipboard.writeText(i),n(1,a=!0),r&&clearTimeout(r),r=setTimeout((()=>{n(1,a=!1)}),2e3)},i]}class CopyMessage extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$g,create_fragment$h,not_equal,{message:5,color:0})}}function create_if_block_3$3(t){let e,n,r,i,s,a,o,l=t[11]("evahelper.message.retry")+"";return{c(){e=element("div"),n=text(l),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var r=children(e);n=claim_text(r,l),r.forEach(detach),this.h()},h(){attr(e,"class","retry svelte-186l48l"),set_style(e,"--color",t[10])},m(r,i){insert_hydration(r,e,i),append_hydration(e,n),s=!0,a||(o=listen(e,"click",t[12]),a=!0)},p(t,r){(!s||2048&r)&&l!==(l=t[11]("evahelper.message.retry")+"")&&set_data(n,l),(!s||1024&r)&&set_style(e,"--color",t[10])},i(t){s||(add_render_callback((()=>{s&&(i&&i.end(1),r=create_in_transition(e,fade,{duration:200}),r.start())})),s=!0)},o(t){r&&r.invalidate(),i=create_out_transition(e,fade,{duration:200}),s=!1},d(t){t&&detach(e),t&&i&&i.end(),a=!1,o()}}}function create_if_block_2$4(t){let e,n;return e=new CopyMessage({props:{message:t[1].text,color:t[10]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.message=t[1].text),1024&n&&(r.color=t[10]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$5(t){let e,n,r,i,s,a,o,l=t[11]("evahelper.message.edit")+"";return{c(){e=element("div"),n=text(l),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var r=children(e);n=claim_text(r,l),r.forEach(detach),this.h()},h(){attr(e,"class","retry edit svelte-186l48l"),set_style(e,"--color",t[10])},m(r,i){insert_hydration(r,e,i),append_hydration(e,n),t[22](e),s=!0,a||(o=listen(e,"click",t[13]),a=!0)},p(t,r){(!s||2048&r)&&l!==(l=t[11]("evahelper.message.edit")+"")&&set_data(n,l),(!s||1024&r)&&set_style(e,"--color",t[10])},i(t){s||(add_render_callback((()=>{s&&(i&&i.end(1),r=create_in_transition(e,fade,{duration:200}),r.start())})),s=!0)},o(t){r&&r.invalidate(),i=create_out_transition(e,fade,{duration:200}),s=!1},d(n){n&&detach(e),t[22](null),n&&i&&i.end(),a=!1,o()}}}function create_if_block$9(t){let e,n,r,i,s,a,o,l,c,h,p;return r=new Thumb_up({props:{fillColor:"#c7c7c7"}}),a=new Thumb_down({props:{fillColor:"#c7c7c7"}}),{c(){e=element("div"),n=element("div"),create_component(r.$$.fragment),i=space(),s=element("div"),create_component(a.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{style:!0,class:!0});var o=children(e);n=claim_element(o,"DIV",{class:!0,style:!0});var l=children(n);claim_component(r.$$.fragment,l),l.forEach(detach),i=claim_space(o),s=claim_element(o,"DIV",{class:!0,style:!0});var c=children(s);claim_component(a.$$.fragment,c),c.forEach(detach),o.forEach(detach),this.h()},h(){attr(n,"class","cloud"),set_style(n,"--color",t[10]),attr(s,"class","cloud"),set_style(s,"--color",t[10]),set_style(e,"--color",t[10]),attr(e,"class","reaction-container svelte-186l48l")},m(o,l){insert_hydration(o,e,l),append_hydration(e,n),mount_component(r,n,null),append_hydration(e,i),append_hydration(e,s),mount_component(a,s,null),c=!0,h||(p=[listen(n,"click",t[14]("")),listen(s,"click",t[14](""))],h=!0)},p(t,r){(!c||1024&r)&&set_style(n,"--color",t[10]),(!c||1024&r)&&set_style(s,"--color",t[10]),(!c||1024&r)&&set_style(e,"--color",t[10])},i(t){c||(transition_in(r.$$.fragment,t),transition_in(a.$$.fragment,t),add_render_callback((()=>{c&&(l&&l.end(1),o=create_in_transition(e,fade,{duration:200}),o.start())})),c=!0)},o(t){transition_out(r.$$.fragment,t),transition_out(a.$$.fragment,t),o&&o.invalidate(),l=create_out_transition(e,fade,{duration:200}),c=!1},d(t){t&&detach(e),destroy_component(r),destroy_component(a),t&&l&&l.end(),h=!1,run_all(p)}}}function create_fragment$g(t){let e,n,r,i,s,a=t[2]&&create_if_block_3$3(t),o=t[4]&&create_if_block_2$4(t),l=t[3]&&create_if_block_1$5(t),c=t[0]&&!t[8]&&!t[7]&&create_if_block$9(t);return{c(){e=element("div"),a&&a.c(),n=space(),o&&o.c(),r=space(),l&&l.c(),i=space(),c&&c.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var s=children(e);a&&a.l(s),n=claim_space(s),o&&o.l(s),r=claim_space(s),l&&l.l(s),i=claim_space(s),c&&c.l(s),s.forEach(detach),this.h()},h(){attr(e,"class","container svelte-186l48l"),toggle_class(e,"edit-only",t[9])},m(h,p){insert_hydration(h,e,p),a&&a.m(e,null),append_hydration(e,n),o&&o.m(e,null),append_hydration(e,r),l&&l.m(e,null),append_hydration(e,i),c&&c.m(e,null),t[23](e),s=!0},p(t,[h]){t[2]?a?(a.p(t,h),4&h&&transition_in(a,1)):(a=create_if_block_3$3(t),a.c(),transition_in(a,1),a.m(e,n)):a&&(group_outros(),transition_out(a,1,1,(()=>{a=null})),check_outros()),t[4]?o?(o.p(t,h),16&h&&transition_in(o,1)):(o=create_if_block_2$4(t),o.c(),transition_in(o,1),o.m(e,r)):o&&(group_outros(),transition_out(o,1,1,(()=>{o=null})),check_outros()),t[3]?l?(l.p(t,h),8&h&&transition_in(l,1)):(l=create_if_block_1$5(t),l.c(),transition_in(l,1),l.m(e,i)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros()),!t[0]||t[8]||t[7]?c&&(group_outros(),transition_out(c,1,1,(()=>{c=null})),check_outros()):c?(c.p(t,h),385&h&&transition_in(c,1)):(c=create_if_block$9(t),c.c(),transition_in(c,1),c.m(e,null)),(!s||512&h)&&toggle_class(e,"edit-only",t[9])},i(t){s||(transition_in(a),transition_in(o),transition_in(l),transition_in(c),s=!0)},o(t){transition_out(a),transition_out(o),transition_out(l),transition_out(c),s=!1},d(n){n&&detach(e),a&&a.d(),o&&o.d(),l&&l.d(),c&&c.d(),t[23](null)}}}function instance$f(e,n,r){let i,s,a,o,l,c,h;component_subscribe(e,conversation,(t=>r(24,l=t))),component_subscribe(e,t,(t=>r(11,c=t))),component_subscribe(e,widgetSettingsStore,(t=>r(21,h=t)));let p,d,{showReactions:u}=n,{message:f}=n,{msgReaction:m}=n,{retryHandler:g}=n,{showRetry:y=!1}=n,{showEdit:_=!1}=n,{editHandler:v}=n,{setIsHovered:b}=n,{showCopy:x=!1}=n,E=0,w=0;const k=()=>{p&&d&&(r(20,w=p.offsetWidth),r(19,E=d.offsetWidth))};return e.$$set=t=>{"showReactions"in t&&r(0,u=t.showReactions),"message"in t&&r(1,f=t.message),"msgReaction"in t&&r(15,m=t.msgReaction),"retryHandler"in t&&r(16,g=t.retryHandler),"showRetry"in t&&r(2,y=t.showRetry),"showEdit"in t&&r(3,_=t.showEdit),"editHandler"in t&&r(17,v=t.editHandler),"setIsHovered"in t&&r(18,b=t.setIsHovered),"showCopy"in t&&r(4,x=t.showCopy)},e.$$.update=()=>{2097152&e.$$.dirty&&r(10,i=h.settings.color),32768&e.$$.dirty&&r(8,s=""===m),32768&e.$$.dirty&&r(7,a=""===m),1572864&e.$$.dirty&&r(9,o=w>E),8&e.$$.dirty&&_&&setTimeout(k,0)},[u,f,y,_,x,p,d,a,s,o,i,c,()=>{g()},()=>{v()},t=>()=>{b(!1)(),""===t?r(8,s=!0):r(7,a=!0),modalStore.showModal(),modalStore.update((e=>({...e,children:{component:ReactionModal,props:{message:f,showLikeIcon:""===t,placeholder:c(""===t?"evahelper.reaction.positivePlaceholder":"evahelper.reaction.negativePlaceholder")}}}))),setReaction(f.id,t,"REACTION",l.id),messagesStore.setMsgReaction(f.id,t)},m,g,v,b,E,w,h,function(t){binding_callbacks[t?"unshift":"push"]((()=>{p=t,r(5,p)}))},function(t){binding_callbacks[t?"unshift":"push"]((()=>{d=t,r(6,d)}))}]}class MessageReacton extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$f,create_fragment$g,not_equal,{showReactions:0,message:1,msgReaction:15,retryHandler:16,showRetry:2,showEdit:3,editHandler:17,setIsHovered:18,showCopy:4})}}function get_each_context$2(t,e,n){const r=t.slice();return r[20]=e[n],r}function create_else_block_1(t){let e,n,r,i=marked(t[20].content)+"";return{c(){e=element("span"),n=new HtmlTagHydration(!1),r=space(),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0,style:!0});var i=children(e);n=claim_html_tag(i,!1),r=claim_space(i),i.forEach(detach),this.h()},h(){n.a=r,attr(e,"class","plain-markdown"),set_style(e,"--color",t[10])},m(t,s){insert_hydration(t,e,s),n.m(i,e),append_hydration(e,r)},p(t,r){2&r&&i!==(i=marked(t[20].content)+"")&&n.p(i),1024&r&&set_style(e,"--color",t[10])},i:noop,o:noop,d(t){t&&detach(e)}}}function create_if_block_4(t){let e,n;return e=new LinkText({props:{content:t[20].content}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.content=t[20].content),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_3$2(t){let e,n;return e=new CodeWord({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};8388610&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_2$3(t){let e,n;return e=new CodeBlock({props:{language:t[20].language,code:t[20].content}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.language=t[20].language),2&n&&(r.code=t[20].content),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot$4(t){let e,n,r=t[20].content+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,i){e.m(r,t,i),insert_hydration(t,n,i)},p(t,n){2&n&&r!==(r=t[20].content+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_each_block$2(t){let e,n,r,i;const s=[create_if_block_2$3,create_if_block_3$2,create_if_block_4,create_else_block_1],a=[];function o(t,e){return"code-block"===t[20].type?0:"code-word"===t[20].type?1:"link-text"===t[20].type?2:3}return e=o(t),n=a[e]=s[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){a[e].m(t,n),insert_hydration(t,r,n),i=!0},p(t,i){let l=e;e=o(t),e===l?a[e].p(t,i):(group_outros(),transition_out(a[l],1,1,(()=>{a[l]=null})),check_outros(),n=a[e],n?n.p(t,i):(n=a[e]=s[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){i||(transition_in(n),i=!0)},o(t){transition_out(n),i=!1},d(t){a[e].d(t),t&&detach(r)}}}function create_if_block$8(t){let e,n,r,i,s,a;const o=[create_if_block_1$4,create_else_block$2],l=[];function c(t,e){return""===t[3].reaction.reaction?0:1}return n=c(t),r=l[n]=o[n](t),{c(){e=element("div"),r.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var n=children(e);r.l(n),n.forEach(detach),this.h()},h(){attr(e,"class","cloud"),set_style(e,"--color",t[10])},m(r,o){insert_hydration(r,e,o),l[n].m(e,null),i=!0,s||(a=listen(e,"click",t[12]),s=!0)},p(t,s){let a=n;n=c(t),n===a?l[n].p(t,s):(group_outros(),transition_out(l[a],1,1,(()=>{l[a]=null})),check_outros(),r=l[n],r?r.p(t,s):(r=l[n]=o[n](t),r.c()),transition_in(r,1),r.m(e,null)),(!i||1024&s)&&set_style(e,"--color",t[10])},i(t){i||(transition_in(r),i=!0)},o(t){transition_out(r),i=!1},d(t){t&&detach(e),l[n].d(),s=!1,a()}}}function create_else_block$2(t){let e,n;return e=new Thumb_down({props:{fillColor:"#fff"}}),e.$on("click",t[12]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p:noop,i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$4(t){let e,n;return e=new Thumb_up({props:{fillColor:"#fff"}}),e.$on("click",t[12]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p:noop,i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$f(t){let e,n,r,i,s,a,o,l,c,h,p,d,u,f=t[1],m=[];for(let e=0;e<f.length;e+=1)m[e]=create_each_block$2(get_each_context$2(t,f,e));const g=t=>transition_out(m[t],1,1,(()=>{m[t]=null}));let y=t[3].reaction?.reaction&&create_if_block$8(t);return c=new MessageReacton({props:{message:t[3],retryHandler:t[2](t[6]||""),msgReaction:t[3]?.reaction?.reaction,setIsHovered:t[11],showMiniReactions:t[8],showReactions:t[9]&&!t[5],showRetry:t[9],showCopy:t[9]}}),{c(){e=element("div"),n=element("p");for(let t=0;t<m.length;t+=1)m[t].c();r=space(),i=element("div"),y&&y.c(),s=space(),a=element("time"),o=text(t[0]),l=space(),create_component(c.$$.fragment),this.h()},l(h){e=claim_element(h,"DIV",{class:!0});var p=children(e);n=claim_element(p,"P",{class:!0});var d=children(n);for(let t=0;t<m.length;t+=1)m[t].l(d);d.forEach(detach),r=claim_space(p),i=claim_element(p,"DIV",{class:!0});var u=children(i);y&&y.l(u),s=claim_space(u),a=claim_element(u,"TIME",{class:!0});var f=children(a);o=claim_text(f,t[0]),f.forEach(detach),u.forEach(detach),l=claim_space(p),claim_component(c.$$.fragment,p),p.forEach(detach),this.h()},h(){attr(n,"class","received-message__text svelte-1mnwiic"),attr(a,"class","received-message__time svelte-1mnwiic"),attr(i,"class","msg-footer svelte-1mnwiic"),attr(e,"class","received-message svelte-1mnwiic"),toggle_class(e,"isFullScreen",t[4])},m(h,f){insert_hydration(h,e,f),append_hydration(e,n);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(n,null);append_hydration(e,r),append_hydration(e,i),y&&y.m(i,null),append_hydration(i,s),append_hydration(i,a),append_hydration(a,o),append_hydration(e,l),mount_component(c,e,null),t[17](e),p=!0,d||(u=[listen(e,"mouseenter",t[11](!0)),listen(e,"mouseleave",t[11](!1))],d=!0)},p(t,[r]){if(1026&r){let e;for(f=t[1],e=0;e<f.length;e+=1){const i=get_each_context$2(t,f,e);m[e]?(m[e].p(i,r),transition_in(m[e],1)):(m[e]=create_each_block$2(i),m[e].c(),transition_in(m[e],1),m[e].m(n,null))}for(group_outros(),e=f.length;e<m.length;e+=1)g(e);check_outros()}t[3].reaction?.reaction?y?(y.p(t,r),8&r&&transition_in(y,1)):(y=create_if_block$8(t),y.c(),transition_in(y,1),y.m(i,s)):y&&(group_outros(),transition_out(y,1,1,(()=>{y=null})),check_outros()),(!p||1&r)&&set_data(o,t[0]);const a={};8&r&&(a.message=t[3]),68&r&&(a.retryHandler=t[2](t[6]||"")),8&r&&(a.msgReaction=t[3]?.reaction?.reaction),256&r&&(a.showMiniReactions=t[8]),544&r&&(a.showReactions=t[9]&&!t[5]),512&r&&(a.showRetry=t[9]),512&r&&(a.showCopy=t[9]),c.$set(a),(!p||16&r)&&toggle_class(e,"isFullScreen",t[4])},i(t){if(!p){for(let t=0;t<f.length;t+=1)transition_in(m[t]);transition_in(y),transition_in(c.$$.fragment,t),h||add_render_callback((()=>{h=create_in_transition(e,fade,{}),h.start()})),p=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)transition_out(m[t]);transition_out(y),transition_out(c.$$.fragment,t),p=!1},d(n){n&&detach(e),destroy_each(m,n),y&&y.d(),destroy_component(c),t[17](null),d=!1,run_all(u)}}}function instance$e(t,e,n){let r,i,s;component_subscribe(t,conversation,(t=>n(19,i=t))),component_subscribe(t,widgetSettingsStore,(t=>n(16,s=t)));let a,{sendTime:o}=e,{code:l}=e,{retryHandler:c}=e,{message:h}=e,{isFirstOpen:p}=e,{isScrollButtonShowed:d}=e,{isFullScreen:u=!1}=e,{isLastEvaMsg:f=!1}=e,{isFirstEvaMsg:m=!1}=e,{previousUserMessage:g=""}=e,y=!1,_=!1,v=!1;onMount((()=>{const t=a.getBoundingClientRect().width;n(8,y=t<=220)})),afterUpdate((async()=>{if(f&&!v&&!p&&!d){const t=a.parentElement;t.scrollTop=0;const e=a.scrollHeight,n=59;t.scrollTop-=e-n}v=!0}));return t.$$set=t=>{"sendTime"in t&&n(0,o=t.sendTime),"code"in t&&n(1,l=t.code),"retryHandler"in t&&n(2,c=t.retryHandler),"message"in t&&n(3,h=t.message),"isFirstOpen"in t&&n(13,p=t.isFirstOpen),"isScrollButtonShowed"in t&&n(14,d=t.isScrollButtonShowed),"isFullScreen"in t&&n(4,u=t.isFullScreen),"isLastEvaMsg"in t&&n(15,f=t.isLastEvaMsg),"isFirstEvaMsg"in t&&n(5,m=t.isFirstEvaMsg),"previousUserMessage"in t&&n(6,g=t.previousUserMessage)},t.$$.update=()=>{65536&t.$$.dirty&&n(10,r=s.settings.color)},[o,l,c,h,u,m,g,a,y,_,r,t=>()=>{n(9,_=t)},()=>{n(9,_=!1),setReaction(h.id,null,"REACTION",i.id),messagesStore.setMsgReaction(h.id,null)},p,d,f,s,function(t){binding_callbacks[t?"unshift":"push"]((()=>{a=t,n(7,a)}))}]}class MessageBubbleReceive extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$e,create_fragment$f,not_equal,{sendTime:0,code:1,retryHandler:2,message:3,isFirstOpen:13,isScrollButtonShowed:14,isFullScreen:4,isLastEvaMsg:15,isFirstEvaMsg:5,previousUserMessage:6})}}function get_each_context$1(t,e,n){const r=t.slice();return r[9]=e[n],r}function create_if_block$7(t){let e,n,r,i,s,a,o,l,c,h,p,d=t[1],u=[];for(let e=0;e<d.length;e+=1)u[e]=create_each_block$1(get_each_context$1(t,d,e));const f=t=>transition_out(u[t],1,1,(()=>{u[t]=null}));return o=new MessageReacton({props:{message:t[2],showEdit:t[4],editHandler:t[3](t[2]),setIsHovered:t[6]}}),{c(){e=element("div"),n=element("p");for(let t=0;t<u.length;t+=1)u[t].c();r=space(),i=element("time"),s=text(t[0]),a=space(),create_component(o.$$.fragment),this.h()},l(l){e=claim_element(l,"DIV",{style:!0,class:!0});var c=children(e);n=claim_element(c,"P",{class:!0});var h=children(n);for(let t=0;t<u.length;t+=1)u[t].l(h);h.forEach(detach),r=claim_space(c),i=claim_element(c,"TIME",{class:!0});var p=children(i);s=claim_text(p,t[0]),p.forEach(detach),a=claim_space(c),claim_component(o.$$.fragment,c),c.forEach(detach),this.h()},h(){attr(n,"class","sent-message__text svelte-1h4ec3v"),attr(i,"class","sent-message__time svelte-1h4ec3v"),set_style(e,"--color",t[5]),attr(e,"class","sent-message svelte-1h4ec3v")},m(l,d){insert_hydration(l,e,d),append_hydration(e,n);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(n,null);append_hydration(e,r),append_hydration(e,i),append_hydration(i,s),append_hydration(e,a),mount_component(o,e,null),c=!0,h||(p=[listen(e,"mouseenter",t[6](!0)),listen(e,"mouseleave",t[6](!1))],h=!0)},p(t,r){if(2&r){let e;for(d=t[1],e=0;e<d.length;e+=1){const i=get_each_context$1(t,d,e);u[e]?(u[e].p(i,r),transition_in(u[e],1)):(u[e]=create_each_block$1(i),u[e].c(),transition_in(u[e],1),u[e].m(n,null))}for(group_outros(),e=d.length;e<u.length;e+=1)f(e);check_outros()}(!c||1&r)&&set_data(s,t[0]);const i={};4&r&&(i.message=t[2]),16&r&&(i.showEdit=t[4]),12&r&&(i.editHandler=t[3](t[2])),o.$set(i),(!c||32&r)&&set_style(e,"--color",t[5])},i(t){if(!c){for(let t=0;t<d.length;t+=1)transition_in(u[t]);transition_in(o.$$.fragment,t),l||add_render_callback((()=>{l=create_in_transition(e,fade,{}),l.start()})),c=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)transition_out(u[t]);transition_out(o.$$.fragment,t),c=!1},d(t){t&&detach(e),destroy_each(u,t),destroy_component(o),h=!1,run_all(p)}}}function create_else_block$1(t){let e,n=(t[9].content||"<br>")+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","plain-markdown")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){2&r&&n!==(n=(t[9].content||"<br>")+"")&&(e.innerHTML=n)},i:noop,o:noop,d(t){t&&detach(e)}}}function create_if_block_3$1(t){let e,n;return e=new LinkText({props:{isMsgFromUser:!0,content:t[9].content}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.content=t[9].content),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_2$2(t){let e,n;return e=new CodeWord({props:{class:"language- small-code",$$slots:{default:[create_default_slot$3]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};4098&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$3(t){let e,n;return e=new CodeBlock({props:{language:t[9].language,code:t[9].content}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.language=t[9].language),2&n&&(r.code=t[9].content),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot$3(t){let e,n,r=t[9].content+"";return{c(){e=new HtmlTagHydration(!1),n=space(),this.h()},l(t){e=claim_html_tag(t,!1),n=claim_space(t),this.h()},h(){e.a=n},m(t,i){e.m(r,t,i),insert_hydration(t,n,i)},p(t,n){2&n&&r!==(r=t[9].content+"")&&e.p(r)},d(t){t&&e.d(),t&&detach(n)}}}function create_each_block$1(t){let e,n,r,i;const s=[create_if_block_1$3,create_if_block_2$2,create_if_block_3$1,create_else_block$1],a=[];function o(t,e){return"code-block"===t[9].type?0:"code-word"===t[9].type?1:"link-text"===t[9].type?2:3}return e=o(t),n=a[e]=s[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){a[e].m(t,n),insert_hydration(t,r,n),i=!0},p(t,i){let l=e;e=o(t),e===l?a[e].p(t,i):(group_outros(),transition_out(a[l],1,1,(()=>{a[l]=null})),check_outros(),n=a[e],n?n.p(t,i):(n=a[e]=s[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){i||(transition_in(n),i=!0)},o(t){transition_out(n),i=!1},d(t){a[e].d(t),t&&detach(r)}}}function create_fragment$e(t){let e,n,r=t[1].length>0&&create_if_block$7(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,i){r&&r.m(t,i),insert_hydration(t,e,i),n=!0},p(t,[n]){t[1].length>0?r?(r.p(t,n),2&n&&transition_in(r,1)):(r=create_if_block$7(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function instance$d(t,e,n){let r,i;component_subscribe(t,widgetSettingsStore,(t=>n(8,i=t)));let{sendTime:s}=e,{code:a=[]}=e,{message:o}=e,{retryHandler:l}=e,{isLastUserMsg:c=!1}=e,h=!1;return t.$$set=t=>{"sendTime"in t&&n(0,s=t.sendTime),"code"in t&&n(1,a=t.code),"message"in t&&n(2,o=t.message),"retryHandler"in t&&n(3,l=t.retryHandler),"isLastUserMsg"in t&&n(7,c=t.isLastUserMsg)},t.$$.update=()=>{256&t.$$.dirty&&n(5,r=i.settings.color)},[s,a,o,l,h,r,t=>()=>{n(4,h=t)},c,i]}class MessageBubbleSent extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$d,create_fragment$e,not_equal,{sendTime:0,code:1,message:2,retryHandler:3,isLastUserMsg:7})}}function create_fragment$d(t){let e,n,r,i,s,a,o,l,c,h,p,d,u,f,m,g=t[0]("evahelper.message.typing")+"";return{c(){e=element("div"),n=element("div"),r=element("p"),i=element("i"),s=text(g),a=space(),o=element("i"),l=text("."),c=space(),h=element("i"),p=text("."),d=space(),u=element("i"),f=text("."),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var m=children(e);n=claim_element(m,"DIV",{class:!0});var y=children(n);r=claim_element(y,"P",{class:!0});var _=children(r);i=claim_element(_,"I",{class:!0});var v=children(i);s=claim_text(v,g),v.forEach(detach),a=claim_space(_),o=claim_element(_,"I",{class:!0});var b=children(o);l=claim_text(b,"."),b.forEach(detach),c=claim_space(_),h=claim_element(_,"I",{class:!0});var x=children(h);p=claim_text(x,"."),x.forEach(detach),d=claim_space(_),u=claim_element(_,"I",{class:!0});var E=children(u);f=claim_text(E,"."),E.forEach(detach),_.forEach(detach),y.forEach(detach),m.forEach(detach),this.h()},h(){attr(i,"class","dot1 svelte-xskl8j"),attr(o,"class","dot1 svelte-xskl8j"),attr(h,"class","dot2 svelte-xskl8j"),attr(u,"class","dot3 svelte-xskl8j"),attr(r,"class","text svelte-xskl8j"),attr(n,"class","body svelte-xskl8j"),attr(e,"class","typing-message svelte-xskl8j")},m(t,m){insert_hydration(t,e,m),append_hydration(e,n),append_hydration(n,r),append_hydration(r,i),append_hydration(i,s),append_hydration(r,a),append_hydration(r,o),append_hydration(o,l),append_hydration(r,c),append_hydration(r,h),append_hydration(h,p),append_hydration(r,d),append_hydration(r,u),append_hydration(u,f)},p(t,[e]){1&e&&g!==(g=t[0]("evahelper.message.typing")+"")&&set_data(s,g)},i(t){m||add_render_callback((()=>{m=create_in_transition(n,fade,{}),m.start()}))},o:noop,d(t){t&&detach(e)}}}function instance$c(e,n,r){let i;return component_subscribe(e,t,(t=>r(0,i=t))),[i]}class MessageBubbleTyping extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$c,create_fragment$d,not_equal,{})}}function create_fragment$c(t){let e,n,r;var i=t[11];function s(t){return{props:{code:t[9],isFirstEvaMsg:t[3],isFirstOpen:t[6],isFullScreen:t[5],isLastEvaMsg:t[2],isLastUserMsg:t[4],isScrollButtonShowed:t[7],message:t[1],retryHandler:t[0],sendTime:t[10],previousUserMessage:t[8]}}}return i&&(e=construct_svelte_component(i,s(t))),{c(){e&&create_component(e.$$.fragment),n=empty()},l(t){e&&claim_component(e.$$.fragment,t),n=empty()},m(t,i){e&&mount_component(e,t,i),insert_hydration(t,n,i),r=!0},p(t,[r]){const a={};if(512&r&&(a.code=t[9]),8&r&&(a.isFirstEvaMsg=t[3]),64&r&&(a.isFirstOpen=t[6]),32&r&&(a.isFullScreen=t[5]),4&r&&(a.isLastEvaMsg=t[2]),16&r&&(a.isLastUserMsg=t[4]),128&r&&(a.isScrollButtonShowed=t[7]),2&r&&(a.message=t[1]),1&r&&(a.retryHandler=t[0]),1024&r&&(a.sendTime=t[10]),256&r&&(a.previousUserMessage=t[8]),2048&r&&i!==(i=t[11])){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}i?(e=construct_svelte_component(i,s(t)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&transition_in(e.$$.fragment,t),r=!0)},o(t){e&&transition_out(e.$$.fragment,t),r=!1},d(t){t&&detach(n),e&&destroy_component(e,t)}}}function instance$b(t,e,n){let{retryHandler:r}=e,{message:i=null}=e,{isLastEvaMsg:s=!1}=e,{isFirstEvaMsg:a=!1}=e,{isLastUserMsg:o=!1}=e,{isFullScreen:l=!1}=e,{isFirstOpen:c}=e,{isScrollButtonShowed:h}=e,{previousUserMessage:p=null}=e;const{formatTextToCodeTokens:d}=useCodeFormatter();let u,f,m;onMount((()=>{n(9,u=i?.typing?"":d(i?.text)),n(10,f=i?.typing?"":dateFormat(new Date(Date.parse(i?.sendTime))," hh:MM TT")),n(11,m=g(i))}));const g=({senderId:t,typing:e})=>t?MessageBubbleSent:e?MessageBubbleTyping:MessageBubbleReceive;return t.$$set=t=>{"retryHandler"in t&&n(0,r=t.retryHandler),"message"in t&&n(1,i=t.message),"isLastEvaMsg"in t&&n(2,s=t.isLastEvaMsg),"isFirstEvaMsg"in t&&n(3,a=t.isFirstEvaMsg),"isLastUserMsg"in t&&n(4,o=t.isLastUserMsg),"isFullScreen"in t&&n(5,l=t.isFullScreen),"isFirstOpen"in t&&n(6,c=t.isFirstOpen),"isScrollButtonShowed"in t&&n(7,h=t.isScrollButtonShowed),"previousUserMessage"in t&&n(8,p=t.previousUserMessage)},[r,i,s,a,o,l,c,h,p,u,f,m]}class Message extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$b,create_fragment$c,not_equal,{retryHandler:0,message:1,isLastEvaMsg:2,isFirstEvaMsg:3,isLastUserMsg:4,isFullScreen:5,isFirstOpen:6,isScrollButtonShowed:7,previousUserMessage:8})}}function create_fragment$b(t){let e,n,r,i,s,a,o,l,c;return{c(){e=element("button"),n=svg_element("svg"),r=svg_element("circle"),i=svg_element("path"),this.h()},l(t){e=claim_element(t,"BUTTON",{class:!0});var s=children(e);n=claim_svg_element(s,"svg",{class:!0,viewBox:!0,fill:!0,xmlns:!0});var a=children(n);r=claim_svg_element(a,"circle",{cx:!0,cy:!0,r:!0,transform:!0,class:!0}),children(r).forEach(detach),i=claim_svg_element(a,"path",{class:!0,style:!0,d:!0}),children(i).forEach(detach),a.forEach(detach),s.forEach(detach),this.h()},h(){attr(r,"cx","99.999"),attr(r,"cy","100.005"),attr(r,"r","95"),attr(r,"transform","rotate(-90 99.999 100.005)"),attr(r,"class","scroll-button__circle svelte-1cqqdtr"),attr(i,"class","scroll-button__arrow svelte-1cqqdtr"),set_style(i,"--color",t[0]),attr(i,"d","M105.02 136.95C102.286 139.683 97.8542 139.683 95.1206 136.95L50.5728 92.4018C47.8392 89.6682 47.8392 85.236 50.5728 82.5024C53.3065 79.7687 57.7387 79.7687 60.4723 82.5024L100.07 122.1L139.668 82.5024C142.402 79.7687 146.834 79.7687 149.568 82.5024C152.301 85.236 152.301 89.6682 149.568 92.4018L105.02 136.95ZM107.07 131.858V132H93.0703V131.858H107.07Z"),attr(n,"class","scroll-button-icon svelte-1cqqdtr"),attr(n,"viewBox","0 0 200 200"),attr(n,"fill","none"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","scroll-button svelte-1cqqdtr")},m(s,a){insert_hydration(s,e,a),append_hydration(e,n),append_hydration(n,r),append_hydration(n,i),o=!0,l||(c=listen(e,"click",stop_propagation(t[1])),l=!0)},p(t,[e]){(!o||1&e)&&set_style(i,"--color",t[0])},i(t){o||(add_render_callback((()=>{o&&(a&&a.end(1),s=create_in_transition(e,fly,{delay:100,duration:400,y:40}),s.start())})),o=!0)},o(t){s&&s.invalidate(),a=create_out_transition(e,fly,{delay:100,duration:400,y:40}),o=!1},d(t){t&&detach(e),t&&a&&a.end(),l=!1,c()}}}function instance$a(t,e,n){let r,i;component_subscribe(t,widgetSettingsStore,(t=>n(2,i=t)));const s=createEventDispatcher();return t.$$.update=()=>{4&t.$$.dirty&&n(0,r=i.settings.color)},[r,()=>s("click"),i]}class ScrollButton extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$a,create_fragment$b,not_equal,{})}}function get_each_context(t,e,n){const r=t.slice();return r[27]=e[n],r}function create_else_block(t){let e,n;return e=new Loader({}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p:noop,i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_3(t){let e,n,r=[],i=new Map,s=t[10].messageIds;const a=t=>t[27];for(let e=0;e<s.length;e+=1){let n=get_each_context(t,s,e),o=a(n);i.set(o,r[e]=create_each_block(o,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=empty()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=empty()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);insert_hydration(t,e,i),n=!0},p(t,n){130096&n&&(s=t[10].messageIds,group_outros(),r=update_keyed_each(r,n,a,1,t,s,i,e.parentNode,outro_and_destroy_block,create_each_block,e,get_each_context),check_outros())},i(t){if(!n){for(let t=0;t<s.length;t+=1)transition_in(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)transition_out(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&detach(e)}}}function create_each_block(t,e){let n,r,i;return r=new Message({props:{message:e[10].messages[e[27]],isFullScreen:e[11].isFullScreen,isFirstOpen:e[5],isScrollButtonShowed:e[4],isLastEvaMsg:e[12](e[27]),isFirstEvaMsg:e[14](e[27]),isLastUserMsg:e[13](e[27]),previousUserMessage:e[15](e[27]),retryHandler:e[16]}}),{key:t,first:null,c(){n=empty(),create_component(r.$$.fragment),this.h()},l(t){n=empty(),claim_component(r.$$.fragment,t),this.h()},h(){this.first=n},m(t,e){insert_hydration(t,n,e),mount_component(r,t,e),i=!0},p(t,n){e=t;const i={};1024&n&&(i.message=e[10].messages[e[27]]),2048&n&&(i.isFullScreen=e[11].isFullScreen),32&n&&(i.isFirstOpen=e[5]),16&n&&(i.isScrollButtonShowed=e[4]),1024&n&&(i.isLastEvaMsg=e[12](e[27])),1024&n&&(i.isFirstEvaMsg=e[14](e[27])),1024&n&&(i.isLastUserMsg=e[13](e[27])),1024&n&&(i.previousUserMessage=e[15](e[27])),r.$set(i)},i(t){i||(transition_in(r.$$.fragment,t),i=!0)},o(t){transition_out(r.$$.fragment,t),i=!1},d(t){t&&detach(n),destroy_component(r,t)}}}function create_if_block_2$1(t){let e,n;return e=new ScrollButton({}),e.$on("click",(function(){is_function(t[6]?.scrollToBottom)&&t[6]?.scrollToBottom.apply(this,arguments)})),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(e,n){t=e},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block$6(t){let e,n;return e=new Modal({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:t}}}),e.$on("close",modalStore.closeModal),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1073742081&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$2(t){let e,n,r;const i=[t[0].children.props];var s=t[8];function a(t){let e={};for(let t=0;t<i.length;t+=1)e=assign(e,i[t]);return{props:e}}return s&&(e=construct_svelte_component(s,a())),{c(){e&&create_component(e.$$.fragment),n=empty()},l(t){e&&claim_component(e.$$.fragment,t),n=empty()},m(t,i){e&&mount_component(e,t,i),insert_hydration(t,n,i),r=!0},p(t,r){const o=1&r?get_spread_update(i,[get_spread_object(t[0].children.props)]):{};if(256&r&&s!==(s=t[8])){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}s?(e=construct_svelte_component(s,a()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,n.parentNode,n)):e=null}else s&&e.$set(o)},i(t){r||(e&&transition_in(e.$$.fragment,t),r=!0)},o(t){e&&transition_out(e.$$.fragment,t),r=!1},d(t){t&&detach(n),e&&destroy_component(e,t)}}}function create_default_slot$2(t){let e,n,r=t[8]&&create_if_block_1$2(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,i){r&&r.m(t,i),insert_hydration(t,e,i),n=!0},p(t,n){t[8]?r?(r.p(t,n),256&n&&transition_in(r,1)):(r=create_if_block_1$2(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function create_fragment$a(t){let e,n,r,i,s,a,o,l,c,h,p,d,u;const f=[create_if_block_3,create_else_block],m=[];function g(t,e){return t[7]?0:1}i=g(t),s=m[i]=f[i](t);let y=t[4]&&create_if_block_2$1(t),_=t[9]&&create_if_block$6(t);return{c(){e=element("main"),n=element("div"),r=space(),s.c(),a=space(),o=element("div"),l=element("div"),c=space(),h=element("div"),y&&y.c(),p=space(),_&&_.c(),d=empty(),this.h()},l(t){e=claim_element(t,"MAIN",{class:!0});var i=children(e);n=claim_element(i,"DIV",{class:!0}),children(n).forEach(detach),r=claim_space(i),s.l(i),a=claim_space(i),o=claim_element(i,"DIV",{class:!0});var u=children(o);l=claim_element(u,"DIV",{class:!0}),children(l).forEach(detach),u.forEach(detach),i.forEach(detach),c=claim_space(t),h=claim_element(t,"DIV",{class:!0});var f=children(h);y&&y.l(f),f.forEach(detach),p=claim_space(t),_&&_.l(t),d=empty(),this.h()},h(){attr(n,"class","messages__scroller-footer svelte-18c6x6s"),attr(l,"class","messages__scroller-header svelte-18c6x6s"),attr(o,"class","messages__scroller-header-wrapper svelte-18c6x6s"),attr(e,"class","messages svelte-18c6x6s"),attr(h,"class","btn-wrapper svelte-18c6x6s")},m(s,f){insert_hydration(s,e,f),append_hydration(e,n),t[18](n),append_hydration(e,r),m[i].m(e,null),append_hydration(e,a),append_hydration(e,o),append_hydration(o,l),t[19](l),t[20](e),insert_hydration(s,c,f),insert_hydration(s,h,f),y&&y.m(h,null),insert_hydration(s,p,f),_&&_.m(s,f),insert_hydration(s,d,f),u=!0},p(t,[n]){let r=i;i=g(t),i===r?m[i].p(t,n):(group_outros(),transition_out(m[r],1,1,(()=>{m[r]=null})),check_outros(),s=m[i],s?s.p(t,n):(s=m[i]=f[i](t),s.c()),transition_in(s,1),s.m(e,a)),t[4]?y?(y.p(t,n),16&n&&transition_in(y,1)):(y=create_if_block_2$1(t),y.c(),transition_in(y,1),y.m(h,null)):y&&(group_outros(),transition_out(y,1,1,(()=>{y=null})),check_outros()),t[9]?_?(_.p(t,n),512&n&&transition_in(_,1)):(_=create_if_block$6(t),_.c(),transition_in(_,1),_.m(d.parentNode,d)):_&&(group_outros(),transition_out(_,1,1,(()=>{_=null})),check_outros())},i(t){u||(transition_in(s),transition_in(y),transition_in(_),u=!0)},o(t){transition_out(s),transition_out(y),transition_out(_),u=!1},d(n){n&&detach(e),t[18](null),m[i].d(),t[19](null),t[20](null),n&&detach(c),n&&detach(h),y&&y.d(),n&&detach(p),_&&_.d(n),n&&detach(d)}}}function instance$9(t,e,n){let r,i,s,a,o,l,c,h,p,d;component_subscribe(t,messagesStore,(t=>n(10,s=t))),component_subscribe(t,conversation,(t=>n(23,a=t))),component_subscribe(t,modalStore,(t=>n(0,o=t))),component_subscribe(t,widgetRuntimeStore,(t=>n(11,l=t)));let u,f,m,g=!1,y=!0,{setInputValue:_}=e;onMount((()=>{n(5,y=!0),c=authStore.subscribe((({isSocketConnectionEstablished:t})=>{n(7,m=t),t&&(v(),b())}))})),onDestroy((()=>{u?.disconnect(),f?.disconnect(),c()})),afterUpdate((()=>{const t=Boolean(s.typingMessageId)&&s.isUserMsgSend;s.isUserMsgSend&&n(5,y=!1),t&&setTimeout((()=>{messagesStore.setIsUserMsgSend(!1),g&&u?.scrollToBottom()}),0)}));const v=()=>{n(6,u=useIntersectionObserver()),u.createObserver({root:h,callback:t=>t.forEach((({isIntersecting:t})=>n(4,g=!t)))}),d&&u.observe(d)},b=()=>{f=useIntersectionObserver(),f.createObserver({root:h,customOptions:{threshold:0},callback:t=>t.forEach((({intersectionRatio:t})=>{t>0&&m&&x(a.id)}))}),p&&f.observe(p)},x=t=>{const{size:e,page:n,sortDirection:r,isLastPage:i}=s;i||(getMessages({size:e,page:n,sortDirection:r,conversationId:t}),messagesStore.incrementPage())};return t.$$set=t=>{"setInputValue"in t&&n(17,_=t.setInputValue)},t.$$.update=()=>{1&t.$$.dirty&&n(9,r=o.showModal),1&t.$$.dirty&&n(8,i=o.children.component)},[o,h,p,d,g,y,u,m,i,r,s,l,t=>{const e=s?.messageIds[0],n=1===s?.messageIds.length,{id:r,senderId:i}=s.messages[e];return t===r&&!i&&!n},t=>{const e=s?.messageIds[1],n=s.messages[e];return Boolean(t===n?.id&&n?.senderId)},t=>{const e=s?.messageIds[s?.messageIds.length-1],{id:n,senderId:r}=s.messages[e];return t===n&&!r},t=>{const e=s?.messageIds.findIndex((e=>e===t));if(-1===e)return null;for(let t=e+1;t<s?.messageIds.length;t++){const e=s.messages[s?.messageIds[t]];if(e?.senderId)return e}return null},t=>()=>{_(t.text)},_,function(t){binding_callbacks[t?"unshift":"push"]((()=>{d=t,n(3,d)}))},function(t){binding_callbacks[t?"unshift":"push"]((()=>{p=t,n(2,p)}))},function(t){binding_callbacks[t?"unshift":"push"]((()=>{h=t,n(1,h)}))}]}class Messages extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$9,create_fragment$a,not_equal,{setInputValue:17})}}function create_if_block$5(t){let e,n,r,i;return{c(){e=element("div"),n=text("Powered by "),r=element("a"),i=text("Evahelp.ai"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var s=children(e);n=claim_text(s,"Powered by "),r=claim_element(s,"A",{style:!0,class:!0,href:!0,target:!0});var a=children(r);i=claim_text(a,"Evahelp.ai"),a.forEach(detach),s.forEach(detach),this.h()},h(){set_style(r,"--color",t[2]),attr(r,"class","eva-link"),attr(r,"href",t[0]),attr(r,"target","_blank"),attr(e,"class","plate svelte-1s02hci")},m(t,s){insert_hydration(t,e,s),append_hydration(e,n),append_hydration(e,r),append_hydration(r,i)},p(t,e){4&e&&set_style(r,"--color",t[2]),1&e&&attr(r,"href",t[0])},d(t){t&&detach(e)}}}function create_fragment$9(t){let e,n=t[1]&&create_if_block$5(t);return{c(){n&&n.c(),e=empty()},l(t){n&&n.l(t),e=empty()},m(t,r){n&&n.m(t,r),insert_hydration(t,e,r)},p(t,[r]){t[1]?n?n.p(t,r):(n=create_if_block$5(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:noop,o:noop,d(t){n&&n.d(t),t&&detach(e)}}}function instance$8(t,e,n){let r,i,s,a,o;return component_subscribe(t,widgetSettingsStore,(t=>n(4,o=t))),t.$$.update=()=>{16&t.$$.dirty&&n(2,r=o.settings.color),16&t.$$.dirty&&n(1,i=o.settings.showNamePlate),16&t.$$.dirty&&n(3,s=o.settings.language),8&t.$$.dirty&&n(0,a="RU"===s?"https://evahelp.ai/ru":"https://evahelp.ai")},[a,i,r,s,o]}class NamePlate extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$8,create_fragment$9,not_equal,{})}}function create_fragment$8(t){let e,n,r,i,s,a,o,l,c,h,p,d,u;return r=new ChatHeader({props:{isFullScreen:t[6].isFullScreen,isTyping:Boolean(t[7].typingMessageId)}}),r.$on("click:close",t[8]),r.$on("click:fullscreen",widgetRuntimeStore.toggleFullScreen),s=new Messages({props:{setInputValue:t[9]}}),o=new Controls({props:{value:t[4]}}),o.$on("input",t[12]),c=new NamePlate({}),{c(){e=element("div"),n=element("div"),create_component(r.$$.fragment),i=space(),create_component(s.$$.fragment),a=space(),create_component(o.$$.fragment),l=space(),create_component(c.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var h=children(e);n=claim_element(h,"DIV",{class:!0});var p=children(n);claim_component(r.$$.fragment,p),i=claim_space(p),claim_component(s.$$.fragment,p),a=claim_space(p),claim_component(o.$$.fragment,p),l=claim_space(p),claim_component(c.$$.fragment,p),p.forEach(detach),h.forEach(detach),this.h()},h(){attr(n,"class","message-form-inner svelte-wb11cf"),toggle_class(n,"message-form-fly-in",t[0]),toggle_class(n,"message-form-fly-in-mirrored",t[2]),toggle_class(n,"message-form-fly-in-centered",t[1]),attr(e,"class","message-form svelte-wb11cf"),attr(e,"style",t[5]),toggle_class(e,"isFullScreen",t[6].isFullScreen),toggle_class(e,"message-form-fly-out",t[3]&&t[0]),toggle_class(e,"message-form-fly-out-mirrored",t[3]&&t[2]),toggle_class(e,"message-form-fly-out-centered",t[3]&&t[1]),toggle_class(e,"message-form-mirrored",t[2])},m(h,f){insert_hydration(h,e,f),append_hydration(e,n),mount_component(r,n,null),append_hydration(n,i),mount_component(s,n,null),append_hydration(n,a),mount_component(o,n,null),append_hydration(n,l),mount_component(c,n,null),p=!0,d||(u=[listen(e,"click_outside",t[8]),action_destroyer(clickOutside.call(null,e))],d=!0)},p(t,[i]){const s={};64&i&&(s.isFullScreen=t[6].isFullScreen),128&i&&(s.isTyping=Boolean(t[7].typingMessageId)),r.$set(s);const a={};16&i&&(a.value=t[4]),o.$set(a),(!p||1&i)&&toggle_class(n,"message-form-fly-in",t[0]),(!p||4&i)&&toggle_class(n,"message-form-fly-in-mirrored",t[2]),(!p||2&i)&&toggle_class(n,"message-form-fly-in-centered",t[1]),(!p||32&i)&&attr(e,"style",t[5]),(!p||64&i)&&toggle_class(e,"isFullScreen",t[6].isFullScreen),(!p||9&i)&&toggle_class(e,"message-form-fly-out",t[3]&&t[0]),(!p||12&i)&&toggle_class(e,"message-form-fly-out-mirrored",t[3]&&t[2]),(!p||10&i)&&toggle_class(e,"message-form-fly-out-centered",t[3]&&t[1]),(!p||4&i)&&toggle_class(e,"message-form-mirrored",t[2])},i(t){p||(transition_in(r.$$.fragment,t),transition_in(s.$$.fragment,t),transition_in(o.$$.fragment,t),transition_in(c.$$.fragment,t),h&&h.end(1),p=!0)},o(t){transition_out(r.$$.fragment,t),transition_out(s.$$.fragment,t),transition_out(o.$$.fragment,t),transition_out(c.$$.fragment,t),h=create_out_transition(e,fade,{delay:200,duration:0}),p=!1},d(t){t&&detach(e),destroy_component(r),destroy_component(s),destroy_component(o),destroy_component(c),t&&h&&h.end(),d=!1,run_all(u)}}}function instance$7(t,e,n){let r,i,s,a,o,l,c,h;component_subscribe(t,widgetSettingsStore,(t=>n(11,l=t))),component_subscribe(t,widgetRuntimeStore,(t=>n(6,c=t))),component_subscribe(t,messagesStore,(t=>n(7,h=t)));let p=!1,d="";const u=t=>{n(4,d=t)};return t.$$.update=()=>{2048&t.$$.dirty&&n(10,r=l.settings),1024&t.$$.dirty&&n(2,i="BOTTOM_LEFT"===r?.position?.align),1024&t.$$.dirty&&n(1,s="BOTTOM_CENTER"===r?.position?.align),1024&t.$$.dirty&&n(0,a="BOTTOM_RIGHT"===r?.position?.align),7&t.$$.dirty&&n(5,o=`\n    ${i?"left: 15px; right: auto;":""}\n    ${s?"left: 50%; transform: translateX(-50%);":""}\n    ${a?"right: 15px; left: auto;":""}\n  `)},[a,s,i,p,d,o,c,h,()=>{n(3,p=!0),modalStore.closeModal(),setTimeout((()=>{widgetRuntimeStore.setChatVisibility(!1)}),200)},u,r,l,t=>u(t.detail)]}class MessageForm extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$7,create_fragment$8,not_equal,{})}}function create_fragment$7(t){let e,n,r,i,s;return{c(){e=element("div"),n=svg_element("svg"),r=svg_element("circle"),i=svg_element("path"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var s=children(e);n=claim_svg_element(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var a=children(n);r=claim_svg_element(a,"circle",{style:!0,class:!0,cx:!0,cy:!0,r:!0}),children(r).forEach(detach),i=claim_svg_element(a,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),children(i).forEach(detach),a.forEach(detach),s.forEach(detach),this.h()},h(){set_style(r,"--color",t[0]?"white":t[2]),attr(r,"class","close-icon__circle svelte-3z9ht9"),attr(r,"cx","11"),attr(r,"cy","11"),attr(r,"r","11"),attr(i,"fill-rule","evenodd"),attr(i,"clip-rule","evenodd"),attr(i,"d","M6.76993 5.72018C6.47964 5.42856 6.00899 5.42856 5.71869 5.72018C5.4284 6.0118 5.4284 6.48461 5.71869 6.77623L9.95292 11.0299L5.77481 15.2271C5.48452 15.5187 5.48452 15.9915 5.77481 16.2832C6.0651 16.5748 6.53576 16.5748 6.82605 16.2832L11.0042 12.0859L15.1798 16.2807C15.4701 16.5723 15.9408 16.5723 16.231 16.2807C16.5213 15.9891 16.5213 15.5163 16.231 15.2247L12.0554 11.0299L16.2872 6.77869C16.5775 6.48707 16.5775 6.01426 16.2872 5.72264C15.9969 5.43102 15.5262 5.43102 15.2359 5.72264L11.0042 9.97381L6.76993 5.72018Z"),attr(i,"fill",s=t[0]?"#C7C7C7":"#F2F2F7"),attr(n,"width","24"),attr(n,"height","24"),attr(n,"viewBox","0 0 22 22"),attr(n,"fill","none"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"class","close-icon__svg svelte-3z9ht9"),attr(e,"class","close-icon svelte-3z9ht9"),set_style(e,"--shadowColor",t[0]?"rgb(255,255,255)":t[1])},m(t,s){insert_hydration(t,e,s),append_hydration(e,n),append_hydration(n,r),append_hydration(n,i)},p(t,[n]){5&n&&set_style(r,"--color",t[0]?"white":t[2]),1&n&&s!==(s=t[0]?"#C7C7C7":"#F2F2F7")&&attr(i,"fill",s),3&n&&set_style(e,"--shadowColor",t[0]?"rgb(255,255,255)":t[1])},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$6(t,e,n){let r,i,s,a;return component_subscribe(t,widgetSettingsStore,(t=>n(3,a=t))),t.$$.update=()=>{8&t.$$.dirty&&n(2,r=a.settings.color),8&t.$$.dirty&&n(1,i=a.settings.shadowColor),8&t.$$.dirty&&n(0,s=a.isVisibleHints)},[s,i,r,a]}class CloseIcon extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$6,create_fragment$7,not_equal,{})}}function create_fragment$6(t){let e,n,r,i;return{c(){e=svg_element("svg"),n=svg_element("rect"),r=svg_element("g"),i=svg_element("polygon"),this.h()},l(t){e=claim_svg_element(t,"svg",{height:!0,viewBox:!0,width:!0,xmlns:!0});var s=children(e);n=claim_svg_element(s,"rect",{fill:!0,height:!0,width:!0}),children(n).forEach(detach),r=claim_svg_element(s,"g",{});var a=children(r);i=claim_svg_element(a,"polygon",{fill:!0,points:!0}),children(i).forEach(detach),a.forEach(detach),s.forEach(detach),this.h()},h(){attr(n,"fill","none"),attr(n,"height","24"),attr(n,"width","24"),attr(i,"fill","white"),attr(i,"points","17.77,3.77 16,2 6,12 16,22 17.77,20.23 9.54,12"),attr(e,"height","24"),attr(e,"viewBox","0 0 24 24"),attr(e,"width","24"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,s){insert_hydration(t,e,s),append_hydration(e,n),append_hydration(e,r),append_hydration(r,i)},p:noop,i:noop,o:noop,d(t){t&&detach(e)}}}class Arrow extends SvelteComponent{constructor(t){super(),init$1(this,t,null,create_fragment$6,not_equal,{})}}function create_if_block$4(t){let e,n,r,i,s,a;return n=new Arrow({}),{c(){e=element("div"),create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"class","curtain-container svelte-19bcs29"),set_style(e,"--color",t[2]),toggle_class(e,"curtain-container-mirrored",t[0])},m(r,o){insert_hydration(r,e,o),mount_component(n,e,null),i=!0,s||(a=listen(e,"click",t[3]),s=!0)},p(t,n){(!i||4&n)&&set_style(e,"--color",t[2]),(!i||1&n)&&toggle_class(e,"curtain-container-mirrored",t[0])},i(t){i||(transition_in(n.$$.fragment,t),add_render_callback((()=>{i&&(r||(r=create_bidirectional_transition(e,fade,{delay:100,duration:200},!0)),r.run(1))})),i=!0)},o(t){transition_out(n.$$.fragment,t),r||(r=create_bidirectional_transition(e,fade,{delay:100,duration:200},!1)),r.run(0),i=!1},d(t){t&&detach(e),destroy_component(n),t&&r&&r.end(),s=!1,a()}}}function create_fragment$5(t){let e,n,r=!t[1]&&create_if_block$4(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,i){r&&r.m(t,i),insert_hydration(t,e,i),n=!0},p(t,[n]){t[1]?r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros()):r?(r.p(t,n),2&n&&transition_in(r,1)):(r=create_if_block$4(t),r.c(),transition_in(r,1),r.m(e.parentNode,e))},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function instance$5(t,e,n){let r,i,s,a;component_subscribe(t,widgetSettingsStore,(t=>n(4,a=t)));return t.$$.update=()=>{16&t.$$.dirty&&n(2,r=a.settings.color),16&t.$$.dirty&&n(1,i=a.isVisibleIcon),16&t.$$.dirty&&n(0,s="BOTTOM_LEFT"===a.settings?.position?.align)},[s,i,r,()=>{widgetSettingsStore.showIconAndHints()},a]}class Curtain extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$5,create_fragment$5,not_equal,{})}}const replaceLocalesGag=(t,e)=>t.replace(LOCALES_GAG,e);function create_fragment$4(t){let e,n;const r=t[2].default,i=create_slot(r,t,t[1],null);return{c(){e=element("div"),i&&i.c(),this.h()},l(t){e=claim_element(t,"DIV",{"data-tooltip":!0,class:!0});var n=children(e);i&&i.l(n),n.forEach(detach),this.h()},h(){attr(e,"data-tooltip",t[0]),attr(e,"class","svelte-szami9")},m(t,r){insert_hydration(t,e,r),i&&i.m(e,null),n=!0},p(t,[s]){i&&i.p&&(!n||2&s)&&update_slot_base(i,r,t,t[1],n?get_slot_changes(r,t[1],s,null):get_all_dirty_from_scope(t[1]),null),(!n||1&s)&&attr(e,"data-tooltip",t[0])},i(t){n||(transition_in(i,t),n=!0)},o(t){transition_out(i,t),n=!1},d(t){t&&detach(e),i&&i.d(t)}}}function instance$4(t,e,n){let{$$slots:r={},$$scope:i}=e,{tooltip:s=!1}=e;return t.$$set=t=>{"tooltip"in t&&n(0,s=t.tooltip),"$$scope"in t&&n(1,i=t.$$scope)},[s,i,r]}class Tooltip extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$4,create_fragment$4,not_equal,{tooltip:0})}}function create_if_block$3(t){let e,n,r,i,s,a,o,l,c,h,p,d=t[1]&&create_if_block_2(t),u=t[5]&&create_if_block_1$1(t);return s=new CloseIcon({}),{c(){d&&d.c(),e=space(),n=element("div"),u&&u.c(),r=space(),i=element("button"),create_component(s.$$.fragment),a=space(),o=element("div"),l=text(t[0]),this.h()},l(c){d&&d.l(c),e=claim_space(c),n=claim_element(c,"DIV",{class:!0});var h=children(n);u&&u.l(h),r=claim_space(h),i=claim_element(h,"BUTTON",{type:!0,class:!0});var p=children(i);claim_component(s.$$.fragment,p),p.forEach(detach),h.forEach(detach),a=claim_space(c),o=claim_element(c,"DIV",{class:!0,style:!0});var f=children(o);l=claim_text(f,t[0]),f.forEach(detach),this.h()},h(){attr(i,"type","button"),attr(i,"class","close-btn svelte-8jwq71"),attr(n,"class","welcome-container svelte-8jwq71"),attr(o,"class","message hint-message svelte-8jwq71"),set_style(o,"--color",t[7]),set_style(o,"--shadowColor",t[8]),toggle_class(o,"welcome-message-mirrored",t[4])},m(f,m){d&&d.m(f,m),insert_hydration(f,e,m),insert_hydration(f,n,m),u&&u.m(n,null),append_hydration(n,r),append_hydration(n,i),mount_component(s,i,null),insert_hydration(f,a,m),insert_hydration(f,o,m),append_hydration(o,l),c=!0,h||(p=[listen(i,"click",stop_propagation((function(){is_function(t[12](!t[1]))&&t[12](!t[1]).apply(this,arguments)}))),listen(o,"click",t[10])],h=!0)},p(i,s){(t=i)[1]?d?(d.p(t,s),2&s&&transition_in(d,1)):(d=create_if_block_2(t),d.c(),transition_in(d,1),d.m(e.parentNode,e)):d&&(group_outros(),transition_out(d,1,1,(()=>{d=null})),check_outros()),t[5]?u?u.p(t,s):(u=create_if_block_1$1(t),u.c(),u.m(n,r)):u&&(u.d(1),u=null),(!c||1&s)&&set_data(l,t[0]),(!c||128&s)&&set_style(o,"--color",t[7]),(!c||256&s)&&set_style(o,"--shadowColor",t[8]),(!c||16&s)&&toggle_class(o,"welcome-message-mirrored",t[4])},i(t){c||(transition_in(d),transition_in(s.$$.fragment,t),c=!0)},o(t){transition_out(d),transition_out(s.$$.fragment,t),c=!1},d(t){d&&d.d(t),t&&detach(e),t&&detach(n),u&&u.d(),destroy_component(s),t&&detach(a),t&&detach(o),h=!1,run_all(p)}}}function create_if_block_2(t){let e,n,r,i,s,a;return n=new Tooltip({props:{tooltip:t[9]("evahelper.widget.hideHintsTooltip"),$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}}}),s=new Tooltip({props:{tooltip:t[9]("evahelper.widget.hideHintsAndIconTooltip"),$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),{c(){e=element("div"),create_component(n.$$.fragment),r=space(),i=element("div"),create_component(s.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var a=children(e);claim_component(n.$$.fragment,a),a.forEach(detach),r=claim_space(t),i=claim_element(t,"DIV",{class:!0});var o=children(i);claim_component(s.$$.fragment,o),o.forEach(detach),this.h()},h(){attr(e,"class","closeOption svelte-8jwq71"),toggle_class(e,"close-option-mirrored",t[4]),attr(i,"class","closeOption svelte-8jwq71"),toggle_class(i,"close-option-mirrored",t[4])},m(t,o){insert_hydration(t,e,o),mount_component(n,e,null),insert_hydration(t,r,o),insert_hydration(t,i,o),mount_component(s,i,null),a=!0},p(t,r){const o={};512&r&&(o.tooltip=t[9]("evahelper.widget.hideHintsTooltip")),33280&r&&(o.$$scope={dirty:r,ctx:t}),n.$set(o),(!a||16&r)&&toggle_class(e,"close-option-mirrored",t[4]);const l={};512&r&&(l.tooltip=t[9]("evahelper.widget.hideHintsAndIconTooltip")),33344&r&&(l.$$scope={dirty:r,ctx:t}),s.$set(l),(!a||16&r)&&toggle_class(i,"close-option-mirrored",t[4])},i(t){a||(transition_in(n.$$.fragment,t),transition_in(s.$$.fragment,t),a=!0)},o(t){transition_out(n.$$.fragment,t),transition_out(s.$$.fragment,t),a=!1},d(t){t&&detach(e),destroy_component(n),t&&detach(r),t&&detach(i),destroy_component(s)}}}function create_default_slot_1(t){let e,n,r,i,s=t[9]("evahelper.widget.hideHints")+"";return{c(){e=element("div"),n=text(s),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var r=children(e);n=claim_text(r,s),r.forEach(detach),this.h()},h(){attr(e,"class","message welcome-message tooltip-message svelte-8jwq71")},m(t,s){insert_hydration(t,e,s),append_hydration(e,n),r||(i=listen(e,"click",widgetSettingsStore.hideHints),r=!0)},p(t,e){512&e&&s!==(s=t[9]("evahelper.widget.hideHints")+"")&&set_data(n,s)},d(t){t&&detach(e),r=!1,i()}}}function create_default_slot$1(t){let e,n,r,i,s=replaceLocalesGag(t[9]("evahelper.widget.hideHintsAndIcon"),t[6])+"";return{c(){e=element("div"),n=text(s),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var r=children(e);n=claim_text(r,s),r.forEach(detach),this.h()},h(){attr(e,"class","message welcome-message tooltip-message svelte-8jwq71")},m(t,s){insert_hydration(t,e,s),append_hydration(e,n),r||(i=listen(e,"click",widgetSettingsStore.hideHintsAndIcon),r=!0)},p(t,e){576&e&&s!==(s=replaceLocalesGag(t[9]("evahelper.widget.hideHintsAndIcon"),t[6])+"")&&set_data(n,s)},d(t){t&&detach(e),r=!1,i()}}}function create_if_block_1$1(t){let e,n,r,i;return{c(){e=element("div"),n=text(t[5]),this.h()},l(r){e=claim_element(r,"DIV",{class:!0});var i=children(e);n=claim_text(i,t[5]),i.forEach(detach),this.h()},h(){attr(e,"class","message welcome-message svelte-8jwq71"),toggle_class(e,"welcome-message-mirrored",t[4])},m(s,a){insert_hydration(s,e,a),append_hydration(e,n),r||(i=listen(e,"click",t[11]),r=!0)},p(t,r){32&r&&set_data(n,t[5]),16&r&&toggle_class(e,"welcome-message-mirrored",t[4])},d(t){t&&detach(e),r=!1,i()}}}function create_fragment$3(t){let e,n,r,i,s,a=t[2]&&create_if_block$3(t);return{c(){e=element("div"),n=element("div"),a&&a.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,id:!0});var r=children(e);n=claim_element(r,"DIV",{class:!0});var i=children(n);a&&a.l(i),i.forEach(detach),r.forEach(detach),this.h()},h(){attr(n,"class","hints-form-inner svelte-8jwq71"),attr(e,"class","hints-form svelte-8jwq71"),attr(e,"id","evahelp-ai-hints"),toggle_class(e,"hints-form-center",t[3])},m(o,l){insert_hydration(o,e,l),append_hydration(e,n),a&&a.m(n,null),r=!0,i||(s=[listen(n,"click",t[12](!1)),listen(n,"click_outside",t[12](!1)),action_destroyer(clickOutside.call(null,n))],i=!0)},p(t,[i]){t[2]?a?(a.p(t,i),4&i&&transition_in(a,1)):(a=create_if_block$3(t),a.c(),transition_in(a,1),a.m(n,null)):a&&(group_outros(),transition_out(a,1,1,(()=>{a=null})),check_outros()),(!r||8&i)&&toggle_class(e,"hints-form-center",t[3])},i(t){r||(transition_in(a),r=!0)},o(t){transition_out(a),r=!1},d(t){t&&detach(e),a&&a.d(),i=!1,run_all(s)}}}function instance$3(e,n,r){let i,s,a,o,l,c,h,p,d,u;component_subscribe(e,widgetSettingsStore,(t=>r(13,d=t))),component_subscribe(e,t,(t=>r(9,u=t)));const f=createEventDispatcher();let m=!1;return e.$$.update=()=>{8192&e.$$.dirty&&r(8,i=d.settings.shadowColor),8192&e.$$.dirty&&r(7,s=d.settings.color),8192&e.$$.dirty&&r(6,a=d.settings.botName),8192&e.$$.dirty&&r(5,o=d.settings.miniWelcomeMessage),8192&e.$$.dirty&&r(0,l=chooseRandomValueFromList(d.settings.hints)),8192&e.$$.dirty&&r(4,c="BOTTOM_LEFT"===d.settings?.position?.align),8192&e.$$.dirty&&r(3,h="BOTTOM_CENTER"===d.settings?.position?.align),8193&e.$$.dirty&&r(2,p=l&&d.isVisibleHints)},[l,m,p,h,c,o,a,s,i,u,()=>{f("question-click",{callback:()=>{setTimeout((()=>sendNewMessage(l)),500)}})},()=>{f("question-click")},t=>()=>{r(1,m=t)},d]}class Hints extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$3,create_fragment$3,not_equal,{})}}function create_if_block$2(t){let e,n,r,i,s,a,o,l,c,h,p,d,u,f,m,g=replaceLocalesGag(t[7]("evahelper.widget.showEva"),t[4])+"",y=replaceLocalesGag(t[7]("evahelper.widget.showEvaAndHints"),t[4])+"";return{c(){e=element("div"),n=element("div"),r=element("div"),i=text(g),s=space(),a=element("div"),o=text(y),l=space(),c=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var h=children(e);n=claim_element(h,"DIV",{class:!0});var p=children(n);r=claim_element(p,"DIV",{class:!0});var d=children(r);i=claim_text(d,g),d.forEach(detach),s=claim_space(p),a=claim_element(p,"DIV",{class:!0});var u=children(a);o=claim_text(u,y),u.forEach(detach),p.forEach(detach),l=claim_space(h),c=claim_element(h,"DIV",{class:!0,style:!0}),children(c).forEach(detach),h.forEach(detach),this.h()},h(){attr(r,"class","showOption svelte-51j7j3"),toggle_class(r,"showOption-mirrored",t[2]),attr(a,"class","showOption svelte-51j7j3"),toggle_class(a,"showOption-mirrored",t[2]),attr(n,"class","showOptionContainer svelte-51j7j3"),toggle_class(n,"hidden",t[1]),toggle_class(n,"nonClickable",!t[0]),toggle_class(n,"toggler-fly-out",!t[0]&&!t[2]),toggle_class(n,"toggler-fly-out-mirrored",!t[0]&&t[2]),toggle_class(n,"showOptionContainer-mirrored",t[2]),attr(c,"class",h=null_to_empty("circle "+(t[0]?"":"shadowAnimated"))+" svelte-51j7j3"),set_style(c,"--color",t[5]),set_style(c,"--shadowColor",t[3]),attr(e,"class","ring-container svelte-51j7j3")},m(h,p){insert_hydration(h,e,p),append_hydration(e,n),append_hydration(n,r),append_hydration(r,i),append_hydration(n,s),append_hydration(n,a),append_hydration(a,o),append_hydration(e,l),append_hydration(e,c),u=!0,f||(m=[listen(r,"click",t[10]),listen(a,"click",t[11]),listen(e,"mouseenter",t[8]),listen(e,"mouseleave",t[9])],f=!0)},p(t,e){(!u||144&e)&&g!==(g=replaceLocalesGag(t[7]("evahelper.widget.showEva"),t[4])+"")&&set_data(i,g),(!u||4&e)&&toggle_class(r,"showOption-mirrored",t[2]),(!u||144&e)&&y!==(y=replaceLocalesGag(t[7]("evahelper.widget.showEvaAndHints"),t[4])+"")&&set_data(o,y),(!u||4&e)&&toggle_class(a,"showOption-mirrored",t[2]),(!u||2&e)&&toggle_class(n,"hidden",t[1]),(!u||1&e)&&toggle_class(n,"nonClickable",!t[0]),(!u||5&e)&&toggle_class(n,"toggler-fly-out",!t[0]&&!t[2]),(!u||5&e)&&toggle_class(n,"toggler-fly-out-mirrored",!t[0]&&t[2]),(!u||4&e)&&toggle_class(n,"showOptionContainer-mirrored",t[2]),(!u||1&e&&h!==(h=null_to_empty("circle "+(t[0]?"":"shadowAnimated"))+" svelte-51j7j3"))&&attr(c,"class",h),(!u||32&e)&&set_style(c,"--color",t[5]),(!u||8&e)&&set_style(c,"--shadowColor",t[3])},i(t){u||(add_render_callback((()=>{u&&(d&&d.end(1),p=create_in_transition(e,fade,{delay:200,duration:100}),p.start())})),u=!0)},o(t){p&&p.invalidate(),d=create_out_transition(e,fade,{delay:0,duration:100}),u=!1},d(t){t&&detach(e),t&&d&&d.end(),f=!1,run_all(m)}}}function create_fragment$2(t){let e,n,r=t[6]&&create_if_block$2(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,i){r&&r.m(t,i),insert_hydration(t,e,i),n=!0},p(t,[n]){t[6]?r?(r.p(t,n),64&n&&transition_in(r,1)):(r=create_if_block$2(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function instance$2(e,n,r){let i,s,a,o,l,c,h;component_subscribe(e,widgetSettingsStore,(t=>r(12,c=t))),component_subscribe(e,t,(t=>r(7,h=t)));let p,d=!1,u=!1;onMount((()=>{r(1,u=!0)}));return e.$$.update=()=>{4096&e.$$.dirty&&r(6,i=c.isVisibleDot),4096&e.$$.dirty&&r(5,s=c.settings.color),4096&e.$$.dirty&&r(4,a=c.settings.botName),4096&e.$$.dirty&&r(3,o=c.settings.shadowColor),4096&e.$$.dirty&&r(2,l="BOTTOM_LEFT"===c.settings?.position?.align)},[d,u,l,o,a,s,i,h,()=>{clearTimeout(p),r(1,u=!1),r(0,d=!0)},()=>{r(1,u=!1),clearTimeout(p),p=setTimeout((()=>{r(0,d=!1)}),500)},()=>{r(0,d=!1),widgetSettingsStore.showIcon()},()=>{r(0,d=!1),widgetSettingsStore.showIconAndHints()},c]}class PulsatingDot extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$2,create_fragment$2,not_equal,{})}}function create_if_block$1(t){let e,n,r,i,s,a,o,l=t[2]&&!t[5]&&create_if_block_1(t);return r=new Eva_icon({}),{c(){l&&l.c(),e=space(),n=element("div"),create_component(r.$$.fragment),this.h()},l(t){l&&l.l(t),e=claim_space(t),n=claim_element(t,"DIV",{class:!0});var i=children(n);claim_component(r.$$.fragment,i),i.forEach(detach),this.h()},h(){attr(n,"class","eva-icon-wrapper svelte-13jjgcm")},m(i,c){l&&l.m(i,c),insert_hydration(i,e,c),insert_hydration(i,n,c),mount_component(r,n,null),s=!0,a||(o=[listen(n,"mouseenter",t[8]),listen(n,"mouseleave",t[9]),listen(n,"click",t[10])],a=!0)},p(t,n){t[2]&&!t[5]?l?(l.p(t,n),36&n&&transition_in(l,1)):(l=create_if_block_1(t),l.c(),transition_in(l,1),l.m(e.parentNode,e)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros())},i(t){s||(transition_in(l),transition_in(r.$$.fragment,t),add_render_callback((()=>{s&&(i||(i=create_bidirectional_transition(n,fade,{delay:0,duration:200},!0)),i.run(1))})),s=!0)},o(t){transition_out(l),transition_out(r.$$.fragment,t),i||(i=create_bidirectional_transition(n,fade,{delay:0,duration:200},!1)),i.run(0),s=!1},d(t){l&&l.d(t),t&&detach(e),t&&detach(n),destroy_component(r),t&&i&&i.end(),a=!1,run_all(o)}}}function create_if_block_1(t){let e,n,r;return n=new Tooltip({props:{tooltip:t[7]("evahelper.widget.hideIcon"),$$slots:{default:[create_default_slot]},$$scope:{ctx:t}}}),{c(){e=element("div"),create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"class","close-container svelte-13jjgcm"),toggle_class(e,"close-container-mirrored",t[0])},m(t,i){insert_hydration(t,e,i),mount_component(n,e,null),r=!0},p(t,i){const s={};128&i&&(s.tooltip=t[7]("evahelper.widget.hideIcon")),67108864&i&&(s.$$scope={dirty:i,ctx:t}),n.$set(s),(!r||1&i)&&toggle_class(e,"close-container-mirrored",t[0])},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){t&&detach(e),destroy_component(n)}}}function create_default_slot(t){let e,n,r,i,s,a;return n=new CloseIcon({}),{c(){e=element("div"),create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"class","close-wrapper svelte-13jjgcm")},m(r,o){insert_hydration(r,e,o),mount_component(n,e,null),i=!0,s||(a=[listen(e,"mouseenter",t[8]),listen(e,"mouseleave",t[9]),listen(e,"click",widgetSettingsStore.hideHintsAndIcon)],s=!0)},p:noop,i(t){i||(transition_in(n.$$.fragment,t),add_render_callback((()=>{i&&(r||(r=create_bidirectional_transition(e,fade,{delay:0,duration:200},!0)),r.run(1))})),i=!0)},o(t){transition_out(n.$$.fragment,t),r||(r=create_bidirectional_transition(e,fade,{delay:0,duration:200},!1)),r.run(0),i=!1},d(t){t&&detach(e),destroy_component(n),t&&r&&r.end(),s=!1,run_all(a)}}}function create_fragment$1(t){let e,n,r,i,s,a,o,l,c,h,p;add_render_callback(t[20]),r=new Hints({}),r.$on("question-click",t[10]),s=new PulsatingDot({});let d=t[6]&&create_if_block$1(t);return l=new Curtain({}),{c(){e=element("div"),n=element("div"),create_component(r.$$.fragment),i=space(),create_component(s.$$.fragment),a=space(),d&&d.c(),o=space(),create_component(l.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,id:!0,style:!0});var c=children(e);n=claim_element(c,"DIV",{class:!0});var h=children(n);claim_component(r.$$.fragment,h),i=claim_space(h),claim_component(s.$$.fragment,h),a=claim_space(h),d&&d.l(h),h.forEach(detach),c.forEach(detach),o=claim_space(t),claim_component(l.$$.fragment,t),this.h()},h(){attr(n,"class","toggle-btn svelte-13jjgcm"),toggle_class(n,"toggler-fly-out",t[1]),attr(e,"class","toggle-btn-wrapper svelte-13jjgcm"),attr(e,"id","evahelp-ai-toggle-btn"),attr(e,"style",t[4])},m(u,f){insert_hydration(u,e,f),append_hydration(e,n),mount_component(r,n,null),append_hydration(n,i),mount_component(s,n,null),append_hydration(n,a),d&&d.m(n,null),insert_hydration(u,o,f),mount_component(l,u,f),c=!0,h||(p=listen(window,"resize",t[20]),h=!0)},p(t,[r]){t[6]?d?(d.p(t,r),64&r&&transition_in(d,1)):(d=create_if_block$1(t),d.c(),transition_in(d,1),d.m(n,null)):d&&(group_outros(),transition_out(d,1,1,(()=>{d=null})),check_outros()),(!c||2&r)&&toggle_class(n,"toggler-fly-out",t[1]),(!c||16&r)&&attr(e,"style",t[4])},i(t){c||(transition_in(r.$$.fragment,t),transition_in(s.$$.fragment,t),transition_in(d),transition_in(l.$$.fragment,t),c=!0)},o(t){transition_out(r.$$.fragment,t),transition_out(s.$$.fragment,t),transition_out(d),transition_out(l.$$.fragment,t),c=!1},d(t){t&&detach(e),destroy_component(r),destroy_component(s),d&&d.d(),t&&detach(o),destroy_component(l,t),h=!1,p()}}}function instance$1(e,n,r){let i,s,a,o,l,c,h,p,d,u,f,m,g,y,_,v,b,x;component_subscribe(e,widgetSettingsStore,(t=>r(17,_=t))),component_subscribe(e,widgetRuntimeStore,(t=>r(18,v=t))),component_subscribe(e,authStore,(t=>r(19,b=t))),component_subscribe(e,t,(t=>r(7,x=t)));let E,w=!1,k=!1;onMount((()=>{c<=599&&r(2,k=!0)}));return e.$$.update=()=>{524288&e.$$.dirty&&(i=b.isSocketConnectionEstablished),262144&e.$$.dirty&&(s=v.currentPath),131072&e.$$.dirty&&(a=_.isVisibleDot),131072&e.$$.dirty&&r(6,o=_.isVisibleIcon),131072&e.$$.dirty&&r(5,l=_.isVisibleHints),131072&e.$$.dirty&&r(16,h=_.settings),65536&e.$$.dirty&&r(15,p=h?.position?.margin?.right??0),65536&e.$$.dirty&&r(14,d=h?.position?.margin?.bottom??0),65536&e.$$.dirty&&r(13,u=h?.position?.margin?.left??0),65536&e.$$.dirty&&r(12,f="BOTTOM_RIGHT"===h?.position?.align),65536&e.$$.dirty&&r(0,m="BOTTOM_LEFT"===h?.position?.align),65536&e.$$.dirty&&r(11,g="BOTTOM_CENTER"===h?.position?.align),63489&e.$$.dirty&&r(4,y=`\n  margin-right: ${p}px;\n  margin-bottom: ${d}px;\n  margin-left: ${u}px;\n  ${f?"right: 0":""};\n  ${m?"left: 0":""};\n  ${g?"right: calc(50% - 40px)":""};\n  ${m?"transform: scaleX(-1);":""}\n`)},r(3,c=0),[m,w,k,c,y,l,o,x,()=>{c<=599||a||(clearTimeout(E),E=setTimeout((()=>{r(2,k=!0)}),1500))},()=>{c<=599||(clearTimeout(E),E=setTimeout((()=>{r(2,k=!1)}),1500))},async t=>{r(1,w=!0),setTimeout((()=>{widgetRuntimeStore.setChatVisibility(!0)}),200),i||await connectWebSocket(s),t?.detail?.callback&&t.detail.callback()},g,f,u,d,p,h,_,v,b,function(){r(3,c=window.innerWidth)}]}class ToggleButton extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$1,create_fragment$1,not_equal,{})}}function create_catch_block(t){return{c:noop,l:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_then_block(t){let e,n,r=t[1]&&create_if_block(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,i){r&&r.m(t,i),insert_hydration(t,e,i),n=!0},p(t,n){t[1]?r?(r.p(t,n),2&n&&transition_in(r,1)):(r=create_if_block(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function create_if_block(t){let e,n,r;var i=t[0];return i&&(n=construct_svelte_component(i,{})),{c(){e=element("div"),n&&create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{id:!0,class:!0});var r=children(e);n&&claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"id","evahelper-ai"),attr(e,"class","svelte-oy59kw")},m(t,i){insert_hydration(t,e,i),n&&mount_component(n,e,null),r=!0},p(t,r){if(1&r&&i!==(i=t[0])){if(n){group_outros();const t=n;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}i?(n=construct_svelte_component(i,{}),create_component(n.$$.fragment),transition_in(n.$$.fragment,1),mount_component(n,e,null)):n=null}},i(t){r||(n&&transition_in(n.$$.fragment,t),r=!0)},o(t){n&&transition_out(n.$$.fragment,t),r=!1},d(t){t&&detach(e),n&&destroy_component(n)}}}function create_pending_block(t){return{c:noop,l:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_fragment(t){let e,n,r,i,s,a,o,l,c,h,p,d={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:11,blocks:[,,,]};return handle_promise(t[3],d),{c(){e=element("meta"),n=element("link"),r=element("link"),i=element("link"),s=element("link"),a=element("link"),o=new HtmlTagHydration(!1),l=empty(),c=space(),h=empty(),d.block.c(),this.h()},l(t){const p=head_selector("svelte-ghabe5",document.head);e=claim_element(p,"META",{content:!0,name:!0}),n=claim_element(p,"LINK",{href:!0,rel:!0}),r=claim_element(p,"LINK",{href:!0,rel:!0}),i=claim_element(p,"LINK",{crossorigin:!0,href:!0,rel:!0}),s=claim_element(p,"LINK",{href:!0,rel:!0}),a=claim_element(p,"LINK",{as:!0,href:!0,onload:!0,rel:!0}),o=claim_html_tag(p,!1),l=empty(),p.forEach(detach),c=claim_space(t),h=empty(),d.block.l(t),this.h()},h(){attr(e,"content","width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover, user-scalable=no"),attr(e,"name","viewport"),attr(n,"href","https://cdnjs.cloudflare.com"),attr(n,"rel","dns-prefetch"),attr(r,"href","https://fonts.googleapis.com"),attr(r,"rel","preconnect"),attr(i,"crossorigin",""),attr(i,"href","https://fonts.gstatic.com"),attr(i,"rel","preconnect"),attr(s,"href","https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,400;0,500;0,700;1,400&display=swap"),attr(s,"rel","stylesheet"),attr(a,"as","style"),attr(a,"href",t[2]),attr(a,"onload","this.rel='stylesheet'"),attr(a,"rel","preload"),o.a=l},m(t,u){append_hydration(document.head,e),append_hydration(document.head,n),append_hydration(document.head,r),append_hydration(document.head,i),append_hydration(document.head,s),append_hydration(document.head,a),o.m(github$1,document.head),append_hydration(document.head,l),insert_hydration(t,c,u),insert_hydration(t,h,u),d.block.m(t,d.anchor=u),d.mount=()=>h.parentNode,d.anchor=h,p=!0},p(e,[n]){update_await_block_branch(d,t=e,n)},i(t){p||(transition_in(d.block),p=!0)},o(t){for(let t=0;t<3;t+=1){transition_out(d.blocks[t])}p=!1},d(t){detach(e),detach(n),detach(r),detach(i),detach(s),detach(a),detach(l),t&&o.d(),t&&detach(c),t&&detach(h),d.block.d(t),d.token=null,d=null}}}function instance(t,e,n){let r,i,s,a,o,l,c;component_subscribe(t,widgetRuntimeStore,(t=>n(6,o=t))),component_subscribe(t,widgetSettingsStore,(t=>n(7,l=t))),component_subscribe(t,authStore,(t=>n(8,c=t)));const h=init();let p=!1;const d=async t=>{await init(),widgetRuntimeStore.setCurrentPath(t);const e=r;return n(4,p=e),e};return onMount((async()=>{await d(window.location.pathname);const t=async()=>{await d(window.location.pathname)};window.addEventListener("popstate",t);const e=e=>{const n=history[e];history[e]=(...e)=>{n.apply(history,e),t()}};return e("pushState"),e("replaceState"),()=>{window.removeEventListener("popstate",t)}})),t.$$.update=()=>{128&t.$$.dirty&&(r=l.settings?.isActive),272&t.$$.dirty&&n(1,i=c.areWidgetSettingsReceived&&p),128&t.$$.dirty&&n(5,s=l.settings?.inputInitialState),96&t.$$.dirty&&n(0,a=o.isVisible?MessageForm:"COLLAPSED"===s?CollapsedWidget:ToggleButton)},[a,i,"https://evahelper.ru/build/fc5fe056ab1726426a8307ffa7269129214723fd.css",h,p,s,o,l,c]}class Index extends SvelteComponent{constructor(t){super(),init$1(this,t,instance,create_fragment,not_equal,{})}}translateAndSaveLanguage();const app=new Index({target:document.body});export{app as default};
//# sourceMappingURL=main.js.map
